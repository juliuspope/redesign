/* jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(x){function K(i,h){var d,b,f,g=i.nodeName.toLowerCase();return"area"===g?(d=i.parentNode,b=d.name,i.href&&b&&"map"===d.nodeName.toLowerCase()?(f=x("img[usemap='#"+b+"']")[0],!!f&&C(f)):!1):(/^(input|select|textarea|button|object)$/.test(g)?!i.disabled:"a"===g?i.href||h:h)&&C(i)}function C(a){return x.expr.filters.visible(a)&&!x(a).parents().addBack().filter(function(){return"hidden"===x.css(this,"visibility")}).length}function J(a){for(var d,b;a.length&&a[0]!==document;){if(d=a.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b)){return b}a=a.parent()}return 0}function F(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},x.extend(this._defaults,this.regional[""]),this.regional.en=x.extend(!0,{},this.regional[""]),this.regional["en-US"]=x.extend(!0,{},this.regional.en),this.dpDiv=j(x("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function j(b){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(a,"mouseout",function(){x(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&x(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&x(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",G)}function G(){x.datepicker._isDisabledDatepicker(M.inline?M.dpDiv.parent()[0]:M.input[0])||(x(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),x(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&x(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&x(this).addClass("ui-datepicker-next-hover"))}function I(d,a){x.extend(d,a);for(var b in a){null==a[b]&&(d[b]=a[b])}return d}function B(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}x.ui=x.ui||{},x.extend(x.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),x.fn.extend({scrollParent:function(h){var d=this.css("position"),g="absolute"===d,f=h?/(auto|scroll|hidden)/:/(auto|scroll)/,b=this.parents().filter(function(){var a=x(this);return g&&"static"===a.css("position")?!1:f.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==d&&b.length?b:x(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&x(this).removeAttr("id")})}}),x.extend(x.expr[":"],{data:x.expr.createPseudo?x.expr.createPseudo(function(a){return function(b){return !!x.data(b,a)}}):function(d,a,b){return !!x.data(d,b[3])},focusable:function(a){return K(a,!isNaN(x.attr(a,"tabindex")))},tabbable:function(a){var d=x.attr(a,"tabindex"),b=isNaN(d);return(b||d>=0)&&K(a,!b)}}),x("<a>").outerWidth(1).jquery||x.each(["Width","Height"],function(l,d){function h(p,n,o,m){return x.each(f,function(){n-=parseFloat(x.css(p,"padding"+this))||0,o&&(n-=parseFloat(x.css(p,"border"+this+"Width"))||0),m&&(n-=parseFloat(x.css(p,"margin"+this))||0)}),n}var f="Width"===d?["Left","Right"]:["Top","Bottom"],b=d.toLowerCase(),g={innerWidth:x.fn.innerWidth,innerHeight:x.fn.innerHeight,outerWidth:x.fn.outerWidth,outerHeight:x.fn.outerHeight};x.fn["inner"+d]=function(a){return void 0===a?g["inner"+d].call(this):this.each(function(){x(this).css(b,h(this,a)+"px")})},x.fn["outer"+d]=function(i,a){return"number"!=typeof i?g["outer"+d].call(this,i):this.each(function(){x(this).css(b,h(this,i,!0,a)+"px")})}}),x.fn.addBack||(x.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),x("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(x.fn.removeData=function(a){return function(b){return arguments.length?a.call(this,x.camelCase(b)):a.call(this)}}(x.fn.removeData)),x.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),x.fn.extend({focus:function(a){return function(b,d){return"number"==typeof b?this.each(function(){var f=this;setTimeout(function(){x(f).focus(),d&&d.call(f)},b)}):a.apply(this,arguments)}}(x.fn.focus),disableSelection:function(){var a="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(b){b.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(f){if(void 0!==f){return this.css("zIndex",f)}if(this.length){for(var a,d,b=x(this[0]);b.length&&b[0]!==document;){if(a=b.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(d=parseInt(b.css("zIndex"),10),!isNaN(d)&&0!==d)){return d}b=b.parent()}}return 0}}),x.ui.plugin={add:function(h,d,g){var f,b=x.ui[h].prototype;for(f in g){b.plugins[f]=b.plugins[f]||[],b.plugins[f].push([d,g[f]])}},call:function(d,l,f,h){var g,b=d.plugins[l];if(b&&(h||d.element[0].parentNode&&11!==d.element[0].parentNode.nodeType)){for(g=0;b.length>g;g++){d.options[b[g][0]]&&b[g][1].apply(d.element,f)}}}};var D=0,L=Array.prototype.slice;x.cleanData=function(a){return function(d){var h,f,b;for(b=0;null!=(f=d[b]);b++){try{h=x._data(f,"events"),h&&h.remove&&x(f).triggerHandler("remove")}catch(g){}}a(d)}}(x.cleanData),x.widget=function(y,f,v){var m,b,p,u,d={},g=y.split(".")[0];return y=y.split(".")[1],m=g+"-"+y,v||(v=f,f=x.Widget),x.expr[":"][m.toLowerCase()]=function(a){return !!x.data(a,m)},x[g]=x[g]||{},b=x[g][y],p=x[g][y]=function(a,h){return this._createWidget?(arguments.length&&this._createWidget(a,h),void 0):new p(a,h)},x.extend(p,b,{version:v.version,_proto:x.extend({},v),_childConstructors:[]}),u=new f,u.options=x.widget.extend({},u.options),x.each(v,function(h,a){return x.isFunction(a)?(d[h]=function(){var i=function(){return f.prototype[h].apply(this,arguments)},l=function(n){return f.prototype[h].apply(this,n)};return function(){var s,o=this._super,n=this._superApply;return this._super=i,this._superApply=l,s=a.apply(this,arguments),this._super=o,this._superApply=n,s}}(),void 0):(d[h]=a,void 0)}),p.prototype=x.widget.extend(u,{widgetEventPrefix:b?u.widgetEventPrefix||y:y},d,{constructor:p,namespace:g,widgetName:y,widgetFullName:m}),b?(x.each(b._childConstructors,function(l,a){var h=a.prototype;x.widget(h.namespace+"."+h.widgetName,p,a._proto)}),delete b._childConstructors):f._childConstructors.push(p),x.widget.bridge(y,p),p},x.widget.extend=function(l){for(var d,h,f=L.call(arguments,1),b=0,g=f.length;g>b;b++){for(d in f[b]){h=f[b][d],f[b].hasOwnProperty(d)&&void 0!==h&&(l[d]=x.isPlainObject(h)?x.isPlainObject(l[d])?x.widget.extend({},l[d],h):x.widget.extend({},h):h)}}return l},x.widget.bridge=function(d,a){var b=a.prototype.widgetFullName||d;x.fn[d]=function(g){var f="string"==typeof g,h=L.call(arguments,1),i=this;return f?this.each(function(){var m,l=x.data(this,b);return"instance"===g?(i=l,!1):l?x.isFunction(l[g])&&"_"!==g.charAt(0)?(m=l[g].apply(l,h),m!==l&&void 0!==m?(i=m&&m.jquery?i.pushStack(m.get()):m,!1):void 0):x.error("no such method '"+g+"' for "+d+" widget instance"):x.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+g+"'")}):(h.length&&(g=x.widget.extend.apply(null,[g].concat(h))),this.each(function(){var l=x.data(this,b);l?(l.option(g||{}),l._init&&l._init()):x.data(this,b,new a(g,this))})),i}},x.Widget=function(){},x.Widget._childConstructors=[],x.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,a){a=x(a||this.defaultElement||this)[0],this.element=x(a),this.uuid=D++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=x(),this.hoverable=x(),this.focusable=x(),a!==this&&(x.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(d){d.target===a&&this.destroy()}}),this.document=x(a.style?a.ownerDocument:a.document||a),this.window=x(this.document[0].defaultView||this.document[0].parentWindow)),this.options=x.widget.extend({},this.options,this._getCreateOptions(),b),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:x.noop,_getCreateEventData:x.noop,_create:x.noop,_init:x.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(x.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:x.noop,widget:function(){return this.element},option:function(l,d){var h,f,b,g=l;if(0===arguments.length){return x.widget.extend({},this.options)}if("string"==typeof l){if(g={},h=l.split("."),l=h.shift(),h.length){for(f=g[l]=x.widget.extend({},this.options[l]),b=0;h.length-1>b;b++){f[h[b]]=f[h[b]]||{},f=f[h[b]]}if(l=h.pop(),1===arguments.length){return void 0===f[l]?null:f[l]}f[l]=d}else{if(1===arguments.length){return void 0===this.options[l]?null:this.options[l]}g[l]=d}}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a){this._setOption(b,a[b])}return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(h,d,g){var f,b=this;"boolean"!=typeof h&&(g=d,d=h,h=!1),g?(d=f=x(d),this.bindings=this.bindings.add(d)):(g=d,d=this.element,f=this.widget()),x.each(g,function(p,m){function n(){return h||b.options.disabled!==!0&&!x(this).hasClass("ui-state-disabled")?("string"==typeof m?b[m]:m).apply(b,arguments):void 0}"string"!=typeof m&&(n.guid=m.guid=m.guid||n.guid||x.guid++);var a=p.match(/^([\w:-]*)\s*(.*)$/),i=a[1]+b.eventNamespace,t=a[2];t?f.delegate(t,i,n):d.bind(i,n)})},_off:function(b,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.unbind(a).undelegate(a),this.bindings=x(this.bindings.not(b).get()),this.focusable=x(this.focusable.not(b).get()),this.hoverable=x(this.hoverable.not(b).get())},_delay:function(a,f){function b(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(b,f||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(b){x(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){x(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(b){x(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){x(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(l,d,h){var f,b,g=this.options[l];if(h=h||{},d=x.Event(d),d.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase(),d.target=this.element[0],b=d.originalEvent){for(f in b){f in d||(d[f]=b[f])}}return this.element.trigger(d,h),!(x.isFunction(g)&&g.apply(this.element[0],[d].concat(h))===!1||d.isDefaultPrevented())}},x.each({show:"fadeIn",hide:"fadeOut"},function(b,a){x.Widget.prototype["_"+b]=function(i,f,d){"string"==typeof f&&(f={effect:f});var g,h=f?f===!0||"number"==typeof f?a:f.effect||a:b;f=f||{},"number"==typeof f&&(f={duration:f}),g=!x.isEmptyObject(f),f.complete=d,f.delay&&i.delay(f.delay),g&&x.effects&&x.effects.effect[h]?i[b](f):h!==b&&i[h]?i[h](f.duration,f.easing,d):i.queue(function(l){x(this)[b](),d&&d.call(i[0]),l()})}}),x.widget;var w=!1;x(document).mouseup(function(){w=!1}),x.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){return !0===x.data(b.target,a.widgetName+".preventClickEvent")?(x.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(f){if(!w){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(f),this._mouseDownEvent=f;var a=this,d=1===f.which,b="string"==typeof this.options.cancel&&f.target.nodeName?x(f.target).closest(this.options.cancel).length:!1;return d&&!b&&this._mouseCapture(f)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=this._mouseStart(f)!==!1,!this._mouseStarted)?(f.preventDefault(),!0):(!0===x.data(f.target,this.widgetName+".preventClickEvent")&&x.removeData(f.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return a._mouseMove(g)},this._mouseUpDelegate=function(g){return a._mouseUp(g)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),f.preventDefault(),w=!0,!0)):!0}},_mouseMove:function(a){if(this._mouseMoved){if(x.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button){return this._mouseUp(a)}if(!a.which){return this._mouseUp(a)}}return(a.which||a.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&x.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),w=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}}),function(){function V(a,f,d){return[parseFloat(a[0])*(S.test(a[0])?f/100:1),parseFloat(a[1])*(S.test(a[1])?d/100:1)]}function O(d,a){return parseInt(x.css(d,a),10)||0}function U(d){var a=d[0];return 9===a.nodeType?{width:d.width(),height:d.height(),offset:{top:0,left:0}}:x.isWindow(a)?{width:d.width(),height:d.height(),offset:{top:d.scrollTop(),left:d.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:d.outerWidth(),height:d.outerHeight(),offset:d.offset()}}x.ui=x.ui||{};var Q,b,R=Math.max,T=Math.abs,y=Math.round,P=/left|center|right/,W=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,g=/^\w+/,S=/%$/,v=x.fn.position;x.position={scrollbarWidth:function(){if(void 0!==Q){return Q}var l,f,h=x("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=h.children()[0];return x("body").append(h),l=d.offsetWidth,h.css("overflow","scroll"),f=d.offsetWidth,l===f&&(f=h[0].clientWidth),h.remove(),Q=l-f},getScrollInfo:function(o){var f=o.isWindow||o.isDocument?"":o.element.css("overflow-x"),l=o.isWindow||o.isDocument?"":o.element.css("overflow-y"),h="scroll"===f||"auto"===f&&o.width<o.element[0].scrollWidth,d="scroll"===l||"auto"===l&&o.height<o.element[0].scrollHeight;return{width:d?x.position.scrollbarWidth():0,height:h?x.position.scrollbarWidth():0}},getWithinInfo:function(h){var a=x(h||window),f=x.isWindow(a[0]),d=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:f,isDocument:d,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:f||d?a.width():a.outerWidth(),height:f||d?a.height():a.outerHeight()}}},x.fn.position=function(l){if(!l||!l.of){return v.apply(this,arguments)}l=x.extend({},l);var o,i,f,t,Y,d,a=x(l.of),X=x.position.getWithinInfo(l.within),u=x.position.getScrollInfo(X),h=(l.collision||"flip").split(" "),s={};return d=U(a),a[0].preventDefault&&(l.at="left top"),i=d.width,f=d.height,t=d.offset,Y=x.extend({},t),x.each(["my","at"],function(){var n,Z,p=(l[this]||"").split(" ");1===p.length&&(p=P.test(p[0])?p.concat(["center"]):W.test(p[0])?["center"].concat(p):["center","center"]),p[0]=P.test(p[0])?p[0]:"center",p[1]=W.test(p[1])?p[1]:"center",n=m.exec(p[0]),Z=m.exec(p[1]),s[this]=[n?n[0]:0,Z?Z[0]:0],l[this]=[g.exec(p[0])[0],g.exec(p[1])[0]]}),1===h.length&&(h[1]=h[0]),"right"===l.at[0]?Y.left+=i:"center"===l.at[0]&&(Y.left+=i/2),"bottom"===l.at[1]?Y.top+=f:"center"===l.at[1]&&(Y.top+=f/2),o=V(s.at,i,f),Y.left+=o[0],Y.top+=o[1],this.each(function(){var af,ad,ah=x(this),aa=ah.outerWidth(),p=ah.outerHeight(),ac=O(this,"marginLeft"),n=O(this,"marginTop"),ab=aa+ac+O(this,"marginRight")+u.width,ag=p+n+O(this,"marginBottom")+u.height,ae=x.extend({},Y),Z=V(s.my,ah.outerWidth(),ah.outerHeight());"right"===l.my[0]?ae.left-=aa:"center"===l.my[0]&&(ae.left-=aa/2),"bottom"===l.my[1]?ae.top-=p:"center"===l.my[1]&&(ae.top-=p/2),ae.left+=Z[0],ae.top+=Z[1],b||(ae.left=y(ae.left),ae.top=y(ae.top)),af={marginLeft:ac,marginTop:n},x.each(["left","top"],function(aj,ai){x.ui.position[h[aj]]&&x.ui.position[h[aj]][ai](ae,{targetWidth:i,targetHeight:f,elemWidth:aa,elemHeight:p,collisionPosition:af,collisionWidth:ab,collisionHeight:ag,offset:[o[0]+Z[0],o[1]+Z[1]],my:l.my,at:l.at,within:X,elem:ah})}),l.using&&(ad=function(aj){var an=t.left-ae.left,al=an+i-aa,am=t.top-ae.top,ai=am+f-p,ak={target:{element:a,left:t.left,top:t.top,width:i,height:f},element:{element:ah,left:ae.left,top:ae.top,width:aa,height:p},horizontal:0>al?"left":an>0?"right":"center",vertical:0>ai?"top":am>0?"bottom":"middle"};aa>i&&i>T(an+al)&&(ak.horizontal="center"),p>f&&f>T(am+ai)&&(ak.vertical="middle"),ak.important=R(T(an),T(al))>R(T(am),T(ai))?"horizontal":"vertical",l.using.call(this,aj,ak)}),ah.offset(x.extend(ae,{using:ad}))})},x.ui.position={fit:{left:function(f,aa){var p,Z=aa.within,X=Z.isWindow?Z.scrollLeft:Z.offset.left,d=Z.width,Y=f.left-aa.collisionPosition.marginLeft,o=X-Y,u=Y+aa.collisionWidth-d-X;aa.collisionWidth>d?o>0&&0>=u?(p=f.left+o+aa.collisionWidth-d-X,f.left+=o-p):f.left=u>0&&0>=o?X:o>u?X+d-aa.collisionWidth:X:o>0?f.left+=o:u>0?f.left-=u:f.left=R(f.left-Y,f.left)},top:function(f,aa){var p,Z=aa.within,X=Z.isWindow?Z.scrollTop:Z.offset.top,d=aa.within.height,Y=f.top-aa.collisionPosition.marginTop,o=X-Y,u=Y+aa.collisionHeight-d-X;aa.collisionHeight>d?o>0&&0>=u?(p=f.top+o+aa.collisionHeight-d-X,f.top+=o-p):f.top=u>0&&0>=o?X:o>u?X+d-aa.collisionHeight:X:o>0?f.top+=o:u>0?f.top-=u:f.top=R(f.top-Y,f.top)}},flip:{left:function(aa,aj){var ad,ai,af=aj.within,X=af.offset.left+af.scrollLeft,ag=af.width,ac=af.isWindow?af.scrollLeft:af.offset.left,ae=aa.left-aj.collisionPosition.marginLeft,ak=ae-ac,Z=ae+aj.collisionWidth-ag-ac,Y="left"===aj.my[0]?-aj.elemWidth:"right"===aj.my[0]?aj.elemWidth:0,ah="left"===aj.at[0]?aj.targetWidth:"right"===aj.at[0]?-aj.targetWidth:0,ab=-2*aj.offset[0];0>ak?(ad=aa.left+Y+ah+ab+aj.collisionWidth-ag-X,(0>ad||T(ak)>ad)&&(aa.left+=Y+ah+ab)):Z>0&&(ai=aa.left-aj.collisionPosition.marginLeft+Y+ah+ab-ac,(ai>0||Z>T(ai))&&(aa.left+=Y+ah+ab))},top:function(aa,ak){var ad,aj,ag=ak.within,X=ag.offset.top+ag.scrollTop,ah=ag.height,ac=ag.isWindow?ag.scrollTop:ag.offset.top,ae=aa.top-ak.collisionPosition.marginTop,al=ae-ac,Z=ae+ak.collisionHeight-ah-ac,Y="top"===ak.my[1],ai=Y?-ak.elemHeight:"bottom"===ak.my[1]?ak.elemHeight:0,ab="top"===ak.at[1]?ak.targetHeight:"bottom"===ak.at[1]?-ak.targetHeight:0,af=-2*ak.offset[1];0>al?(aj=aa.top+ai+ab+af+ak.collisionHeight-ah-X,(0>aj||T(al)>aj)&&(aa.top+=ai+ab+af)):Z>0&&(ad=aa.top-ak.collisionPosition.marginTop+ai+ab+af-ac,(ad>0||Z>T(ad))&&(aa.top+=ai+ab+af))}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},function(){var X,d,u,f,l,p=document.getElementsByTagName("body")[0],a=document.createElement("div");X=document.createElement(p?"div":"body"),u={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},p&&x.extend(u,{position:"absolute",left:"-1000px",top:"-1000px"});for(l in u){X.style[l]=u[l]}X.appendChild(a),d=p||document.documentElement,d.insertBefore(X,d.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",f=x(a).offset().left,b=f>10&&11>f,X.innerHTML="",d.removeChild(X)}()}(),x.ui.position,x.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=x(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),a.collapsible||a.active!==!1&&null!=a.active||(a.active=0),this._processPanels(),0>a.active&&(a.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():x()}},_createIcons:function(){var a=this.options.icons;a&&(x("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?(this._activate(b),void 0):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&(this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b)),void 0)},_keydown:function(h){if(!h.altKey&&!h.ctrlKey){var d=x.ui.keyCode,g=this.headers.length,f=this.headers.index(h.target),b=!1;switch(h.keyCode){case d.RIGHT:case d.DOWN:b=this.headers[(f+1)%g];break;case d.LEFT:case d.UP:b=this.headers[(f-1+g)%g];break;case d.SPACE:case d.ENTER:this._eventHandler(h);break;case d.HOME:b=this.headers[0];break;case d.END:b=this.headers[g-1]}b&&(x(h.target).attr("tabIndex",-1),x(b).attr("tabIndex",0),b.focus(),h.preventDefault())}},_panelKeyDown:function(a){a.keyCode===x.ui.keyCode.UP&&a.ctrlKey&&x(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels(),a.active===!1&&a.collapsible===!0||!this.headers.length?(a.active=!1,this.active=x()):a.active===!1?this._activate(0):this.active.length&&!x.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=x()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var f,a=this.options,d=a.heightStyle,b=this.element.parent();this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var m=x(this),g=m.uniqueId().attr("id"),l=m.next(),h=l.uniqueId().attr("id");m.attr("aria-controls",h),l.attr("aria-labelledby",g)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(a.event),"fill"===d?(f=b.height(),this.element.siblings(":visible").each(function(){var g=x(this),h=g.css("position");"absolute"!==h&&"fixed"!==h&&(f-=g.outerHeight(!0))}),this.headers.each(function(){f-=x(this).outerHeight(!0)}),this.headers.next().each(function(){x(this).height(Math.max(0,f-x(this).innerHeight()+x(this).height()))}).css("overflow","auto")):"auto"===d&&(f=0,this.headers.next().each(function(){f=Math.max(f,x(this).css("height","").height())}).height(f))},_activate:function(b){var a=this._findActive(b)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:x.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):x()},_setupEvents:function(b){var a={keydown:"_keydown"};b&&x.each(b.split(" "),function(d,f){a[f]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,a),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(y){var f=this.options,v=this.active,m=x(y.currentTarget),b=m[0]===v[0],p=b&&f.collapsible,u=p?x():m.next(),d=v.next(),g={oldHeader:v,oldPanel:d,newHeader:p?x():m,newPanel:u};y.preventDefault(),b&&!f.collapsible||this._trigger("beforeActivate",y,g)===!1||(f.active=p?!1:this.headers.index(m),this.active=b?x():m,this._toggle(g),v.removeClass("ui-accordion-header-active ui-state-active"),f.icons&&v.children(".ui-accordion-header-icon").removeClass(f.icons.activeHeader).addClass(f.icons.header),b||(m.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),f.icons&&m.children(".ui-accordion-header-icon").removeClass(f.icons.header).addClass(f.icons.activeHeader),m.next().addClass("ui-accordion-content-active")))},_toggle:function(d){var a=d.newPanel,b=this.prevShow.length?this.prevShow:d.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=a,this.prevHide=b,this.options.animate?this._animate(a,b,d):(b.hide(),a.show(),this._toggleComplete(d)),b.attr({"aria-hidden":"true"}),b.prev().attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&b.length?b.prev().attr({tabIndex:-1,"aria-expanded":"false"}):a.length&&this.headers.filter(function(){return 0===parseInt(x(this).attr("tabIndex"),10)}).attr("tabIndex",-1),a.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(m,S,v){var R,O,b,P=this,Q=0,p=m.css("box-sizing"),y=m.length&&(!S.length||m.index()<S.index()),T=this.options.animate||{},g=y&&T.down||T,f=function(){P._toggleComplete(v)};return"number"==typeof g&&(b=g),"string"==typeof g&&(O=g),O=O||g.easing||T.easing,b=b||g.duration||T.duration,S.length?m.length?(R=m.show().outerHeight(),S.animate(this.hideProps,{duration:b,easing:O,step:function(a,d){d.now=Math.round(a)}}),m.hide().animate(this.showProps,{duration:b,easing:O,complete:f,step:function(a,d){d.now=Math.round(a),"height"!==d.prop?"content-box"===p&&(Q+=d.now):"content"!==P.options.heightStyle&&(d.now=Math.round(R-S.outerHeight()-Q),Q=0)}}),void 0):S.animate(this.hideProps,b,O,f):m.animate(this.showProps,b,O,f)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),x.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var a=x(b.target);!this.mouseHandled&&a.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),a.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&x(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var a=x(b.currentTarget);a.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(b,a)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,d){var b=this.active||this.element.find(this.options.items).eq(0);d||this.focus(a,b)},blur:function(a){this._delay(function(){x.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=x(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(l){var d,h,f,b,g=!0;switch(l.keyCode){case x.ui.keyCode.PAGE_UP:this.previousPage(l);break;case x.ui.keyCode.PAGE_DOWN:this.nextPage(l);break;case x.ui.keyCode.HOME:this._move("first","first",l);break;case x.ui.keyCode.END:this._move("last","last",l);break;case x.ui.keyCode.UP:this.previous(l);break;case x.ui.keyCode.DOWN:this.next(l);break;case x.ui.keyCode.LEFT:this.collapse(l);break;case x.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(l);break;case x.ui.keyCode.ENTER:case x.ui.keyCode.SPACE:this._activate(l);break;case x.ui.keyCode.ESCAPE:this.collapse(l);break;default:g=!1,h=this.previousFilter||"",f=String.fromCharCode(l.keyCode),b=!1,clearTimeout(this.filterTimer),f===h?b=!0:f=h+f,d=this._filterMenuItems(f),d=b&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(f=String.fromCharCode(l.keyCode),d=this._filterMenuItems(f)),d.length?(this.focus(l,d),this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter}g&&l.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var h,d,g=this,f=this.options.icons.submenu,b=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var m=x(this),a=m.parent(),l=x("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);a.attr("aria-haspopup","true").prepend(l),m.attr("aria-labelledby",a.attr("id"))}),h=b.add(this.element),d=h.find(this.options.items),d.not(".ui-menu-item").each(function(){var a=x(this);g._isDivider(a)&&a.addClass("ui-widget-content ui-menu-divider")}),d.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),d.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!x.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},focus:function(a,f){var b,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(f),this.active=f.first(),d=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),b=f.children(".ui-menu"),b.length&&a&&/^mouse/.test(a.type)&&this._startOpening(b),this.activeMenu=f.parent(),this._trigger("focus",a,{item:f})},_scrollIntoView:function(m){var d,l,f,b,g,h;this._hasScroll()&&(d=parseFloat(x.css(this.activeMenu[0],"borderTopWidth"))||0,l=parseFloat(x.css(this.activeMenu[0],"paddingTop"))||0,f=m.offset().top-this.activeMenu.offset().top-d-l,b=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=m.outerHeight(),0>f?this.activeMenu.scrollTop(b+f):f+h>g&&this.activeMenu.scrollTop(b+f-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var a=x.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(b,a){clearTimeout(this.timer),this.timer=this._delay(function(){var d=a?this.element:x(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(a){return !x(a.target).closest(".ui-menu").length},_isDivider:function(a){return !/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,f,b){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[f]()),this.focus(b,d)},nextPage:function(f){var a,d,b;return this.active?(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,b=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return a=x(this),0>a.offset().top-d-b}),this.focus(f,a)):this.focus(f,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(f),void 0)},previousPage:function(f){var a,d,b;return this.active?(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,b=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return a=x(this),a.offset().top-d+b>0}),this.focus(f,a)):this.focus(f,this.activeMenu.find(this.options.items).first())),void 0):(this.next(f),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||x(b.target).closest(".ui-menu-item");var a={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,a)},_filterMenuItems:function(d){var a=d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),b=RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return b.test(x.trim(x(this).text()))})}}),x.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var l,d,h,f=this.element[0].nodeName.toLowerCase(),b="textarea"===f,g="input"===f;this.isMultiLine=b?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[b||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(m){if(this.element.prop("readOnly")){return l=!0,h=!0,d=!0,void 0}l=!1,h=!1,d=!1;var i=x.ui.keyCode;switch(m.keyCode){case i.PAGE_UP:l=!0,this._move("previousPage",m);break;case i.PAGE_DOWN:l=!0,this._move("nextPage",m);break;case i.UP:l=!0,this._keyEvent("previous",m);break;case i.DOWN:l=!0,this._keyEvent("next",m);break;case i.ENTER:this.menu.active&&(l=!0,m.preventDefault(),this.menu.select(m));break;case i.TAB:this.menu.active&&this.menu.select(m);break;case i.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(m),m.preventDefault());break;default:d=!0,this._searchTimeout(m)}},keypress:function(i){if(l){return l=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault(),void 0}if(!d){var a=x.ui.keyCode;switch(i.keyCode){case a.PAGE_UP:this._move("previousPage",i);break;case a.PAGE_DOWN:this._move("nextPage",i);break;case a.UP:this._keyEvent("previous",i);break;case a.DOWN:this._keyEvent("next",i)}}},input:function(a){return h?(h=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}}),this._initSource(),this.menu=x("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(m){m.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var a=this.menu.element[0];x(m.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(n){n.target===i.element[0]||n.target===a||x.contains(a,n.target)||i.close()})})},menufocus:function(p,a){var o,m;return this.isNewMenu&&(this.isNewMenu=!1,p.originalEvent&&/^mouse/.test(p.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){x(p.target).trigger(p.originalEvent)}),void 0):(m=a.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",p,{item:m})&&p.originalEvent&&/^key/.test(p.originalEvent.type)&&this._value(m.value),o=a.item.attr("aria-label")||m.value,o&&x.trim(o).length&&(this.liveRegion.children().hide(),x("<div>").text(o).appendTo(this.liveRegion)),void 0)},menuselect:function(a,o){var m=o.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=m})),!1!==this._trigger("select",a,{item:m})&&this._value(m.value),this.term=this._value(),this.close(a),this.selectedItem=m}}),this.liveRegion=x("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?x(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_initSource:function(){var d,a,b=this;x.isArray(this.options.source)?(d=this.options.source,this.source=function(f,g){g(x.ui.autocomplete.filter(d,f.term))}):"string"==typeof this.options.source?(a=this.options.source,this.source=function(g,f){b.xhr&&b.xhr.abort(),b.xhr=x.ajax({url:a,data:g,dataType:"json",success:function(h){f(h)},error:function(){f([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var f=this.term===this._value(),b=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!f||f&&!b&&!d)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return x.proxy(function(b){a===this.requestIndex&&this.__response(b),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:x.map(a,function(b){return"string"==typeof b?{label:b,value:b}:x.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(b){var a=this.menu.element.empty();this._renderMenu(a,b),this.isNewMenu=!0,this.menu.refresh(),a.show(),this._resizeMenu(),a.position(x.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(d,a){var b=this;x.each(a,function(f,g){b._renderItemData(d,g)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,a){return x("<li>").text(a.label).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[a](b),void 0):(this.search(null,b),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),x.extend(x.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(d,a){var b=RegExp(x.ui.autocomplete.escapeRegex(a),"i");return x.grep(d,function(f){return b.test(f.label||f.value||f)})}}),x.widget("ui.autocomplete",x.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var a;this._superApply(arguments),this.options.disabled||this.cancelSearch||(a=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults,this.liveRegion.children().hide(),x("<div>").text(a).appendTo(this.liveRegion))}}),x.ui.autocomplete;var q,H="ui-button ui-widget ui-state-default ui-corner-all",z="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",E=function(){var a=x(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},A=function(f){var a=f.name,d=f.form,b=x([]);return a&&(a=a.replace(/'/g,"\\'"),b=d?x(d).find("[name='"+a+"'][type=radio]"):x("[name='"+a+"'][type=radio]",f.ownerDocument).filter(function(){return !this.form})),b};x.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,E),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var f=this,a=this.options,d="checkbox"===this.type||"radio"===this.type,b=d?"":"ui-state-active";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(H).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===q&&x(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||x(this).removeClass(b)}).bind("click"+this.eventNamespace,function(g){a.disabled&&(g.preventDefault(),g.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),d&&this.element.bind("change"+this.eventNamespace,function(){f.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled){return !1}x(this).addClass("ui-state-active"),f.buttonElement.attr("aria-pressed","true");var g=f.element[0];A(g).not(g).map(function(){return x(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(x(this).addClass("ui-state-active"),q=this,f.document.one("mouseup",function(){q=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:(x(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(g){return a.disabled?!1:((g.keyCode===x.ui.keyCode.SPACE||g.keyCode===x.ui.keyCode.ENTER)&&x(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){x(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(g){g.keyCode===x.ui.keyCode.SPACE&&x(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var a,d,b;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),d="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(d),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(d),this.buttonElement.length||(this.buttonElement=a.find(d))),this.element.addClass("ui-helper-hidden-accessible"),b=this.element.is(":checked"),b&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",b)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(H+" ui-state-active "+z).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),b&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?A(this.element[0]).each(function(){x(this).is(":checked")?x(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):x(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type){return this.options.label&&this.element.val(this.options.label),void 0}var h=this.buttonElement.removeClass(z),d=x("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(h.empty()).text(),g=this.options.icons,f=g.primary&&g.secondary,b=[];g.primary||g.secondary?(this.options.text&&b.push("ui-button-text-icon"+(f?"s":g.primary?"-primary":"-secondary")),g.primary&&h.prepend("<span class='ui-button-icon-primary ui-icon "+g.primary+"'></span>"),g.secondary&&h.append("<span class='ui-button-icon-secondary ui-icon "+g.secondary+"'></span>"),this.options.text||(b.push(f?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||h.attr("title",x.trim(d)))):b.push("ui-button-text-only"),h.addClass(b.join(" "))}}),x.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var d="rtl"===this.element.css("direction"),a=this.element.find(this.options.items),b=a.filter(":ui-button");a.not(":ui-button").button(),b.button("refresh"),this.buttons=a.map(function(){return x(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(d?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(d?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return x(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),x.ui.button,x.extend(x.ui,{datepicker:{version:"1.11.4"}});var M;x.extend(F.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return I(this._defaults,a||{}),this},_attachDatepicker:function(h,d){var g,f,b;g=h.nodeName.toLowerCase(),f="div"===g||"span"===g,h.id||(this.uuid+=1,h.id="dp"+this.uuid),b=this._newInst(x(h),f),b.settings=x.extend({},d||{}),"input"===g?this._connectDatepicker(h,b):f&&this._inlineDatepicker(h,b)},_newInst:function(d,a){var b=d[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:b,input:d,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?j(x("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(d,a){var b=x(d);a.append=x([]),a.trigger=x([]),b.hasClass(this.markerClassName)||(this._attachments(b,a),b.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),x.data(d,"datepicker",a),a.settings.disabled&&this._disableDatepicker(d))},_attachments:function(m,d){var l,f,b,g=this._get(d,"appendText"),h=this._get(d,"isRTL");d.append&&d.append.remove(),g&&(d.append=x("<span class='"+this._appendClass+"'>"+g+"</span>"),m[h?"before":"after"](d.append)),m.unbind("focus",this._showDatepicker),d.trigger&&d.trigger.remove(),l=this._get(d,"showOn"),("focus"===l||"both"===l)&&m.focus(this._showDatepicker),("button"===l||"both"===l)&&(f=this._get(d,"buttonText"),b=this._get(d,"buttonImage"),d.trigger=x(this._get(d,"buttonImageOnly")?x("<img/>").addClass(this._triggerClass).attr({src:b,alt:f,title:f}):x("<button type='button'></button>").addClass(this._triggerClass).html(b?x("<img/>").attr({src:b,alt:f,title:f}):f)),m[h?"before":"after"](d.trigger),d.trigger.click(function(){return x.datepicker._datepickerShowing&&x.datepicker._lastInput===m[0]?x.datepicker._hideDatepicker():x.datepicker._datepickerShowing&&x.datepicker._lastInput!==m[0]?(x.datepicker._hideDatepicker(),x.datepicker._showDatepicker(m[0])):x.datepicker._showDatepicker(m[0]),!1}))},_autoSize:function(d){if(this._get(d,"autoSize")&&!d.inline){var m,f,l,g,b=new Date(2009,11,20),h=this._get(d,"dateFormat");h.match(/[DM]/)&&(m=function(a){for(f=0,l=0,g=0;a.length>g;g++){a[g].length>f&&(f=a[g].length,l=g)}return l},b.setMonth(m(this._get(d,h.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(m(this._get(d,h.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())),d.input.attr("size",this._formatDate(d,b).length)}},_inlineDatepicker:function(d,a){var b=x(d);b.hasClass(this.markerClassName)||(b.addClass(this.markerClassName).append(a.dpDiv),x.data(d,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(d),a.dpDiv.css("display","block"))},_dialogDatepicker:function(Q,p,P,y,b){var O,m,v,R,g,f=this._dialogInst;return f||(this.uuid+=1,O="dp"+this.uuid,this._dialogInput=x("<input type='text' id='"+O+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),x("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},x.data(this._dialogInput[0],"datepicker",f)),I(f.settings,y||{}),p=p&&p.constructor===Date?this._formatDate(f,p):p,this._dialogInput.val(p),this._pos=b?b.length?b:[b.pageX,b.pageY]:null,this._pos||(m=document.documentElement.clientWidth,v=document.documentElement.clientHeight,R=document.documentElement.scrollLeft||document.body.scrollLeft,g=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[m/2-100+R,v/2-150+g]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=P,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),x.blockUI&&x.blockUI(this.dpDiv),x.data(this._dialogInput[0],"datepicker",f),this},_destroyDatepicker:function(f){var a,d=x(f),b=x.data(f,"datepicker");d.hasClass(this.markerClassName)&&(a=f.nodeName.toLowerCase(),x.removeData(f,"datepicker"),"input"===a?(b.append.remove(),b.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===a||"span"===a)&&d.removeClass(this.markerClassName).empty(),M===b&&(M=null))},_enableDatepicker:function(h){var d,g,f=x(h),b=x.data(h,"datepicker");f.hasClass(this.markerClassName)&&(d=h.nodeName.toLowerCase(),"input"===d?(h.disabled=!1,b.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===d||"span"===d)&&(g=f.children("."+this._inlineClass),g.children().removeClass("ui-state-disabled"),g.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=x.map(this._disabledInputs,function(a){return a===h?null:a}))},_disableDatepicker:function(h){var d,g,f=x(h),b=x.data(h,"datepicker");f.hasClass(this.markerClassName)&&(d=h.nodeName.toLowerCase(),"input"===d?(h.disabled=!0,b.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===d||"span"===d)&&(g=f.children("."+this._inlineClass),g.children().addClass("ui-state-disabled"),g.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=x.map(this._disabledInputs,function(a){return a===h?null:a}),this._disabledInputs[this._disabledInputs.length]=h)},_isDisabledDatepicker:function(a){if(!a){return !1}for(var b=0;this._disabledInputs.length>b;b++){if(this._disabledInputs[b]===a){return !0}}return !1},_getInst:function(b){try{return x.data(b,"datepicker")}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(v,f,u){var m,b,p,d,g=this._getInst(v);return 2===arguments.length&&"string"==typeof f?"defaults"===f?x.extend({},x.datepicker._defaults):g?"all"===f?x.extend({},g.settings):this._get(g,f):null:(m=f||{},"string"==typeof f&&(m={},m[f]=u),g&&(this._curInst===g&&this._hideDatepicker(),b=this._getDateDatepicker(v,!0),p=this._getMinMaxDate(g,"min"),d=this._getMinMaxDate(g,"max"),I(g.settings,m),null!==p&&void 0!==m.dateFormat&&void 0===m.minDate&&(g.settings.minDate=this._formatDate(g,p)),null!==d&&void 0!==m.dateFormat&&void 0===m.maxDate&&(g.settings.maxDate=this._formatDate(g,d)),"disabled" in m&&(m.disabled?this._disableDatepicker(v):this._enableDatepicker(v)),this._attachments(x(v),g),this._autoSize(g),this._setDate(g,b),this._updateAlternate(g),this._updateDatepicker(g)),void 0)},_changeDatepicker:function(a,d,b){this._optionDatepicker(a,d,b)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,d){var b=this._getInst(a);b&&(this._setDate(b,d),this._updateDatepicker(b),this._updateAlternate(b))},_getDateDatepicker:function(a,d){var b=this._getInst(a);return b&&!b.inline&&this._setDateFromField(b,d),b?this._getDate(b):null},_doKeyDown:function(m){var d,l,f,b=x.datepicker._getInst(m.target),g=!0,h=b.dpDiv.is(".ui-datepicker-rtl");if(b._keyEvent=!0,x.datepicker._datepickerShowing){switch(m.keyCode){case 9:x.datepicker._hideDatepicker(),g=!1;break;case 13:return f=x("td."+x.datepicker._dayOverClass+":not(."+x.datepicker._currentClass+")",b.dpDiv),f[0]&&x.datepicker._selectDay(m.target,b.selectedMonth,b.selectedYear,f[0]),d=x.datepicker._get(b,"onSelect"),d?(l=x.datepicker._formatDate(b),d.apply(b.input?b.input[0]:null,[l,b])):x.datepicker._hideDatepicker(),!1;case 27:x.datepicker._hideDatepicker();break;case 33:x.datepicker._adjustDate(m.target,m.ctrlKey?-x.datepicker._get(b,"stepBigMonths"):-x.datepicker._get(b,"stepMonths"),"M");break;case 34:x.datepicker._adjustDate(m.target,m.ctrlKey?+x.datepicker._get(b,"stepBigMonths"):+x.datepicker._get(b,"stepMonths"),"M");break;case 35:(m.ctrlKey||m.metaKey)&&x.datepicker._clearDate(m.target),g=m.ctrlKey||m.metaKey;break;case 36:(m.ctrlKey||m.metaKey)&&x.datepicker._gotoToday(m.target),g=m.ctrlKey||m.metaKey;break;case 37:(m.ctrlKey||m.metaKey)&&x.datepicker._adjustDate(m.target,h?1:-1,"D"),g=m.ctrlKey||m.metaKey,m.originalEvent.altKey&&x.datepicker._adjustDate(m.target,m.ctrlKey?-x.datepicker._get(b,"stepBigMonths"):-x.datepicker._get(b,"stepMonths"),"M");break;case 38:(m.ctrlKey||m.metaKey)&&x.datepicker._adjustDate(m.target,-7,"D"),g=m.ctrlKey||m.metaKey;break;case 39:(m.ctrlKey||m.metaKey)&&x.datepicker._adjustDate(m.target,h?-1:1,"D"),g=m.ctrlKey||m.metaKey,m.originalEvent.altKey&&x.datepicker._adjustDate(m.target,m.ctrlKey?+x.datepicker._get(b,"stepBigMonths"):+x.datepicker._get(b,"stepMonths"),"M");break;case 40:(m.ctrlKey||m.metaKey)&&x.datepicker._adjustDate(m.target,7,"D"),g=m.ctrlKey||m.metaKey;break;default:g=!1}}else{36===m.keyCode&&m.ctrlKey?x.datepicker._showDatepicker(this):g=!1}g&&(m.preventDefault(),m.stopPropagation())},_doKeyPress:function(f){var a,d,b=x.datepicker._getInst(f.target);return x.datepicker._get(b,"constrainInput")?(a=x.datepicker._possibleChars(x.datepicker._get(b,"dateFormat")),d=String.fromCharCode(null==f.charCode?f.keyCode:f.charCode),f.ctrlKey||f.metaKey||" ">d||!a||a.indexOf(d)>-1):void 0},_doKeyUp:function(f){var a,d=x.datepicker._getInst(f.target);if(d.input.val()!==d.lastVal){try{a=x.datepicker.parseDate(x.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,x.datepicker._getFormatConfig(d)),a&&(x.datepicker._setDateFromField(d),x.datepicker._updateAlternate(d),x.datepicker._updateDatepicker(d))}catch(b){}}return !0},_showDatepicker:function(s){if(s=s.target||s,"input"!==s.nodeName.toLowerCase()&&(s=x("input",s.parentNode)[0]),!x.datepicker._isDisabledDatepicker(s)&&x.datepicker._lastInput!==s){var f,m,b,p,d,g,v;f=x.datepicker._getInst(s),x.datepicker._curInst&&x.datepicker._curInst!==f&&(x.datepicker._curInst.dpDiv.stop(!0,!0),f&&x.datepicker._datepickerShowing&&x.datepicker._hideDatepicker(x.datepicker._curInst.input[0])),m=x.datepicker._get(f,"beforeShow"),b=m?m.apply(s,[s,f]):{},b!==!1&&(I(f.settings,b),f.lastVal=null,x.datepicker._lastInput=s,x.datepicker._setDateFromField(f),x.datepicker._inDialog&&(s.value=""),x.datepicker._pos||(x.datepicker._pos=x.datepicker._findPos(s),x.datepicker._pos[1]+=s.offsetHeight),p=!1,x(s).parents().each(function(){return p|="fixed"===x(this).css("position"),!p}),d={left:x.datepicker._pos[0],top:x.datepicker._pos[1]},x.datepicker._pos=null,f.dpDiv.empty(),f.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),x.datepicker._updateDatepicker(f),d=x.datepicker._checkOffset(f,d,p),f.dpDiv.css({position:x.datepicker._inDialog&&x.blockUI?"static":p?"fixed":"absolute",display:"none",left:d.left+"px",top:d.top+"px"}),f.inline||(g=x.datepicker._get(f,"showAnim"),v=x.datepicker._get(f,"duration"),f.dpDiv.css("z-index",J(x(s))+1),x.datepicker._datepickerShowing=!0,x.effects&&x.effects.effect[g]?f.dpDiv.show(g,x.datepicker._get(f,"showOptions"),v):f.dpDiv[g||"show"](g?v:null),x.datepicker._shouldFocusInput(f)&&f.input.focus(),x.datepicker._curInst=f))}},_updateDatepicker:function(l){this.maxRows=4,M=l,l.dpDiv.empty().append(this._generateHTML(l)),this._attachHandlers(l);var d,h=this._getNumberOfMonths(l),f=h[1],b=17,g=l.dpDiv.find("."+this._dayOverClass+" a");g.length>0&&G.apply(g.get(0)),l.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&l.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",b*f+"em"),l.dpDiv[(1!==h[0]||1!==h[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),l.dpDiv[(this._get(l,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),l===x.datepicker._curInst&&x.datepicker._datepickerShowing&&x.datepicker._shouldFocusInput(l)&&l.input.focus(),l.yearshtml&&(d=l.yearshtml,setTimeout(function(){d===l.yearshtml&&l.yearshtml&&l.dpDiv.find("select.ui-datepicker-year:first").replaceWith(l.yearshtml),d=l.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(y,f,v){var m=y.dpDiv.outerWidth(),b=y.dpDiv.outerHeight(),p=y.input?y.input.outerWidth():0,u=y.input?y.input.outerHeight():0,d=document.documentElement.clientWidth+(v?0:x(document).scrollLeft()),g=document.documentElement.clientHeight+(v?0:x(document).scrollTop());return f.left-=this._get(y,"isRTL")?m-p:0,f.left-=v&&f.left===y.input.offset().left?x(document).scrollLeft():0,f.top-=v&&f.top===y.input.offset().top+u?x(document).scrollTop():0,f.left-=Math.min(f.left,f.left+m>d&&d>m?Math.abs(f.left+m-d):0),f.top-=Math.min(f.top,f.top+b>g&&g>b?Math.abs(b+u):0),f},_findPos:function(f){for(var a,d=this._getInst(f),b=this._get(d,"isRTL");f&&("hidden"===f.type||1!==f.nodeType||x.expr.filters.hidden(f));){f=f[b?"previousSibling":"nextSibling"]}return a=x(f).offset(),[a.left,a.top]},_hideDatepicker:function(l){var d,h,f,b,g=this._curInst;!g||l&&g!==x.data(l,"datepicker")||this._datepickerShowing&&(d=this._get(g,"showAnim"),h=this._get(g,"duration"),f=function(){x.datepicker._tidyDialog(g)},x.effects&&(x.effects.effect[d]||x.effects[d])?g.dpDiv.hide(d,x.datepicker._get(g,"showOptions"),h,f):g.dpDiv["slideDown"===d?"slideUp":"fadeIn"===d?"fadeOut":"hide"](d?h:null,f),d||f(),this._datepickerShowing=!1,b=this._get(g,"onClose"),b&&b.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),x.blockUI&&(x.unblockUI(),x("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(d){if(x.datepicker._curInst){var a=x(d.target),b=x.datepicker._getInst(a[0]);(a[0].id!==x.datepicker._mainDivId&&0===a.parents("#"+x.datepicker._mainDivId).length&&!a.hasClass(x.datepicker.markerClassName)&&!a.closest("."+x.datepicker._triggerClass).length&&x.datepicker._datepickerShowing&&(!x.datepicker._inDialog||!x.blockUI)||a.hasClass(x.datepicker.markerClassName)&&x.datepicker._curInst!==b)&&x.datepicker._hideDatepicker()}},_adjustDate:function(h,d,g){var f=x(h),b=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(b,d+("M"===g?this._get(b,"showCurrentAtPos"):0),g),this._updateDatepicker(b))},_gotoToday:function(f){var a,d=x(f),b=this._getInst(d[0]);this._get(b,"gotoCurrent")&&b.currentDay?(b.selectedDay=b.currentDay,b.drawMonth=b.selectedMonth=b.currentMonth,b.drawYear=b.selectedYear=b.currentYear):(a=new Date,b.selectedDay=a.getDate(),b.drawMonth=b.selectedMonth=a.getMonth(),b.drawYear=b.selectedYear=a.getFullYear()),this._notifyChange(b),this._adjustDate(d)},_selectMonthYear:function(h,d,g){var f=x(h),b=this._getInst(f[0]);b["selected"+("M"===g?"Month":"Year")]=b["draw"+("M"===g?"Month":"Year")]=parseInt(d.options[d.selectedIndex].value,10),this._notifyChange(b),this._adjustDate(f)},_selectDay:function(l,d,h,f){var b,g=x(l);x(f).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(b=this._getInst(g[0]),b.selectedDay=b.currentDay=x("a",f).html(),b.selectedMonth=b.currentMonth=d,b.selectedYear=b.currentYear=h,this._selectDate(l,this._formatDate(b,b.currentDay,b.currentMonth,b.currentYear)))},_clearDate:function(b){var a=x(b);this._selectDate(a,"")},_selectDate:function(h,d){var g,f=x(h),b=this._getInst(f[0]);d=null!=d?d:this._formatDate(b),b.input&&b.input.val(d),this._updateAlternate(b),g=this._get(b,"onSelect"),g?g.apply(b.input?b.input[0]:null,[d,b]):b.input&&b.input.trigger("change"),b.inline?this._updateDatepicker(b):(this._hideDatepicker(),this._lastInput=b.input[0],"object"!=typeof b.input[0]&&b.input.focus(),this._lastInput=null)},_updateAlternate:function(h){var d,g,f,b=this._get(h,"altField");b&&(d=this._get(h,"altFormat")||this._get(h,"dateFormat"),g=this._getDate(h),f=this.formatDate(d,g,this._getFormatConfig(h)),x(b).each(function(){x(this).val(f)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var d,b=new Date(a.getTime());return b.setDate(b.getDate()+4-(b.getDay()||7)),d=b.getTime(),b.setMonth(0),b.setDate(1),Math.floor(Math.round((d-b)/86400000)/7)+1},parseDate:function(af,W,ae){if(null==af||null==W){throw"Invalid arguments"}if(W="object"==typeof W?""+W:W+"",""===W){return null}var aa,P,ab,ad,V=0,Y=(ae?ae.shortYearCutoff:null)||this._defaults.shortYearCutoff,ag="string"!=typeof Y?Y:(new Date).getFullYear()%100+parseInt(Y,10),S=(ae?ae.dayNamesShort:null)||this._defaults.dayNamesShort,R=(ae?ae.dayNames:null)||this._defaults.dayNames,ac=(ae?ae.monthNamesShort:null)||this._defaults.monthNamesShort,T=(ae?ae.monthNames:null)||this._defaults.monthNames,Z=-1,U=-1,ah=-1,ak=-1,Q=!1,O=function(a){var b=af.length>aa+1&&af.charAt(aa+1)===a;return b&&aa++,b},aj=function(d){var i=O(d),h="@"===d?14:"!"===d?20:"y"===d&&i?4:"o"===d?3:2,f="y"===d?h:1,b=RegExp("^\\d{"+f+","+h+"}"),g=W.substring(V).match(b);if(!g){throw"Missing number at position "+V}return V+=g[0].length,parseInt(g[0],10)},ai=function(h,g,d){var b=-1,f=x.map(O(h)?d:g,function(a,i){return[[i,a]]}).sort(function(a,i){return -(a[1].length-i[1].length)});if(x.each(f,function(a,l){var i=l[1];return W.substr(V,i.length).toLowerCase()===i.toLowerCase()?(b=l[0],V+=i.length,!1):void 0}),-1!==b){return b+1}throw"Unknown name at position "+V},X=function(){if(W.charAt(V)!==af.charAt(aa)){throw"Unexpected literal at position "+V}V++};for(aa=0;af.length>aa;aa++){if(Q){"'"!==af.charAt(aa)||O("'")?X():Q=!1}else{switch(af.charAt(aa)){case"d":ah=aj("d");break;case"D":ai("D",S,R);break;case"o":ak=aj("o");break;case"m":U=aj("m");break;case"M":U=ai("M",ac,T);break;case"y":Z=aj("y");break;case"@":ad=new Date(aj("@")),Z=ad.getFullYear(),U=ad.getMonth()+1,ah=ad.getDate();break;case"!":ad=new Date((aj("!")-this._ticksTo1970)/10000),Z=ad.getFullYear(),U=ad.getMonth()+1,ah=ad.getDate();break;case"'":O("'")?X():Q=!0;break;default:X()}}}if(W.length>V&&(ab=W.substr(V),!/^\s+/.test(ab))){throw"Extra/unparsed characters found in date: "+ab}if(-1===Z?Z=(new Date).getFullYear():100>Z&&(Z+=(new Date).getFullYear()-(new Date).getFullYear()%100+(ag>=Z?0:-100)),ak>-1){for(U=1,ah=ak;;){if(P=this._getDaysInMonth(Z,U-1),P>=ah){break}U++,ah-=P}}if(ad=this._daylightSavingAdjust(new Date(Z,U-1,ah)),ad.getFullYear()!==Z||ad.getMonth()+1!==U||ad.getDate()!==ah){throw"Invalid date"}return ad},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(m,S,v){if(!S){return""}var R,O=(v?v.dayNamesShort:null)||this._defaults.dayNamesShort,b=(v?v.dayNames:null)||this._defaults.dayNames,P=(v?v.monthNamesShort:null)||this._defaults.monthNamesShort,Q=(v?v.monthNames:null)||this._defaults.monthNames,p=function(d){var a=m.length>R+1&&m.charAt(R+1)===d;return a&&R++,a},y=function(a,l,d){var h=""+l;if(p(a)){for(;d>h.length;){h="0"+h}}return h},T=function(a,l,d,h){return p(a)?h[l]:d[l]},g="",f=!1;if(S){for(R=0;m.length>R;R++){if(f){"'"!==m.charAt(R)||p("'")?g+=m.charAt(R):f=!1}else{switch(m.charAt(R)){case"d":g+=y("d",S.getDate(),2);break;case"D":g+=T("D",S.getDay(),O,b);break;case"o":g+=y("o",Math.round((new Date(S.getFullYear(),S.getMonth(),S.getDate()).getTime()-new Date(S.getFullYear(),0,0).getTime())/86400000),3);break;case"m":g+=y("m",S.getMonth()+1,2);break;case"M":g+=T("M",S.getMonth(),P,Q);break;case"y":g+=p("y")?S.getFullYear():(10>S.getYear()%100?"0":"")+S.getYear()%100;break;case"@":g+=S.getTime();break;case"!":g+=10000*S.getTime()+this._ticksTo1970;break;case"'":p("'")?g+="'":f=!0;break;default:g+=m.charAt(R)}}}}return g},_possibleChars:function(a){var g,b="",f=!1,d=function(h){var l=a.length>g+1&&a.charAt(g+1)===h;return l&&g++,l};for(g=0;a.length>g;g++){if(f){"'"!==a.charAt(g)||d("'")?b+=a.charAt(g):f=!1}else{switch(a.charAt(g)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":f=!0;break;default:b+=a.charAt(g)}}}return b},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(d,p){if(d.input.val()!==d.lastVal){var f=this._get(d,"dateFormat"),m=d.lastVal=d.input?d.input.val():null,g=this._getDefaultDate(d),b=g,h=this._getFormatConfig(d);try{b=this.parseDate(f,m,h)||g}catch(l){m=p?"":m}d.selectedDay=b.getDate(),d.drawMonth=d.selectedMonth=b.getMonth(),d.drawYear=d.selectedYear=b.getFullYear(),d.currentDay=m?b.getDate():0,d.currentMonth=m?b.getMonth():0,d.currentYear=m?b.getFullYear():0,this._adjustInstDate(d)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(l,d,h){var f=function(a){var i=new Date;return i.setDate(i.getDate()+a),i},b=function(t){try{return x.datepicker.parseDate(x.datepicker._get(l,"dateFormat"),t,x.datepicker._getFormatConfig(l))}catch(P){}for(var v=(t.toLowerCase().match(/^c/)?x.datepicker._getDate(l):null)||new Date,m=v.getFullYear(),y=v.getMonth(),O=v.getDate(),p=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=p.exec(t);u;){switch(u[2]||"d"){case"d":case"D":O+=parseInt(u[1],10);break;case"w":case"W":O+=7*parseInt(u[1],10);break;case"m":case"M":y+=parseInt(u[1],10),O=Math.min(O,x.datepicker._getDaysInMonth(m,y));break;case"y":case"Y":m+=parseInt(u[1],10),O=Math.min(O,x.datepicker._getDaysInMonth(m,y))}u=p.exec(t)}return new Date(m,y,O)},g=null==d||""===d?h:"string"==typeof d?b(d):"number"==typeof d?isNaN(d)?h:f(d):new Date(d.getTime());return g=g&&"Invalid Date"==""+g?h:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(d,m,f){var l=!m,g=d.selectedMonth,b=d.selectedYear,h=this._restrictMinMax(d,this._determineDate(d,m,new Date));d.selectedDay=d.currentDay=h.getDate(),d.drawMonth=d.selectedMonth=d.currentMonth=h.getMonth(),d.drawYear=d.selectedYear=d.currentYear=h.getFullYear(),g===d.selectedMonth&&b===d.selectedYear||f||this._notifyChange(d),this._adjustInstDate(d),d.input&&d.input.val(l?"":this._formatDate(d))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(d){var a=this._get(d,"stepMonths"),b="#"+d.id.replace(/\\\\/g,"\\");d.dpDiv.find("[data-handler]").map(function(){var f={prev:function(){x.datepicker._adjustDate(b,-a,"M")},next:function(){x.datepicker._adjustDate(b,+a,"M")},hide:function(){x.datepicker._hideDatepicker()},today:function(){x.datepicker._gotoToday(b)},selectDay:function(){return x.datepicker._selectDay(b,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return x.datepicker._selectMonthYear(b,this,"M"),!1},selectYear:function(){return x.datepicker._selectMonthYear(b,this,"Y"),!1}};x(this).bind(this.getAttribute("data-event"),f[this.getAttribute("data-handler")])})},_generateHTML:function(ak){var aQ,au,aO,aE,ac,aG,aM,ar,aA,aS,ai,ag,aI,an,aC,ap,aU,a0,ae,ab,aY,aW,ay,aR,aj,aP,aD,ah,aF,ad,aJ,av,at,a2,ao,al,aH,aw,aX,aB=new Date,aN=this._daylightSavingAdjust(new Date(aB.getFullYear(),aB.getMonth(),aB.getDate())),a1=this._get(ak,"isRTL"),af=this._get(ak,"showButtonPanel"),ax=this._get(ak,"hideIfNoPrevNext"),aK=this._get(ak,"navigationAsDateFormat"),az=this._getNumberOfMonths(ak),aV=this._get(ak,"showCurrentAtPos"),aT=this._get(ak,"stepMonths"),aL=1!==az[0]||1!==az[1],aq=this._daylightSavingAdjust(ak.currentDay?new Date(ak.currentYear,ak.currentMonth,ak.currentDay):new Date(9999,9,9)),aZ=this._getMinMaxDate(ak,"min"),aa=this._getMinMaxDate(ak,"max"),a3=ak.drawMonth-aV,am=ak.drawYear;if(0>a3&&(a3+=12,am--),aa){for(aQ=this._daylightSavingAdjust(new Date(aa.getFullYear(),aa.getMonth()-az[0]*az[1]+1,aa.getDate())),aQ=aZ&&aZ>aQ?aZ:aQ;this._daylightSavingAdjust(new Date(am,a3,1))>aQ;){a3--,0>a3&&(a3=11,am--)}}for(ak.drawMonth=a3,ak.drawYear=am,au=this._get(ak,"prevText"),au=aK?this.formatDate(au,this._daylightSavingAdjust(new Date(am,a3-aT,1)),this._getFormatConfig(ak)):au,aO=this._canAdjustMonth(ak,-1,am,a3)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+au+"'><span class='ui-icon ui-icon-circle-triangle-"+(a1?"e":"w")+"'>"+au+"</span></a>":ax?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+au+"'><span class='ui-icon ui-icon-circle-triangle-"+(a1?"e":"w")+"'>"+au+"</span></a>",aE=this._get(ak,"nextText"),aE=aK?this.formatDate(aE,this._daylightSavingAdjust(new Date(am,a3+aT,1)),this._getFormatConfig(ak)):aE,ac=this._canAdjustMonth(ak,1,am,a3)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aE+"'><span class='ui-icon ui-icon-circle-triangle-"+(a1?"w":"e")+"'>"+aE+"</span></a>":ax?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aE+"'><span class='ui-icon ui-icon-circle-triangle-"+(a1?"w":"e")+"'>"+aE+"</span></a>",aG=this._get(ak,"currentText"),aM=this._get(ak,"gotoCurrent")&&ak.currentDay?aq:aN,aG=aK?this.formatDate(aG,aM,this._getFormatConfig(ak)):aG,ar=ak.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(ak,"closeText")+"</button>",aA=af?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(a1?ar:"")+(this._isInRange(ak,aM)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+aG+"</button>":"")+(a1?"":ar)+"</div>":"",aS=parseInt(this._get(ak,"firstDay"),10),aS=isNaN(aS)?0:aS,ai=this._get(ak,"showWeek"),ag=this._get(ak,"dayNames"),aI=this._get(ak,"dayNamesMin"),an=this._get(ak,"monthNames"),aC=this._get(ak,"monthNamesShort"),ap=this._get(ak,"beforeShowDay"),aU=this._get(ak,"showOtherMonths"),a0=this._get(ak,"selectOtherMonths"),ae=this._getDefaultDate(ak),ab="",aW=0;az[0]>aW;aW++){for(ay="",this.maxRows=4,aR=0;az[1]>aR;aR++){if(aj=this._daylightSavingAdjust(new Date(am,a3,ak.selectedDay)),aP=" ui-corner-all",aD="",aL){if(aD+="<div class='ui-datepicker-group",az[1]>1){switch(aR){case 0:aD+=" ui-datepicker-group-first",aP=" ui-corner-"+(a1?"right":"left");break;case az[1]-1:aD+=" ui-datepicker-group-last",aP=" ui-corner-"+(a1?"left":"right");break;default:aD+=" ui-datepicker-group-middle",aP=""}}aD+="'>"}for(aD+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+aP+"'>"+(/all|left/.test(aP)&&0===aW?a1?ac:aO:"")+(/all|right/.test(aP)&&0===aW?a1?aO:ac:"")+this._generateMonthYearHeader(ak,a3,am,aZ,aa,aW>0||aR>0,an,aC)+"</div><table class='ui-datepicker-calendar'><thead><tr>",ah=ai?"<th class='ui-datepicker-week-col'>"+this._get(ak,"weekHeader")+"</th>":"",aY=0;7>aY;aY++){aF=(aY+aS)%7,ah+="<th scope='col'"+((aY+aS+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ag[aF]+"'>"+aI[aF]+"</span></th>"}for(aD+=ah+"</tr></thead><tbody>",ad=this._getDaysInMonth(am,a3),am===ak.selectedYear&&a3===ak.selectedMonth&&(ak.selectedDay=Math.min(ak.selectedDay,ad)),aJ=(this._getFirstDayOfMonth(am,a3)-aS+7)%7,av=Math.ceil((aJ+ad)/7),at=aL?this.maxRows>av?this.maxRows:av:av,this.maxRows=at,a2=this._daylightSavingAdjust(new Date(am,a3,1-aJ)),ao=0;at>ao;ao++){for(aD+="<tr>",al=ai?"<td class='ui-datepicker-week-col'>"+this._get(ak,"calculateWeek")(a2)+"</td>":"",aY=0;7>aY;aY++){aH=ap?ap.apply(ak.input?ak.input[0]:null,[a2]):[!0,""],aw=a2.getMonth()!==a3,aX=aw&&!a0||!aH[0]||aZ&&aZ>a2||aa&&a2>aa,al+="<td class='"+((aY+aS+6)%7>=5?" ui-datepicker-week-end":"")+(aw?" ui-datepicker-other-month":"")+(a2.getTime()===aj.getTime()&&a3===ak.selectedMonth&&ak._keyEvent||ae.getTime()===a2.getTime()&&ae.getTime()===aj.getTime()?" "+this._dayOverClass:"")+(aX?" "+this._unselectableClass+" ui-state-disabled":"")+(aw&&!aU?"":" "+aH[1]+(a2.getTime()===aq.getTime()?" "+this._currentClass:"")+(a2.getTime()===aN.getTime()?" ui-datepicker-today":""))+"'"+(aw&&!aU||!aH[2]?"":" title='"+aH[2].replace(/'/g,"&#39;")+"'")+(aX?"":" data-handler='selectDay' data-event='click' data-month='"+a2.getMonth()+"' data-year='"+a2.getFullYear()+"'")+">"+(aw&&!aU?"&#xa0;":aX?"<span class='ui-state-default'>"+a2.getDate()+"</span>":"<a class='ui-state-default"+(a2.getTime()===aN.getTime()?" ui-state-highlight":"")+(a2.getTime()===aq.getTime()?" ui-state-active":"")+(aw?" ui-priority-secondary":"")+"' href='#'>"+a2.getDate()+"</a>")+"</td>",a2.setDate(a2.getDate()+1),a2=this._daylightSavingAdjust(a2)}aD+=al+"</tr>"}a3++,a3>11&&(a3=0,am++),aD+="</tbody></table>"+(aL?"</div>"+(az[0]>0&&aR===az[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),ay+=aD}ab+=ay}return ab+=aA,ak._keyEvent=!1,ab},_generateMonthYearHeader:function(T,af,X,ae,aa,P,ab,ad){var W,Y,ag,S,R,ac,U,Z,V=this._get(T,"changeMonth"),ah=this._get(T,"changeYear"),ai=this._get(T,"showMonthAfterYear"),Q="<div class='ui-datepicker-title'>",O="";if(P||!V){O+="<span class='ui-datepicker-month'>"+ab[af]+"</span>"}else{for(W=ae&&ae.getFullYear()===X,Y=aa&&aa.getFullYear()===X,O+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",ag=0;12>ag;ag++){(!W||ag>=ae.getMonth())&&(!Y||aa.getMonth()>=ag)&&(O+="<option value='"+ag+"'"+(ag===af?" selected='selected'":"")+">"+ad[ag]+"</option>")}O+="</select>"}if(ai||(Q+=O+(!P&&V&&ah?"":"&#xa0;")),!T.yearshtml){if(T.yearshtml="",P||!ah){Q+="<span class='ui-datepicker-year'>"+X+"</span>"}else{for(S=this._get(T,"yearRange").split(":"),R=(new Date).getFullYear(),ac=function(a){var b=a.match(/c[+\-].*/)?X+parseInt(a.substring(1),10):a.match(/[+\-].*/)?R+parseInt(a,10):parseInt(a,10);return isNaN(b)?R:b},U=ac(S[0]),Z=Math.max(U,ac(S[1]||"")),U=ae?Math.max(U,ae.getFullYear()):U,Z=aa?Math.min(Z,aa.getFullYear()):Z,T.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";Z>=U;U++){T.yearshtml+="<option value='"+U+"'"+(U===X?" selected='selected'":"")+">"+U+"</option>"}T.yearshtml+="</select>",Q+=T.yearshtml,T.yearshtml=null}}return Q+=this._get(T,"yearSuffix"),ai&&(Q+=(!P&&V&&ah?"":"&#xa0;")+O),Q+="</div>"},_adjustInstDate:function(d,m,f){var l=d.drawYear+("Y"===f?m:0),g=d.drawMonth+("M"===f?m:0),b=Math.min(d.selectedDay,this._getDaysInMonth(l,g))+("D"===f?m:0),h=this._restrictMinMax(d,this._daylightSavingAdjust(new Date(l,g,b)));d.selectedDay=h.getDate(),d.drawMonth=d.selectedMonth=h.getMonth(),d.drawYear=d.selectedYear=h.getFullYear(),("M"===f||"Y"===f)&&this._notifyChange(d)},_restrictMinMax:function(a,g){var b=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),d=b&&b>g?b:g;return f&&d>f?f:d},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(d,l,f,h){var g=this._getNumberOfMonths(d),b=this._daylightSavingAdjust(new Date(f,h+(0>l?l:g[0]*g[1]),1));return 0>l&&b.setDate(this._getDaysInMonth(b.getFullYear(),b.getMonth())),this._isInRange(d,b)},_isInRange:function(d,v){var g,u,l=this._getMinMaxDate(d,"min"),b=this._getMinMaxDate(d,"max"),m=null,p=null,f=this._get(d,"yearRange");return f&&(g=f.split(":"),u=(new Date).getFullYear(),m=parseInt(g[0],10),p=parseInt(g[1],10),g[0].match(/[+\-].*/)&&(m+=u),g[1].match(/[+\-].*/)&&(p+=u)),(!l||v.getTime()>=l.getTime())&&(!b||v.getTime()<=b.getTime())&&(!m||v.getFullYear()>=m)&&(!p||p>=v.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,g,b,f){g||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var d=g?"object"==typeof g?g:this._daylightSavingAdjust(new Date(f,b,g)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),d,this._getFormatConfig(a))}}),x.fn.datepicker=function(b){if(!this.length){return this}x.datepicker.initialized||(x(document).mousedown(x.datepicker._checkExternalClick),x.datepicker.initialized=!0),0===x("#"+x.datepicker._mainDivId).length&&x("body").append(x.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?x.datepicker["_"+b+"Datepicker"].apply(x.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof b?x.datepicker["_"+b+"Datepicker"].apply(x.datepicker,[this].concat(a)):x.datepicker._attachDatepicker(this,b)}):x.datepicker["_"+b+"Datepicker"].apply(x.datepicker,[this[0]].concat(a))},x.datepicker=new F,x.datepicker.initialized=!1,x.datepicker.uuid=(new Date).getTime(),x.datepicker.version="1.11.4",x.datepicker,x.widget("ui.draggable",x.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,b){this._super(a,b),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(b){var a=this.options;return this._blurActiveElement(b),this.helper||a.disabled||x(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(this._blockFrames(a.iframeFix===!0?"iframe":a.iframeFix),!0):!1)},_blockFrames:function(a){this.iframeBlocks=this.document.find(a).map(function(){var b=x(this);return x("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(d){var a=this.document[0];if(this.handleElement.is(d.target)){try{a.activeElement&&"body"!==a.activeElement.nodeName.toLowerCase()&&x(a.activeElement).blur()}catch(b){}}},_mouseStart:function(b){var a=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),x.ui.ddmanager&&(x.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===x(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(b),this.originalPosition=this.position=this._generatePosition(b,!1),this.originalPageX=b.pageX,this.originalPageY=b.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),x.ui.ddmanager&&!a.dropBehaviour&&x.ui.ddmanager.prepareOffsets(this,b),this._normalizeRightBottom(),this._mouseDrag(b,!0),x.ui.ddmanager&&x.ui.ddmanager.dragStart(this,b),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(d,a){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(d,!0),this.positionAbs=this._convertPositionTo("absolute"),!a){var b=this._uiHash();if(this._trigger("drag",d,b)===!1){return this._mouseUp({}),!1}this.position=b.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",x.ui.ddmanager&&x.ui.ddmanager.drag(this,d),!1},_mouseStop:function(d){var a=this,b=!1;return x.ui.ddmanager&&!this.options.dropBehaviour&&(b=x.ui.ddmanager.drop(this,d)),this.dropped&&(b=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!b||"valid"===this.options.revert&&b||this.options.revert===!0||x.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)?x(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",d)!==!1&&a._clear()}):this._trigger("stop",d)!==!1&&this._clear(),!1},_mouseUp:function(a){return this._unblockFrames(),x.ui.ddmanager&&x.ui.ddmanager.dragStop(this,a),this.handleElement.is(a.target)&&this.element.focus(),x.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){return this.options.handle?!!x(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(f){var a=this.options,d=x.isFunction(a.helper),b=d?x(a.helper.apply(this.element[0],[f])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo("parent"===a.appendTo?this.element[0].parentNode:a.appendTo),d&&b[0]===this.element[0]&&this._setPositionRelative(),b[0]===this.element[0]||/(fixed|absolute)/.test(b.css("position"))||b.css("position","absolute"),b},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),x.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),a=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==a&&x.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition){return{top:0,left:0}}var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var h,d,g,f=this.options,b=this.document[0];return this.relativeContainer=null,f.containment?"window"===f.containment?(this.containment=[x(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,x(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,x(window).scrollLeft()+x(window).width()-this.helperProportions.width-this.margins.left,x(window).scrollTop()+(x(window).height()||b.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===f.containment?(this.containment=[0,0,x(b).width()-this.helperProportions.width-this.margins.left,(x(b).height()||b.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):f.containment.constructor===Array?(this.containment=f.containment,void 0):("parent"===f.containment&&(f.containment=this.helper[0].parentNode),d=x(f.containment),g=d[0],g&&(h=/(scroll|auto)/.test(d.css("overflow")),this.containment=[(parseInt(d.css("borderLeftWidth"),10)||0)+(parseInt(d.css("paddingLeft"),10)||0),(parseInt(d.css("borderTopWidth"),10)||0)+(parseInt(d.css("paddingTop"),10)||0),(h?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(d.css("borderRightWidth"),10)||0)-(parseInt(d.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(h?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(d.css("borderBottomWidth"),10)||0)-(parseInt(d.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=d),void 0):(this.containment=null,void 0)},_convertPositionTo:function(a,f){f||(f=this.position);var b="absolute"===a?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:f.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*b,left:f.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*b}},_generatePosition:function(d,O){var g,y,p,b,u=this.options,v=this._isRootNode(this.scrollParent[0]),f=d.pageX,m=d.pageY;return v&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),O&&(this.containment&&(this.relativeContainer?(y=this.relativeContainer.offset(),g=[this.containment[0]+y.left,this.containment[1]+y.top,this.containment[2]+y.left,this.containment[3]+y.top]):g=this.containment,d.pageX-this.offset.click.left<g[0]&&(f=g[0]+this.offset.click.left),d.pageY-this.offset.click.top<g[1]&&(m=g[1]+this.offset.click.top),d.pageX-this.offset.click.left>g[2]&&(f=g[2]+this.offset.click.left),d.pageY-this.offset.click.top>g[3]&&(m=g[3]+this.offset.click.top)),u.grid&&(p=u.grid[1]?this.originalPageY+Math.round((m-this.originalPageY)/u.grid[1])*u.grid[1]:this.originalPageY,m=g?p-this.offset.click.top>=g[1]||p-this.offset.click.top>g[3]?p:p-this.offset.click.top>=g[1]?p-u.grid[1]:p+u.grid[1]:p,b=u.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/u.grid[0])*u.grid[0]:this.originalPageX,f=g?b-this.offset.click.left>=g[0]||b-this.offset.click.left>g[2]?b:b-this.offset.click.left>=g[0]?b-u.grid[0]:b+u.grid[0]:b),"y"===u.axis&&(f=this.originalPageX),"x"===u.axis&&(m=this.originalPageY)),{top:m-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:v?0:this.offset.scroll.top),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:v?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(d,a,b){return b=b||this._uiHash(),x.ui.plugin.call(this,d,[a,b,this],!0),/^(drag|start|stop)/.test(d)&&(this.positionAbs=this._convertPositionTo("absolute"),b.offset=this.positionAbs),x.Widget.prototype._trigger.call(this,d,a,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),x.ui.plugin.add("draggable","connectToSortable",{start:function(f,a,d){var b=x.extend({},a,{item:d.element});d.sortables=[],x(d.options.connectToSortable).each(function(){var g=x(this).sortable("instance");g&&!g.options.disabled&&(d.sortables.push(g),g.refreshPositions(),g._trigger("activate",f,b))})},stop:function(f,a,d){var b=x.extend({},a,{item:d.element});d.cancelHelperRemoval=!1,x.each(d.sortables,function(){var g=this;g.isOver?(g.isOver=0,d.cancelHelperRemoval=!0,g.cancelHelperRemoval=!1,g._storedCSS={position:g.placeholder.css("position"),top:g.placeholder.css("top"),left:g.placeholder.css("left")},g._mouseStop(f),g.options.helper=g.options._helper):(g.cancelHelperRemoval=!0,g._trigger("deactivate",f,b))})},drag:function(d,a,b){x.each(b.sortables,function(){var g=!1,f=this;f.positionAbs=b.positionAbs,f.helperProportions=b.helperProportions,f.offset.click=b.offset.click,f._intersectsWith(f.containerCache)&&(g=!0,x.each(b.sortables,function(){return this.positionAbs=b.positionAbs,this.helperProportions=b.helperProportions,this.offset.click=b.offset.click,this!==f&&this._intersectsWith(this.containerCache)&&x.contains(f.element[0],this.element[0])&&(g=!1),g})),g?(f.isOver||(f.isOver=1,b._parent=a.helper.parent(),f.currentItem=a.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return a.helper[0]},d.target=f.currentItem[0],f._mouseCapture(d,!0),f._mouseStart(d,!0,!0),f.offset.click.top=b.offset.click.top,f.offset.click.left=b.offset.click.left,f.offset.parent.left-=b.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=b.offset.parent.top-f.offset.parent.top,b._trigger("toSortable",d),b.dropped=f.element,x.each(b.sortables,function(){this.refreshPositions()}),b.currentItem=b.element,f.fromOutside=b),f.currentItem&&(f._mouseDrag(d),a.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,f.options.revert=!1,f._trigger("out",d,f._uiHash(f)),f._mouseStop(d,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),a.helper.appendTo(b._parent),b._refreshOffsets(d),a.position=b._generatePosition(d,!0),b._trigger("fromSortable",d),b.dropped=!1,x.each(b.sortables,function(){this.refreshPositions()}))})}}),x.ui.plugin.add("draggable","cursor",{start:function(h,d,g){var f=x("body"),b=g.options;f.css("cursor")&&(b._cursor=f.css("cursor")),f.css("cursor",b.cursor)},stop:function(f,a,d){var b=d.options;b._cursor&&x("body").css("cursor",b._cursor)}}),x.ui.plugin.add("draggable","opacity",{start:function(h,d,g){var f=x(d.helper),b=g.options;f.css("opacity")&&(b._opacity=f.css("opacity")),f.css("opacity",b.opacity)},stop:function(f,a,d){var b=d.options;b._opacity&&x(a.helper).css("opacity",b._opacity)}}),x.ui.plugin.add("draggable","scroll",{start:function(a,d,b){b.scrollParentNotHidden||(b.scrollParentNotHidden=b.helper.scrollParent(!1)),b.scrollParentNotHidden[0]!==b.document[0]&&"HTML"!==b.scrollParentNotHidden[0].tagName&&(b.overflowOffset=b.scrollParentNotHidden.offset())},drag:function(m,d,l){var f=l.options,b=!1,g=l.scrollParentNotHidden[0],h=l.document[0];g!==h&&"HTML"!==g.tagName?(f.axis&&"x"===f.axis||(l.overflowOffset.top+g.offsetHeight-m.pageY<f.scrollSensitivity?g.scrollTop=b=g.scrollTop+f.scrollSpeed:m.pageY-l.overflowOffset.top<f.scrollSensitivity&&(g.scrollTop=b=g.scrollTop-f.scrollSpeed)),f.axis&&"y"===f.axis||(l.overflowOffset.left+g.offsetWidth-m.pageX<f.scrollSensitivity?g.scrollLeft=b=g.scrollLeft+f.scrollSpeed:m.pageX-l.overflowOffset.left<f.scrollSensitivity&&(g.scrollLeft=b=g.scrollLeft-f.scrollSpeed))):(f.axis&&"x"===f.axis||(m.pageY-x(h).scrollTop()<f.scrollSensitivity?b=x(h).scrollTop(x(h).scrollTop()-f.scrollSpeed):x(window).height()-(m.pageY-x(h).scrollTop())<f.scrollSensitivity&&(b=x(h).scrollTop(x(h).scrollTop()+f.scrollSpeed))),f.axis&&"y"===f.axis||(m.pageX-x(h).scrollLeft()<f.scrollSensitivity?b=x(h).scrollLeft(x(h).scrollLeft()-f.scrollSpeed):x(window).width()-(m.pageX-x(h).scrollLeft())<f.scrollSensitivity&&(b=x(h).scrollLeft(x(h).scrollLeft()+f.scrollSpeed)))),b!==!1&&x.ui.ddmanager&&!f.dropBehaviour&&x.ui.ddmanager.prepareOffsets(l,m)}}),x.ui.plugin.add("draggable","snap",{start:function(f,a,d){var b=d.options;d.snapElements=[],x(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var h=x(this),g=h.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left})})},drag:function(ad,V,ac){var Y,O,Z,ab,U,W,ae,R,Q,aa,S=ac.options,X=S.snapTolerance,T=V.offset.left,af=T+ac.helperProportions.width,ag=V.offset.top,P=ag+ac.helperProportions.height;for(Q=ac.snapElements.length-1;Q>=0;Q--){U=ac.snapElements[Q].left-ac.margins.left,W=U+ac.snapElements[Q].width,ae=ac.snapElements[Q].top-ac.margins.top,R=ae+ac.snapElements[Q].height,U-X>af||T>W+X||ae-X>P||ag>R+X||!x.contains(ac.snapElements[Q].item.ownerDocument,ac.snapElements[Q].item)?(ac.snapElements[Q].snapping&&ac.options.snap.release&&ac.options.snap.release.call(ac.element,ad,x.extend(ac._uiHash(),{snapItem:ac.snapElements[Q].item})),ac.snapElements[Q].snapping=!1):("inner"!==S.snapMode&&(Y=X>=Math.abs(ae-P),O=X>=Math.abs(R-ag),Z=X>=Math.abs(U-af),ab=X>=Math.abs(W-T),Y&&(V.position.top=ac._convertPositionTo("relative",{top:ae-ac.helperProportions.height,left:0}).top),O&&(V.position.top=ac._convertPositionTo("relative",{top:R,left:0}).top),Z&&(V.position.left=ac._convertPositionTo("relative",{top:0,left:U-ac.helperProportions.width}).left),ab&&(V.position.left=ac._convertPositionTo("relative",{top:0,left:W}).left)),aa=Y||O||Z||ab,"outer"!==S.snapMode&&(Y=X>=Math.abs(ae-ag),O=X>=Math.abs(R-P),Z=X>=Math.abs(U-T),ab=X>=Math.abs(W-af),Y&&(V.position.top=ac._convertPositionTo("relative",{top:ae,left:0}).top),O&&(V.position.top=ac._convertPositionTo("relative",{top:R-ac.helperProportions.height,left:0}).top),Z&&(V.position.left=ac._convertPositionTo("relative",{top:0,left:U}).left),ab&&(V.position.left=ac._convertPositionTo("relative",{top:0,left:W-ac.helperProportions.width}).left)),!ac.snapElements[Q].snapping&&(Y||O||Z||ab||aa)&&ac.options.snap.snap&&ac.options.snap.snap.call(ac.element,ad,x.extend(ac._uiHash(),{snapItem:ac.snapElements[Q].item})),ac.snapElements[Q].snapping=Y||O||Z||ab||aa)}}}),x.ui.plugin.add("draggable","stack",{start:function(l,d,h){var f,b=h.options,g=x.makeArray(x(b.stack)).sort(function(m,a){return(parseInt(x(m).css("zIndex"),10)||0)-(parseInt(x(a).css("zIndex"),10)||0)});g.length&&(f=parseInt(x(g[0]).css("zIndex"),10)||0,x(g).each(function(a){x(this).css("zIndex",f+a)}),this.css("zIndex",f+g.length))}}),x.ui.plugin.add("draggable","zIndex",{start:function(h,d,g){var f=x(d.helper),b=g.options;f.css("zIndex")&&(b._zIndex=f.css("zIndex")),f.css("zIndex",b.zIndex)},stop:function(f,a,d){var b=d.options;b._zIndex&&x(a.helper).css("zIndex",b._zIndex)}}),x.ui.draggable,x.widget("ui.resizable",x.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return !isNaN(parseInt(a,10))},_hasScroll:function(f,a){if("hidden"===x(f).css("overflow")){return !1}var d=a&&"left"===a?"scrollLeft":"scrollTop",b=!1;return f[d]>0?!0:(f[d]=1,b=f[d]>0,f[d]=0,b)},_create:function(){var m,d,l,f,b,g=this,h=this.options;if(this.element.addClass("ui-resizable"),x.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(x("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(x(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=x(),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),m=this.handles.split(","),this.handles={},d=0;m.length>d;d++){l=x.trim(m[d]),b="ui-resizable-"+l,f=x("<div class='ui-resizable-handle "+b+"'></div>"),f.css({zIndex:h.zIndex}),"se"===l&&f.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[l]=".ui-resizable-"+l,this.element.append(f)}}this._renderAxis=function(y){var p,v,u,o;y=y||this.element;for(p in this.handles){this.handles[p].constructor===String?this.handles[p]=this.element.children(this.handles[p]).first().show():(this.handles[p].jquery||this.handles[p].nodeType)&&(this.handles[p]=x(this.handles[p]),this._on(this.handles[p],{mousedown:g._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(v=x(this.handles[p],this.element),o=/sw|ne|nw|se|n|s/.test(p)?v.outerHeight():v.outerWidth(),u=["padding",/ne|nw|n/.test(p)?"Top":/se|sw|s/.test(p)?"Bottom":/^e$/.test(p)?"Right":"Left"].join(""),y.css(u,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[p])}},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){g.resizing||(this.className&&(f=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=f&&f[1]?f[1]:"se")}),h.autoHide&&(this._handles.hide(),x(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(x(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){h.disabled||g.resizing||(x(this).addClass("ui-resizable-autohide"),g._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,a=function(d){x(d).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(a(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement),this},_mouseCapture:function(f){var a,d,b=!1;for(a in this.handles){d=x(this.handles[a])[0],(d===f.target||x.contains(d,f.target))&&(b=!0)}return !this.options.disabled&&b},_mouseStart:function(l){var d,h,f,b=this.options,g=this.element;return this.resizing=!0,this._renderProxy(),d=this._num(this.helper.css("left")),h=this._num(this.helper.css("top")),b.containment&&(d+=x(b.containment).scrollLeft()||0,h+=x(b.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:h},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalPosition={left:d,top:h},this.originalMousePosition={left:l.pageX,top:l.pageY},this.aspectRatio="number"==typeof b.aspectRatio?b.aspectRatio:this.originalSize.width/this.originalSize.height||1,f=x(".ui-resizable-"+this.axis).css("cursor"),x("body").css("cursor","auto"===f?this.axis+"-resize":f),g.addClass("ui-resizable-resizing"),this._propagate("start",l),!0},_mouseDrag:function(u){var f,p,g=this.originalMousePosition,b=this.axis,l=u.pageX-g.left||0,m=u.pageY-g.top||0,d=this._change[b];return this._updatePrevProperties(),d?(f=d.apply(this,[u,l,m]),this._updateVirtualBoundaries(u.shiftKey),(this._aspectRatio||u.shiftKey)&&(f=this._updateRatio(f,u)),f=this._respectSize(f,u),this._updateCache(f),this._propagate("resize",u),p=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),x.isEmptyObject(p)||(this._updatePrevProperties(),this._trigger("resize",u,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(O){this.resizing=!1;var f,y,m,b,p,v,d,g=this.options,P=this;return this._helper&&(f=this._proportionallyResizeElements,y=f.length&&/textarea/i.test(f[0].nodeName),m=y&&this._hasScroll(f[0],"left")?0:P.sizeDiff.height,b=y?0:P.sizeDiff.width,p={width:P.helper.width()-b,height:P.helper.height()-m},v=parseInt(P.element.css("left"),10)+(P.position.left-P.originalPosition.left)||null,d=parseInt(P.element.css("top"),10)+(P.position.top-P.originalPosition.top)||null,g.animate||this.element.css(x.extend(p,{top:d,left:v})),P.helper.height(P.size.height),P.helper.width(P.size.width),this._helper&&!g.animate&&this._proportionallyResize()),x("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",O),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(d){var m,f,l,g,b,h=this.options;b={minWidth:this._isNumber(h.minWidth)?h.minWidth:0,maxWidth:this._isNumber(h.maxWidth)?h.maxWidth:1/0,minHeight:this._isNumber(h.minHeight)?h.minHeight:0,maxHeight:this._isNumber(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||d)&&(m=b.minHeight*this.aspectRatio,l=b.minWidth/this.aspectRatio,f=b.maxHeight*this.aspectRatio,g=b.maxWidth/this.aspectRatio,m>b.minWidth&&(b.minWidth=m),l>b.minHeight&&(b.minHeight=l),b.maxWidth>f&&(b.maxWidth=f),b.maxHeight>g&&(b.maxHeight=g)),this._vBoundaries=b},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var f=this.position,b=this.size,d=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===d&&(a.left=f.left+(b.width-a.width),a.top=null),"nw"===d&&(a.top=f.top+(b.height-a.height),a.left=f.left+(b.width-a.width)),a},_respectSize:function(d){var P=this._vBoundaries,g=this.axis,O=this._isNumber(d.width)&&P.maxWidth&&P.maxWidth<d.width,p=this._isNumber(d.height)&&P.maxHeight&&P.maxHeight<d.height,b=this._isNumber(d.width)&&P.minWidth&&P.minWidth>d.width,v=this._isNumber(d.height)&&P.minHeight&&P.minHeight>d.height,y=this.originalPosition.left+this.originalSize.width,f=this.position.top+this.size.height,m=/sw|nw|w/.test(g),Q=/nw|ne|n/.test(g);return b&&(d.width=P.minWidth),v&&(d.height=P.minHeight),O&&(d.width=P.maxWidth),p&&(d.height=P.maxHeight),b&&m&&(d.left=y-P.minWidth),O&&m&&(d.left=y-P.maxWidth),v&&Q&&(d.top=f-P.minHeight),p&&Q&&(d.top=f-P.maxHeight),d.width||d.height||d.left||!d.top?d.width||d.height||d.top||!d.left||(d.left=null):d.top=null,d},_getPaddingPlusBorderDimensions:function(a){for(var g=0,b=[],f=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],d=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>g;g++){b[g]=parseInt(f[g],10)||0,b[g]+=parseInt(d[g],10)||0}return{height:b[0]+b[2],width:b[1]+b[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){for(var a,d=0,b=this.helper||this.element;this._proportionallyResizeElements.length>d;d++){a=this._proportionallyResizeElements[d],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:b.height()-this.outerDimensions.height||0,width:b.width()-this.outerDimensions.width||0})}}},_renderProxy:function(){var b=this.element,a=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||x("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,f){var b=this.originalSize,d=this.originalPosition;return{left:d.left+f,width:b.width-f}},n:function(a,g,b){var f=this.originalSize,d=this.originalPosition;return{top:d.top+b,height:f.height-b}},s:function(a,d,b){return{height:this.originalSize.height+b}},se:function(d,a,b){return x.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[d,a,b]))},sw:function(d,a,b){return x.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[d,a,b]))},ne:function(d,a,b){return x.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[d,a,b]))},nw:function(d,a,b){return x.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[d,a,b]))}},_propagate:function(b,a){x.ui.plugin.call(this,b,[a,this.ui()]),"resize"!==b&&this._trigger(b,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),x.ui.plugin.add("resizable","animate",{stop:function(O){var f=x(this).resizable("instance"),y=f.options,m=f._proportionallyResizeElements,b=m.length&&/textarea/i.test(m[0].nodeName),p=b&&f._hasScroll(m[0],"left")?0:f.sizeDiff.height,v=b?0:f.sizeDiff.width,d={width:f.size.width-v,height:f.size.height-p},g=parseInt(f.element.css("left"),10)+(f.position.left-f.originalPosition.left)||null,P=parseInt(f.element.css("top"),10)+(f.position.top-f.originalPosition.top)||null;f.element.animate(x.extend(d,P&&g?{top:P,left:g}:{}),{duration:y.animateDuration,easing:y.animateEasing,step:function(){var a={width:parseInt(f.element.css("width"),10),height:parseInt(f.element.css("height"),10),top:parseInt(f.element.css("top"),10),left:parseInt(f.element.css("left"),10)};m&&m.length&&x(m[0]).css({width:a.width,height:a.height}),f._updateCache(a),f._propagate("resize",O)}})}}),x.ui.plugin.add("resizable","containment",{start:function(){var R,p,Q,y,b,O,P,m=x(this).resizable("instance"),v=m.options,S=m.element,g=v.containment,f=g instanceof x?g.get(0):/parent/.test(g)?S.parent().get(0):g;f&&(m.containerElement=x(f),/document/.test(g)||g===document?(m.containerOffset={left:0,top:0},m.containerPosition={left:0,top:0},m.parentData={element:x(document),left:0,top:0,width:x(document).width(),height:x(document).height()||document.body.parentNode.scrollHeight}):(R=x(f),p=[],x(["Top","Right","Left","Bottom"]).each(function(a,d){p[a]=m._num(R.css("padding"+d))}),m.containerOffset=R.offset(),m.containerPosition=R.position(),m.containerSize={height:R.innerHeight()-p[3],width:R.innerWidth()-p[1]},Q=m.containerOffset,y=m.containerSize.height,b=m.containerSize.width,O=m._hasScroll(f,"left")?f.scrollWidth:b,P=m._hasScroll(f)?f.scrollHeight:y,m.parentData={element:f,left:Q.left,top:Q.top,width:O,height:P}))},resize:function(T){var v,S,O,b,P=x(this).resizable("instance"),R=P.options,m=P.containerOffset,y=P.position,U=P._aspectRatio||T.shiftKey,g={top:0,left:0},f=P.containerElement,Q=!0;f[0]!==document&&/static/.test(f.css("position"))&&(g=m),y.left<(P._helper?m.left:0)&&(P.size.width=P.size.width+(P._helper?P.position.left-m.left:P.position.left-g.left),U&&(P.size.height=P.size.width/P.aspectRatio,Q=!1),P.position.left=R.helper?m.left:0),y.top<(P._helper?m.top:0)&&(P.size.height=P.size.height+(P._helper?P.position.top-m.top:P.position.top),U&&(P.size.width=P.size.height*P.aspectRatio,Q=!1),P.position.top=P._helper?m.top:0),O=P.containerElement.get(0)===P.element.parent().get(0),b=/relative|absolute/.test(P.containerElement.css("position")),O&&b?(P.offset.left=P.parentData.left+P.position.left,P.offset.top=P.parentData.top+P.position.top):(P.offset.left=P.element.offset().left,P.offset.top=P.element.offset().top),v=Math.abs(P.sizeDiff.width+(P._helper?P.offset.left-g.left:P.offset.left-m.left)),S=Math.abs(P.sizeDiff.height+(P._helper?P.offset.top-g.top:P.offset.top-m.top)),v+P.size.width>=P.parentData.width&&(P.size.width=P.parentData.width-v,U&&(P.size.height=P.size.width/P.aspectRatio,Q=!1)),S+P.size.height>=P.parentData.height&&(P.size.height=P.parentData.height-S,U&&(P.size.width=P.size.height*P.aspectRatio,Q=!1)),Q||(P.position.left=P.prevPosition.left,P.position.top=P.prevPosition.top,P.size.width=P.prevSize.width,P.size.height=P.prevSize.height)},stop:function(){var y=x(this).resizable("instance"),f=y.options,v=y.containerOffset,m=y.containerPosition,b=y.containerElement,p=x(y.helper),u=p.offset(),d=p.outerWidth()-y.sizeDiff.width,g=p.outerHeight()-y.sizeDiff.height;y._helper&&!f.animate&&/relative/.test(b.css("position"))&&x(this).css({left:u.left-m.left-v.left,width:d,height:g}),y._helper&&!f.animate&&/static/.test(b.css("position"))&&x(this).css({left:u.left-m.left-v.left,width:d,height:g})}}),x.ui.plugin.add("resizable","alsoResize",{start:function(){var b=x(this).resizable("instance"),a=b.options;x(a.alsoResize).each(function(){var d=x(this);d.data("ui-resizable-alsoresize",{width:parseInt(d.width(),10),height:parseInt(d.height(),10),left:parseInt(d.css("left"),10),top:parseInt(d.css("top"),10)})})},resize:function(m,d){var l=x(this).resizable("instance"),f=l.options,b=l.originalSize,g=l.originalPosition,h={height:l.size.height-b.height||0,width:l.size.width-b.width||0,top:l.position.top-g.top||0,left:l.position.left-g.left||0};x(f.alsoResize).each(function(){var u=x(this),p=x(this).data("ui-resizable-alsoresize"),o={},i=u.parents(d.originalElement[0]).length?["width","height"]:["width","height","top","left"];x.each(i,function(a,s){var n=(p[s]||0)+(h[s]||0);n&&n>=0&&(o[s]=n||null)}),u.css(o)})},stop:function(){x(this).removeData("resizable-alsoresize")}}),x.ui.plugin.add("resizable","ghost",{start:function(){var d=x(this).resizable("instance"),a=d.options,b=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:0.25,display:"block",position:"relative",height:b.height,width:b.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:""),d.ghost.appendTo(d.helper)},resize:function(){var a=x(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=x(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),x.ui.plugin.add("resizable","grid",{resize:function(){var ab,T=x(this).resizable("instance"),aa=T.options,W=T.size,b=T.originalSize,X=T.originalPosition,Z=T.axis,S="number"==typeof aa.grid?[aa.grid,aa.grid]:aa.grid,U=S[0]||1,ac=S[1]||1,P=Math.round((W.width-b.width)/U)*U,O=Math.round((W.height-b.height)/ac)*ac,Y=b.width+P,Q=b.height+O,V=aa.maxWidth&&Y>aa.maxWidth,R=aa.maxHeight&&Q>aa.maxHeight,ad=aa.minWidth&&aa.minWidth>Y,ae=aa.minHeight&&aa.minHeight>Q;aa.grid=S,ad&&(Y+=U),ae&&(Q+=ac),V&&(Y-=U),R&&(Q-=ac),/^(se|s|e)$/.test(Z)?(T.size.width=Y,T.size.height=Q):/^(ne)$/.test(Z)?(T.size.width=Y,T.size.height=Q,T.position.top=X.top-O):/^(sw)$/.test(Z)?(T.size.width=Y,T.size.height=Q,T.position.left=X.left-P):((0>=Q-ac||0>=Y-U)&&(ab=T._getPaddingPlusBorderDimensions(this)),Q-ac>0?(T.size.height=Q,T.position.top=X.top-O):(Q=ac-ab.height,T.size.height=Q,T.position.top=X.top+b.height-Q),Y-U>0?(T.size.width=Y,T.position.left=X.left-P):(Y=U-ab.width,T.size.width=Y,T.position.left=X.left+b.width-Y))}}),x.ui.resizable,x.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var a=x(this).css(b).offset().top;0>a&&x(this).css("top",b.top-a)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&x.fn.draggable&&this._makeDraggable(),this.options.resizable&&x.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?x(a):this.document.find(a||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:x.noop,enable:x.noop,close:function(f){var a,d=this;if(this._isOpen&&this._trigger("beforeClose",f)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length){try{a=this.document[0].activeElement,a&&"body"!==a.nodeName.toLowerCase()&&x(a).blur()}catch(b){}}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",f)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(h,d){var g=!1,f=this.uiDialog.siblings(".ui-front:visible").map(function(){return +x(this).css("z-index")}).get(),b=Math.max.apply(null,f);return b>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",b+1),g=!0),g&&!d&&this._trigger("focus",h),g},open:function(){var a=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=x(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable(),a._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(b){function a(){var f=this.document[0].activeElement,d=this.uiDialog[0]===f||x.contains(this.uiDialog[0],f);d||this._focusTabbable()}b.preventDefault(),a.call(this),this._delay(a)},_createWrapper:function(){this.uiDialog=x("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(f){if(this.options.closeOnEscape&&!f.isDefaultPrevented()&&f.keyCode&&f.keyCode===x.ui.keyCode.ESCAPE){return f.preventDefault(),this.close(f),void 0}if(f.keyCode===x.ui.keyCode.TAB&&!f.isDefaultPrevented()){var a=this.uiDialog.find(":tabbable"),d=a.filter(":first"),b=a.filter(":last");f.target!==b[0]&&f.target!==this.uiDialog[0]||f.shiftKey?f.target!==d[0]&&f.target!==this.uiDialog[0]||!f.shiftKey||(this._delay(function(){b.focus()}),f.preventDefault()):(this._delay(function(){d.focus()}),f.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=x("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(b){x(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=x("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(b){b.preventDefault(),this.close(b)}}),a=x("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(a),this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=x("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=x("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var b=this,a=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),x.isEmptyObject(a)||x.isArray(a)&&!a.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(x.each(a,function(f,h){var g,d;h=x.isFunction(h)?{click:h,text:f}:h,h=x.extend({type:"button"},h),g=h.click,h.click=function(){g.apply(b.element[0],arguments)},d={icons:h.icons,text:h.showText},delete h.icons,delete h.showText,x("<button></button>",h).button(d).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function d(f){return{position:f.position,offset:f.offset}}var a=this,b=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(g,f){x(this).addClass("ui-dialog-dragging"),a._blockFrames(),a._trigger("dragStart",g,d(f))},drag:function(f,g){a._trigger("drag",f,d(g))},stop:function(g,f){var h=f.offset.left-a.document.scrollLeft(),i=f.offset.top-a.document.scrollTop();b.position={my:"left top",at:"left"+(h>=0?"+":"")+h+" top"+(i>=0?"+":"")+i,of:a.window},x(this).removeClass("ui-dialog-dragging"),a._unblockFrames(),a._trigger("dragStop",g,d(f))}})},_makeResizable:function(){function l(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var d=this,h=this.options,f=h.resizable,b=this.uiDialog.css("position"),g="string"==typeof f?f:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:h.maxWidth,maxHeight:h.maxHeight,minWidth:h.minWidth,minHeight:this._minHeight(),handles:g,start:function(i,a){x(this).addClass("ui-dialog-resizing"),d._blockFrames(),d._trigger("resizeStart",i,l(a))},resize:function(a,i){d._trigger("resize",a,l(i))},stop:function(p,i){var s=d.uiDialog.offset(),t=s.left-d.document.scrollLeft(),m=s.top-d.document.scrollTop();h.height=d.uiDialog.height(),h.width=d.uiDialog.width(),h.position={my:"left top",at:"left"+(t>=0?"+":"")+t+" top"+(m>=0?"+":"")+m,of:d.window},x(this).removeClass("ui-dialog-resizing"),d._unblockFrames(),d._trigger("resizeStop",p,l(i))}}).css("position",b)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget(),this._focusedElement=x(a.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),a=x.inArray(this,b);-1!==a&&b.splice(a,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(f){var a=this,d=!1,b={};x.each(f,function(g,h){a._setOption(g,h),g in a.sizeRelatedOptions&&(d=!0),g in a.resizableRelatedOptions&&(b[g]=h)}),d&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",b)},_setOption:function(a,g){var b,f,d=this.uiDialog;"dialogClass"===a&&d.removeClass(this.options.dialogClass).addClass(g),"disabled"!==a&&(this._super(a,g),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+g}),"draggable"===a&&(b=d.is(":data(ui-draggable)"),b&&!g&&d.draggable("destroy"),!b&&g&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(f=d.is(":data(ui-resizable)"),f&&!g&&d.resizable("destroy"),f&&"string"==typeof g&&d.resizable("option","handles",g),f||g===!1||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,f,b,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),f=Math.max(0,d.minHeight-a),b="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:f,maxHeight:b,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=x(this);return x("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return x(a.target).closest(".ui-dialog").length?!0:!!x(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(b){a||this._allowInteraction(b)||(b.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=x("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),x.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var d,a=this.options,b=a.accept;this.isover=!1,this.isout=!0,this.accept=x.isFunction(b)?b:function(f){return f.is(b)},this.proportions=function(){return arguments.length?(d=arguments[0],void 0):d?d:d={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(a.scope),a.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){x.ui.ddmanager.droppables[a]=x.ui.ddmanager.droppables[a]||[],x.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var b=0;a.length>b;b++){a[b]===this&&a.splice(b,1)}},_destroy:function(){var a=x.ui.ddmanager.droppables[this.options.scope];this._splice(a),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,a){if("accept"===d){this.accept=x.isFunction(a)?a:function(f){return f.is(a)}}else{if("scope"===d){var b=x.ui.ddmanager.droppables[this.options.scope];this._splice(b),this._addToManager(a)}}this._super(d,a)},_activate:function(b){var a=x.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),a&&this._trigger("activate",b,this.ui(a))},_deactivate:function(b){var a=x.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),a&&this._trigger("deactivate",b,this.ui(a))},_over:function(b){var a=x.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(a)))},_out:function(b){var a=x.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(a)))},_drop:function(f,a){var d=a||x.ui.ddmanager.current,b=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var g=x(this).droppable("instance");return g.options.greedy&&!g.options.disabled&&g.options.scope===d.options.scope&&g.accept.call(g.element[0],d.currentItem||d.element)&&x.ui.intersect(d,x.extend(g,{offset:g.element.offset()}),g.options.tolerance,f)?(b=!0,!1):void 0}),b?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",f,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),x.ui.intersect=function(){function a(b,f,d){return b>=f&&f+d>b}return function(R,p,Q,y){if(!p.offset){return !1}var b=(R.positionAbs||R.position.absolute).left+R.margins.left,O=(R.positionAbs||R.position.absolute).top+R.margins.top,P=b+R.helperProportions.width,m=O+R.helperProportions.height,v=p.offset.left,S=p.offset.top,g=v+p.proportions().width,f=S+p.proportions().height;switch(Q){case"fit":return b>=v&&g>=P&&O>=S&&f>=m;case"intersect":return b+R.helperProportions.width/2>v&&g>P-R.helperProportions.width/2&&O+R.helperProportions.height/2>S&&f>m-R.helperProportions.height/2;case"pointer":return a(y.pageY,S,p.proportions().height)&&a(y.pageX,v,p.proportions().width);case"touch":return(O>=S&&f>=O||m>=S&&f>=m||S>O&&m>f)&&(b>=v&&g>=b||P>=v&&g>=P||v>b&&P>g);default:return !1}}}(),x.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(m,d){var l,f,b=x.ui.ddmanager.droppables[m.options.scope]||[],g=d?d.type:null,h=(m.currentItem||m.element).find(":data(ui-droppable)").addBack();x:for(l=0;b.length>l;l++){if(!(b[l].options.disabled||m&&!b[l].accept.call(b[l].element[0],m.currentItem||m.element))){for(f=0;h.length>f;f++){if(h[f]===b[l].element[0]){b[l].proportions().height=0;continue x}}b[l].visible="none"!==b[l].element.css("display"),b[l].visible&&("mousedown"===g&&b[l]._activate.call(b[l],d),b[l].offset=b[l].element.offset(),b[l].proportions({width:b[l].element[0].offsetWidth,height:b[l].element[0].offsetHeight}))}}},drop:function(d,a){var b=!1;return x.each((x.ui.ddmanager.droppables[d.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&x.ui.intersect(d,this,this.options.tolerance,a)&&(b=this._drop.call(this,a)||b),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,a)))}),b},dragStart:function(b,a){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||x.ui.ddmanager.prepareOffsets(b,a)})},drag:function(b,a){b.options.refreshPositions&&x.ui.ddmanager.prepareOffsets(b,a),x.each(x.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,f,d,g=x.ui.intersect(b,this,this.options.tolerance,a),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(f=this.options.scope,d=this.element.parents(":data(ui-droppable)").filter(function(){return x(this).droppable("instance").options.scope===f}),d.length&&(i=x(d[0]).droppable("instance"),i.greedyChild="isover"===h)),i&&"isover"===h&&(i.isover=!1,i.isout=!0,i._out.call(i,a)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,a),i&&"isout"===h&&(i.isout=!1,i.isover=!0,i._over.call(i,a)))}})},dragStop:function(b,a){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||x.ui.ddmanager.prepareOffsets(b,a)}},x.ui.droppable;var N="ui-effects-",k=x;x.effects={effect:{}},function(v,W){function P(a,h,d){var f=m[h.type]||{};return null==a?d||!h.def?null:h.def:(a=f.floor?~~a:parseFloat(a),isNaN(a)?h.def:f.mod?(a+f.mod)%f.mod:0>a?0:a>f.max?f.max:a)}function V(a){var f=Q(),d=f._rgba=[];return a=a.toLowerCase(),y(O,function(n,i){var t,u=i.re.exec(a),p=u&&i.parse(u),s=i.space||"rgba";return p?(t=f[s](p),f[X[s].cache]=t[X[s].cache],d=f._rgba=t._rgba,!1):W}),d.length?("0,0,0,0"===d.join()&&v.extend(d,b.transparent),f):b[a]}function R(a,f,d){return d=(d+1)%1,1>6*d?a+6*(f-a)*d:1>2*d?f:2>3*d?a+6*(f-a)*(2/3-d):a}var b,S="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",U=/^([\-+])=\s*(\d+\.?\d*)/,O=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],Q=v.Color=function(h,a,f,d){return new v.Color.fn.parse(h,a,f,d)},X={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},g=Q.support={},T=v("<p>")[0],y=v.each;T.style.cssText="background-color:rgba(1,1,1,.5)",g.rgba=T.style.backgroundColor.indexOf("rgba")>-1,y(X,function(a,d){d.cache="_"+a,d.props.alpha={idx:3,type:"percent",def:1}}),Q.fn=v.extend(Q.prototype,{parse:function(l,s,u,i){if(l===W){return this._rgba=[null,null,null,null],this}(l.jquery||l.nodeType)&&(l=v(l).css(s),s=W);var f=this,a=v.type(l),t=this._rgba=[];return s!==W&&(l=[l,s,u,i],a="array"),"string"===a?this.parse(V(l)||b._default):"array"===a?(y(X.rgba.props,function(d,h){t[h.idx]=P(l[h.idx],h)}),this):"object"===a?(l instanceof Q?y(X,function(d,h){l[h.cache]&&(f[h.cache]=l[h.cache].slice())}):y(X,function(n,h){var d=h.cache;y(h.props,function(o,p){if(!f[d]&&h.to){if("alpha"===o||null==l[o]){return}f[d]=h.to(f._rgba)}f[d][p.idx]=P(l[o],p,!0)}),f[d]&&0>v.inArray(null,f[d].slice(0,3))&&(f[d][3]=1,h.from&&(f._rgba=h.from(f[d])))}),this):W},is:function(a){var d=Q(a),h=!0,f=this;return y(X,function(l,i){var n,p=d[i.cache];return p&&(n=f[i.cache]||i.to&&i.to(f._rgba)||[],y(i.props,function(o,s){return null!=p[s.idx]?h=p[s.idx]===n[s.idx]:W})),h}),h},_space:function(){var a=[],d=this;return y(X,function(f,h){d[h.cache]&&a.push(f)}),a.pop()},transition:function(f,Z){var Y=Q(f),l=Y._space(),d=X[l],p=0===this.alpha()?Q("transparent"):this,u=p[d.cache]||d.to(p._rgba),i=u.slice();return Y=Y[d.cache],y(d.props,function(s,aa){var h=aa.idx,ab=u[h],t=Y[h],ac=m[aa.type]||{};null!==t&&(null===ab?i[h]=t:(ac.mod&&(t-ab>ac.mod/2?ab+=ac.mod:ab-t>ac.mod/2&&(ab-=ac.mod)),i[h]=P((t-ab)*Z+ab,aa)))}),this[l](i)},blend:function(h){if(1===this._rgba[3]){return this}var a=this._rgba.slice(),f=a.pop(),d=Q(h)._rgba;return Q(v.map(a,function(i,l){return(1-f)*d[l]+f*i}))},toRgbaString:function(){var d="rgba(",a=v.map(this._rgba,function(f,h){return null==f?h>2?1:0:f});return 1===a[3]&&(a.pop(),d="rgb("),d+a.join()+")"},toHslaString:function(){var d="hsla(",a=v.map(this.hsla(),function(f,h){return null==f&&(f=h>2?1:0),h&&3>h&&(f=Math.round(100*f)+"%"),f});return 1===a[3]&&(a.pop(),d="hsl("),d+a.join()+")"},toHexString:function(f){var a=this._rgba.slice(),d=a.pop();return f&&a.push(~~(255*d)),"#"+v.map(a,function(h){return h=(h||0).toString(16),1===h.length?"0"+h:h}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),Q.fn.parse.prototype=Q.fn,X.hsla.to=function(Y){if(null==Y[0]||null==Y[1]||null==Y[2]){return[null,null,null,Y[3]]}var ag,aa,af=Y[0]/255,ac=Y[1]/255,f=Y[2]/255,ad=Y[3],ae=Math.max(af,ac,f),Z=Math.min(af,ac,f),ab=ae-Z,ah=ae+Z,p=0.5*ah;return ag=Z===ae?0:af===ae?60*(ac-f)/ab+360:ac===ae?60*(f-af)/ab+120:60*(af-ac)/ab+240,aa=0===ab?0:0.5>=p?ab/ah:ab/(2-ah),[Math.round(ag)%360,aa,p,null==ad?1:ad]},X.hsla.from=function(f){if(null==f[0]||null==f[1]||null==f[2]){return[null,null,null,f[3]]}var u=f[0]/360,h=f[1],p=f[2],d=f[3],l=0.5>=p?p*(1+h):p+h-p*h,n=2*p-l;return[Math.round(255*R(n,l,u+1/3)),Math.round(255*R(n,l,u)),Math.round(255*R(n,l,u-1/3)),d]},y(X,function(p,i){var d=i.props,l=i.cache,f=i.to,t=i.from;Q.fn[p]=function(Y){if(f&&!this[l]&&(this[l]=f(this._rgba)),Y===W){return this[l].slice()}var o,u=v.type(Y),h="array"===u||"object"===u?Y:arguments,a=this[l].slice();return y(d,function(n,aa){var Z=h["object"===u?n:aa.idx];null==Z&&(Z=a[aa.idx]),a[aa.idx]=P(Z,aa)}),t?(o=Q(t(a)),o[l]=a,o):Q(a)},y(d,function(h,a){Q.fn[h]||(Q.fn[h]=function(aa){var s,ab=v.type(aa),Y="alpha"===h?this._hsla?"hsla":"rgba":p,Z=this[Y](),ac=Z[a.idx];return"undefined"===ab?ac:("function"===ab&&(aa=aa.call(this,ac),ab=v.type(aa)),null==aa&&a.empty?this:("string"===ab&&(s=U.exec(aa),s&&(aa=ac+parseFloat(s[2])*("+"===s[1]?1:-1))),Z[a.idx]=aa,this[Y](Z)))})})}),Q.hook=function(d){var a=d.split(" ");y(a,function(h,f){v.cssHooks[f]={set:function(Y,p){var i,s,u="";if("transparent"!==p&&("string"!==v.type(p)||(i=V(p)))){if(p=Q(i||p),!g.rgba&&1!==p._rgba[3]){for(s="backgroundColor"===f?Y.parentNode:Y;(""===u||"transparent"===u)&&s&&s.style;){try{u=v.css(s,"backgroundColor"),s=s.parentNode}catch(l){}}p=p.blend(u&&"transparent"!==u?u:"_default")}p=p.toRgbaString()}try{Y.style[f]=p}catch(l){}}},v.fx.step[f]=function(i){i.colorInit||(i.start=Q(i.elem,f),i.end=Q(i.end),i.colorInit=!0),v.cssHooks[f].set(i.elem,i.start.transition(i.end,i.pos))}})},Q.hook(S),v.cssHooks.borderColor={expand:function(a){var d={};return y(["Top","Right","Bottom","Left"],function(f,h){d["border"+h+"Color"]=a}),d}},b=v.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(k),function(){function f(o){var h,m,l=o.ownerDocument.defaultView?o.ownerDocument.defaultView.getComputedStyle(o,null):o.currentStyle,g={};if(l&&l.length&&l[0]&&l[l[0]]){for(m=l.length;m--;){h=l[m],"string"==typeof l[h]&&(g[x.camelCase(h)]=l[h])}}else{for(h in l){"string"==typeof l[h]&&(g[h]=l[h])}}return g}function a(n,h){var m,g,l={};for(m in h){g=h[m],n[m]!==g&&(b[m]||(x.fx.step[m]||!isNaN(parseFloat(g)))&&(l[m]=g))}return l}var d=["add","remove","toggle"],b={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};x.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(h,g){x.fx.step[g]=function(i){("none"!==i.end&&!i.setAttr||1===i.pos&&!i.setAttr)&&(k.style(i.elem,g,i.end),i.setAttr=!0)}}),x.fn.addBack||(x.fn.addBack=function(g){return this.add(null==g?this.prevObject:this.prevObject.filter(g))}),x.effects.animateClass=function(l,g,m,p){var i=x.speed(g,m,p);return this.queue(function(){var h,s=x(this),t=s.attr("class")||"",n=i.children?s.find("*").addBack():s;n=n.map(function(){var o=x(this);return{el:o,start:f(this)}}),h=function(){x.each(d,function(o,u){l[u]&&s[u+"Class"](l[u])})},h(),n=n.map(function(){return this.end=f(this.el[0]),this.diff=a(this.start,this.end),this}),s.attr("class",t),n=n.map(function(){var v=this,o=x.Deferred(),u=x.extend({},i,{queue:!1,complete:function(){o.resolve(v)}});return this.el.animate(this.diff,u),o.promise()}),x.when.apply(x,n.get()).done(function(){h(),x.each(arguments,function(){var o=this.el;x.each(this.diff,function(u){o.css(u,"")})}),i.complete.call(s[0])})})},x.fn.extend({addClass:function(g){return function(l,o,m,h){return o?x.effects.animateClass.call(this,{add:l},o,m,h):g.apply(this,arguments)}}(x.fn.addClass),removeClass:function(g){return function(l,o,m,h){return arguments.length>1?x.effects.animateClass.call(this,{remove:l},o,m,h):g.apply(this,arguments)}}(x.fn.removeClass),toggleClass:function(g){return function(l,t,m,h,p){return"boolean"==typeof t||void 0===t?m?x.effects.animateClass.call(this,t?{add:l}:{remove:l},m,h,p):g.apply(this,arguments):x.effects.animateClass.call(this,{toggle:l},t,m,h)}}(x.fn.toggleClass),switchClass:function(o,h,m,l,g){return x.effects.animateClass.call(this,{add:h,remove:o},m,l,g)}})}(),function(){function b(h,d,g,f){return x.isPlainObject(h)&&(d=h,h=h.effect),h={effect:h},null==d&&(d={}),x.isFunction(d)&&(f=d,g=null,d={}),("number"==typeof d||x.fx.speeds[d])&&(f=g,g=d,d={}),x.isFunction(g)&&(f=g,g=null),d&&x.extend(h,d),g=g||d.duration,h.duration=x.fx.off?0:"number"==typeof g?g:g in x.fx.speeds?x.fx.speeds[g]:x.fx.speeds._default,h.complete=f||d.complete,h}function a(d){return !d||"number"==typeof d||x.fx.speeds[d]?!0:"string"!=typeof d||x.effects.effect[d]?x.isFunction(d)?!0:"object"!=typeof d||d.effect?!1:!0:!0}x.extend(x.effects,{version:"1.11.4",save:function(d,g){for(var f=0;g.length>f;f++){null!==g[f]&&d.data(N+g[f],d[0].style[g[f]])}},restore:function(d,h){var f,g;for(g=0;h.length>g;g++){null!==h[g]&&(f=d.data(N+h[g]),void 0===f&&(f=""),d.css(h[g],f))}},setMode:function(d,f){return"toggle"===f&&(f=d.is(":hidden")?"show":"hide"),f},getBaseline:function(d,h){var f,g;switch(d[0]){case"top":f=0;break;case"middle":f=0.5;break;case"bottom":f=1;break;default:f=d[0]/h.height}switch(d[1]){case"left":g=0;break;case"center":g=0.5;break;case"right":g=1;break;default:g=d[1]/h.width}return{x:g,y:f}},createWrapper:function(m){if(m.parent().is(".ui-effects-wrapper")){return m.parent()}var f={width:m.outerWidth(!0),height:m.outerHeight(!0),"float":m.css("float")},l=x("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g={width:m.width(),height:m.height()},d=document.activeElement;try{d.id}catch(h){d=document.body}return m.wrap(l),(m[0]===d||x.contains(m[0],d))&&x(d).focus(),l=m.parent(),"static"===m.css("position")?(l.css({position:"relative"}),m.css({position:"relative"})):(x.extend(f,{position:m.css("position"),zIndex:m.css("z-index")}),x.each(["top","left","bottom","right"],function(i,n){f[n]=m.css(n),isNaN(parseInt(f[n],10))&&(f[n]="auto")}),m.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),m.css(g),l.css(f).show()},removeWrapper:function(f){var d=document.activeElement;return f.parent().is(".ui-effects-wrapper")&&(f.parent().replaceWith(f),(f[0]===d||x.contains(f[0],d))&&x(d).focus()),f},setTransition:function(h,d,g,f){return f=f||{},x.each(d,function(m,n){var l=h.cssUnit(n);l[0]>0&&(f[n]=l[0]*g+l[1])}),f}}),x.fn.extend({effect:function(){function f(u){function o(){x.isFunction(m)&&m.call(p[0]),x.isFunction(u)&&u()}var p=x(this),m=l.complete,s=l.mode;(p.is(":hidden")?"hide"===s:"show"===s)?(p[s](),o()):h.call(p[0],l,o)}var l=b.apply(this,arguments),g=l.mode,d=l.queue,h=x.effects.effect[l.effect];return x.fx.off||!h?g?this[g](l.duration,l.complete):this.each(function(){l.complete&&l.complete.call(this)}):d===!1?this.each(f):this.queue(d||"fx",f)},show:function(d){return function(g){if(a(g)){return d.apply(this,arguments)}var f=b.apply(this,arguments);return f.mode="show",this.effect.call(this,f)}}(x.fn.show),hide:function(d){return function(g){if(a(g)){return d.apply(this,arguments)}var f=b.apply(this,arguments);return f.mode="hide",this.effect.call(this,f)}}(x.fn.hide),toggle:function(d){return function(g){if(a(g)||"boolean"==typeof g){return d.apply(this,arguments)}var f=b.apply(this,arguments);return f.mode="toggle",this.effect.call(this,f)}}(x.fn.toggle),cssUnit:function(g){var d=this.css(g),f=[];return x.each(["em","px","%","pt"],function(h,i){d.indexOf(i)>0&&(f=[parseFloat(d),i])}),f}})}(),function(){var a={};x.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,d){a[d]=function(f){return Math.pow(f,b+2)}}),x.extend(a,{Sine:function(b){return 1-Math.cos(b*Math.PI/2)},Circ:function(b){return 1-Math.sqrt(1-b*b)},Elastic:function(b){return 0===b||1===b?b:-Math.pow(2,8*(b-1))*Math.sin((80*(b-1)-7.5)*Math.PI/15)},Back:function(b){return b*b*(3*b-2)},Bounce:function(b){for(var f,d=4;((f=Math.pow(2,--d))-1)/11>b;){}return 1/Math.pow(4,3-d)-7.5625*Math.pow((3*f-2)/22-b,2)}}),x.each(a,function(d,b){x.easing["easeIn"+d]=b,x.easing["easeOut"+d]=function(f){return 1-b(1-f)},x.easing["easeInOut"+d]=function(f){return 0.5>f?b(2*f)/2:1-b(-2*f+2)/2}})}(),x.effects,x.effects.effect.blind=function(aa,S){var Z,V,b,W=x(this),Y=/up|down|vertical/,R=/up|left|vertical|horizontal/,T=["position","top","bottom","left","right","height","width"],ab=x.effects.setMode(W,aa.mode||"hide"),O=aa.direction||"up",y=Y.test(O),X=y?"height":"width",P=y?"top":"left",U=R.test(O),Q={},ac="show"===ab;W.parent().is(".ui-effects-wrapper")?x.effects.save(W.parent(),T):x.effects.save(W,T),W.show(),Z=x.effects.createWrapper(W).css({overflow:"hidden"}),V=Z[X](),b=parseFloat(Z.css(P))||0,Q[X]=ac?V:0,U||(W.css(y?"bottom":"right",0).css(y?"top":"left","auto").css({position:"absolute"}),Q[P]=ac?b:V+b),ac&&(Z.css(X,0),U||Z.css(P,b+V)),Z.animate(Q,{duration:aa.duration,easing:aa.easing,queue:!1,complete:function(){"hide"===ab&&W.hide(),x.effects.restore(W,T),x.effects.removeWrapper(W),S()}})},x.effects.effect.bounce=function(ae,W){var ad,Z,P,aa=x(this),ac=["position","top","bottom","left","right","height","width"],V=x.effects.setMode(aa,ae.mode||"effect"),X="hide"===V,af="show"===V,S=ae.direction||"up",R=ae.distance,ab=ae.times||5,T=2*ab+(af||X?1:0),Y=ae.duration/T,U=ae.easing,ag="up"===S||"down"===S?"top":"left",ah="up"===S||"left"===S,Q=aa.queue(),O=Q.length;for((af||X)&&ac.push("opacity"),x.effects.save(aa,ac),aa.show(),x.effects.createWrapper(aa),R||(R=aa["top"===ag?"outerHeight":"outerWidth"]()/3),af&&(P={opacity:1},P[ag]=0,aa.css("opacity",0).css(ag,ah?2*-R:2*R).animate(P,Y,U)),X&&(R/=Math.pow(2,ab-1)),P={},P[ag]=0,ad=0;ab>ad;ad++){Z={},Z[ag]=(ah?"-=":"+=")+R,aa.animate(Z,Y,U).animate(P,Y,U),R=X?2*R:R/2}X&&(Z={opacity:0},Z[ag]=(ah?"-=":"+=")+R,aa.animate(Z,Y,U)),aa.queue(function(){X&&aa.hide(),x.effects.restore(aa,ac),x.effects.removeWrapper(aa),W()}),O>1&&Q.splice.apply(Q,[1,0].concat(Q.splice(O,T+1))),aa.dequeue()},x.effects.effect.clip=function(V,O){var U,Q,b,R=x(this),T=["position","top","bottom","left","right","height","width"],y=x.effects.setMode(R,V.mode||"hide"),P="show"===y,W=V.direction||"vertical",m="vertical"===W,g=m?"height":"width",S=m?"top":"left",v={};x.effects.save(R,T),R.show(),U=x.effects.createWrapper(R).css({overflow:"hidden"}),Q="IMG"===R[0].tagName?U:R,b=Q[g](),P&&(Q.css(g,0),Q.css(S,b/2)),v[g]=P?b:0,v[S]=P?0:b/2,Q.animate(v,{queue:!1,duration:V.duration,easing:V.easing,complete:function(){P||R.hide(),x.effects.restore(R,T),x.effects.removeWrapper(R),O()}})},x.effects.effect.drop=function(Q,m){var P,v=x(this),b=["position","top","bottom","left","right","opacity","height","width"],y=x.effects.setMode(v,Q.mode||"hide"),O="show"===y,g=Q.direction||"left",p="up"===g||"down"===g?"top":"left",R="up"===g||"left"===g?"pos":"neg",f={opacity:O?1:0};x.effects.save(v,b),v.show(),x.effects.createWrapper(v),P=Q.distance||v["top"===p?"outerHeight":"outerWidth"](!0)/2,O&&v.css("opacity",0).css(p,"pos"===R?-P:P),f[p]=(O?"pos"===R?"+=":"-=":"pos"===R?"-=":"+=")+P,v.animate(f,{queue:!1,duration:Q.duration,easing:Q.easing,complete:function(){"hide"===y&&v.hide(),x.effects.restore(v,b),x.effects.removeWrapper(v),m()}})},x.effects.effect.explode=function(ad,V){function ac(){P.push(this),P.length===R*Q&&Y()}function Y(){aa.css({visibility:"visible"}),x(P).remove(),X||aa.hide(),V()}var O,Z,ab,U,W,ae,R=ad.pieces?Math.round(Math.sqrt(ad.pieces)):3,Q=R,aa=x(this),S=x.effects.setMode(aa,ad.mode||"hide"),X="show"===S,T=aa.show().css("visibility","hidden").offset(),af=Math.ceil(aa.outerWidth()/Q),ag=Math.ceil(aa.outerHeight()/R),P=[];for(O=0;R>O;O++){for(U=T.top+O*ag,ae=O-(R-1)/2,Z=0;Q>Z;Z++){ab=T.left+Z*af,W=Z-(Q-1)/2,aa.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-Z*af,top:-O*ag}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:af,height:ag,left:ab+(X?W*af:0),top:U+(X?ae*ag:0),opacity:X?0:1}).animate({left:ab+(X?0:W*af),top:U+(X?0:ae*ag),opacity:X?1:0},ad.duration||500,ad.easing,ac)}}},x.effects.effect.fade=function(f,a){var d=x(this),b=x.effects.setMode(d,f.mode||"toggle");d.animate({opacity:b},{queue:!1,duration:f.duration,easing:f.easing,complete:a})},x.effects.effect.fold=function(aa,S){var Z,V,b=x(this),W=["position","top","bottom","left","right","height","width"],Y=x.effects.setMode(b,aa.mode||"hide"),R="show"===Y,T="hide"===Y,ab=aa.size||15,O=/([0-9]+)%/.exec(ab),y=!!aa.horizFirst,X=R!==y,P=X?["width","height"]:["height","width"],U=aa.duration/2,Q={},ac={};x.effects.save(b,W),b.show(),Z=x.effects.createWrapper(b).css({overflow:"hidden"}),V=X?[Z.width(),Z.height()]:[Z.height(),Z.width()],O&&(ab=parseInt(O[1],10)/100*V[T?0:1]),R&&Z.css(y?{height:0,width:ab}:{height:ab,width:0}),Q[P[0]]=R?V[0]:ab,ac[P[1]]=R?V[1]:0,Z.animate(Q,U,aa.easing).animate(ac,U,aa.easing,function(){T&&b.hide(),x.effects.restore(b,W),x.effects.removeWrapper(b),S()})},x.effects.effect.highlight=function(l,d){var h=x(this),f=["backgroundImage","backgroundColor","opacity"],b=x.effects.setMode(h,l.mode||"show"),g={backgroundColor:h.css("backgroundColor")};"hide"===b&&(g.opacity=0),x.effects.save(h,f),h.show().css({backgroundImage:"none",backgroundColor:l.color||"#ffff99"}).animate(g,{queue:!1,duration:l.duration,easing:l.easing,complete:function(){"hide"===b&&h.hide(),x.effects.restore(h,f),d()}})},x.effects.effect.size=function(ad,V){var ac,Y,O,Z=x(this),ab=["position","top","bottom","left","right","width","height","overflow","opacity"],U=["position","top","bottom","left","right","overflow","opacity"],W=["width","height","overflow"],ae=["fontSize"],R=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],Q=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],aa=x.effects.setMode(Z,ad.mode||"effect"),S=ad.restore||"effect"!==aa,X=ad.scale||"both",T=ad.origin||["middle","center"],af=Z.css("position"),ag=S?ab:U,P={height:0,width:0,outerHeight:0,outerWidth:0};"show"===aa&&Z.show(),ac={height:Z.height(),width:Z.width(),outerHeight:Z.outerHeight(),outerWidth:Z.outerWidth()},"toggle"===ad.mode&&"show"===aa?(Z.from=ad.to||P,Z.to=ad.from||ac):(Z.from=ad.from||("show"===aa?P:ac),Z.to=ad.to||("hide"===aa?P:ac)),O={from:{y:Z.from.height/ac.height,x:Z.from.width/ac.width},to:{y:Z.to.height/ac.height,x:Z.to.width/ac.width}},("box"===X||"both"===X)&&(O.from.y!==O.to.y&&(ag=ag.concat(R),Z.from=x.effects.setTransition(Z,R,O.from.y,Z.from),Z.to=x.effects.setTransition(Z,R,O.to.y,Z.to)),O.from.x!==O.to.x&&(ag=ag.concat(Q),Z.from=x.effects.setTransition(Z,Q,O.from.x,Z.from),Z.to=x.effects.setTransition(Z,Q,O.to.x,Z.to))),("content"===X||"both"===X)&&O.from.y!==O.to.y&&(ag=ag.concat(ae).concat(W),Z.from=x.effects.setTransition(Z,ae,O.from.y,Z.from),Z.to=x.effects.setTransition(Z,ae,O.to.y,Z.to)),x.effects.save(Z,ag),Z.show(),x.effects.createWrapper(Z),Z.css("overflow","hidden").css(Z.from),T&&(Y=x.effects.getBaseline(T,ac),Z.from.top=(ac.outerHeight-Z.outerHeight())*Y.y,Z.from.left=(ac.outerWidth-Z.outerWidth())*Y.x,Z.to.top=(ac.outerHeight-Z.to.outerHeight)*Y.y,Z.to.left=(ac.outerWidth-Z.to.outerWidth)*Y.x),Z.css(Z.from),("content"===X||"both"===X)&&(R=R.concat(["marginTop","marginBottom"]).concat(ae),Q=Q.concat(["marginLeft","marginRight"]),W=ab.concat(R).concat(Q),Z.find("*[width]").each(function(){var a=x(this),b={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()};S&&x.effects.save(a,W),a.from={height:b.height*O.from.y,width:b.width*O.from.x,outerHeight:b.outerHeight*O.from.y,outerWidth:b.outerWidth*O.from.x},a.to={height:b.height*O.to.y,width:b.width*O.to.x,outerHeight:b.height*O.to.y,outerWidth:b.width*O.to.x},O.from.y!==O.to.y&&(a.from=x.effects.setTransition(a,R,O.from.y,a.from),a.to=x.effects.setTransition(a,R,O.to.y,a.to)),O.from.x!==O.to.x&&(a.from=x.effects.setTransition(a,Q,O.from.x,a.from),a.to=x.effects.setTransition(a,Q,O.to.x,a.to)),a.css(a.from),a.animate(a.to,ad.duration,ad.easing,function(){S&&x.effects.restore(a,W)})})),Z.animate(Z.to,{queue:!1,duration:ad.duration,easing:ad.easing,complete:function(){0===Z.to.opacity&&Z.css("opacity",Z.from.opacity),"hide"===aa&&Z.hide(),x.effects.restore(Z,ag),S||("static"===af?Z.css({position:"relative",top:Z.to.top,left:Z.to.left}):x.each(["top","left"],function(a,b){Z.css(b,function(h,d){var g=parseInt(d,10),f=a?Z.to.left:Z.to.top;return"auto"===d?f+"px":g+f+"px"})})),x.effects.removeWrapper(Z),V()}})},x.effects.effect.scale=function(O,f){var y=x(this),m=x.extend(!0,{},O),b=x.effects.setMode(y,O.mode||"effect"),p=parseInt(O.percent,10)||(0===parseInt(O.percent,10)?0:"hide"===b?0:100),v=O.direction||"both",d=O.origin,g={height:y.height(),width:y.width(),outerHeight:y.outerHeight(),outerWidth:y.outerWidth()},P={y:"horizontal"!==v?p/100:1,x:"vertical"!==v?p/100:1};m.effect="size",m.queue=!1,m.complete=f,"effect"!==b&&(m.origin=d||["middle","center"],m.restore=!0),m.from=O.from||("show"===b?{height:0,width:0,outerHeight:0,outerWidth:0}:g),m.to={height:g.height*P.y,width:g.width*P.x,outerHeight:g.outerHeight*P.y,outerWidth:g.outerWidth*P.x},m.fade&&("show"===b&&(m.from.opacity=0,m.to.opacity=1),"hide"===b&&(m.from.opacity=1,m.to.opacity=0)),y.effect(m)},x.effects.effect.puff=function(u,f){var p=x(this),g=x.effects.setMode(p,u.mode||"hide"),b="hide"===g,l=parseInt(u.percent,10)||150,m=l/100,d={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()};x.extend(u,{effect:"scale",queue:!1,fade:!0,mode:g,complete:f,percent:b?l:100,from:b?d:{height:d.height*m,width:d.width*m,outerHeight:d.outerHeight*m,outerWidth:d.outerWidth*m}}),p.effect(u)},x.effects.effect.pulsate=function(T,v){var S,O=x(this),b=x.effects.setMode(O,T.mode||"show"),P="show"===b,R="hide"===b,m=P||"hide"===b,y=2*(T.times||5)+(m?1:0),U=T.duration/y,g=0,f=O.queue(),Q=f.length;for((P||!O.is(":visible"))&&(O.css("opacity",0).show(),g=1),S=1;y>S;S++){O.animate({opacity:g},U,T.easing),g=1-g}O.animate({opacity:g},U,T.easing),O.queue(function(){R&&O.hide(),v()}),Q>1&&f.splice.apply(f,[1,0].concat(f.splice(Q,y+1))),O.dequeue()},x.effects.effect.shake=function(ab,T){var aa,W=x(this),b=["position","top","bottom","left","right","height","width"],X=x.effects.setMode(W,ab.mode||"effect"),Z=ab.direction||"left",S=ab.distance||20,U=ab.times||3,ac=2*U+1,P=Math.round(ab.duration/ac),O="up"===Z||"down"===Z?"top":"left",Y="up"===Z||"left"===Z,Q={},V={},R={},ad=W.queue(),ae=ad.length;for(x.effects.save(W,b),W.show(),x.effects.createWrapper(W),Q[O]=(Y?"-=":"+=")+S,V[O]=(Y?"+=":"-=")+2*S,R[O]=(Y?"-=":"+=")+2*S,W.animate(Q,P,ab.easing),aa=1;U>aa;aa++){W.animate(V,P,ab.easing).animate(R,P,ab.easing)}W.animate(V,P,ab.easing).animate(Q,P/2,ab.easing).queue(function(){"hide"===X&&W.hide(),x.effects.restore(W,b),x.effects.removeWrapper(W),T()}),ae>1&&ad.splice.apply(ad,[1,0].concat(ad.splice(ae,ac+1))),W.dequeue()},x.effects.effect.slide=function(Q,m){var P,v=x(this),b=["position","top","bottom","left","right","width","height"],y=x.effects.setMode(v,Q.mode||"show"),O="show"===y,g=Q.direction||"left",p="up"===g||"down"===g?"top":"left",R="up"===g||"left"===g,f={};x.effects.save(v,b),v.show(),P=Q.distance||v["top"===p?"outerHeight":"outerWidth"](!0),x.effects.createWrapper(v).css({overflow:"hidden"}),O&&v.css(p,R?isNaN(P)?"-"+P:-P:P),f[p]=(O?R?"+=":"-=":R?"-=":"+=")+P,v.animate(f,{queue:!1,duration:Q.duration,easing:Q.easing,complete:function(){"hide"===y&&v.hide(),x.effects.restore(v,b),x.effects.removeWrapper(v),m()}})},x.effects.effect.transfer=function(R,p){var Q=x(this),y=x(R.to),b="fixed"===y.css("position"),O=x("body"),P=b?O.scrollTop():0,m=b?O.scrollLeft():0,v=y.offset(),S={top:v.top-P,left:v.left-m,height:y.innerHeight(),width:y.innerWidth()},g=Q.offset(),f=x("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(R.className).css({top:g.top-P,left:g.left-m,height:Q.innerHeight(),width:Q.innerWidth(),position:b?"fixed":"absolute"}).animate(S,R.duration,R.easing,function(){f.remove(),p()})},x.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=x("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),this._refreshValue(),void 0)},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,a=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(a.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=x("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==b&&(this.oldValue=b,this._trigger("change")),b===this.options.max&&this._trigger("complete")}}),x.widget("ui.selectable",x.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,a=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b=x(a.options.filter,a.element[0]),b.addClass("ui-selectee"),b.each(function(){var f=x(this),d=f.offset();x.data(this,"selectable-item",{element:this,$element:f,left:d.left,top:d.top,right:d.left+f.outerWidth(),bottom:d.top+f.outerHeight(),startselected:!1,selected:f.hasClass("ui-selected"),selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=x("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(d){var a=this,b=this.options;this.opos=[d.pageX,d.pageY],this.options.disabled||(this.selectees=x(b.filter,this.element[0]),this._trigger("start",d),x(b.appendTo).append(this.helper),this.helper.css({left:d.pageX,top:d.pageY,width:0,height:0}),b.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var f=x.data(this,"selectable-item");f.startselected=!0,d.metaKey||d.ctrlKey||(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,a._trigger("unselecting",d,{unselecting:f.element}))}),x(d.target).parents().addBack().each(function(){var g,f=x.data(this,"selectable-item");return f?(g=!d.metaKey&&!d.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(g?"ui-unselecting":"ui-selected").addClass(g?"ui-selecting":"ui-unselecting"),f.unselecting=!g,f.selecting=g,f.selected=g,g?a._trigger("selecting",d,{selecting:f.element}):a._trigger("unselecting",d,{unselecting:f.element}),!1):void 0}))},_mouseDrag:function(u){if(this.dragged=!0,!this.options.disabled){var f,p=this,g=this.options,b=this.opos[0],l=this.opos[1],m=u.pageX,d=u.pageY;return b>m&&(f=m,m=b,b=f),l>d&&(f=d,d=l,l=f),this.helper.css({left:b,top:l,width:m-b,height:d-l}),this.selectees.each(function(){var a=x.data(this,"selectable-item"),h=!1;a&&a.element!==p.element[0]&&("touch"===g.tolerance?h=!(a.left>m||b>a.right||a.top>d||l>a.bottom):"fit"===g.tolerance&&(h=a.left>b&&m>a.right&&a.top>l&&d>a.bottom),h?(a.selected&&(a.$element.removeClass("ui-selected"),a.selected=!1),a.unselecting&&(a.$element.removeClass("ui-unselecting"),a.unselecting=!1),a.selecting||(a.$element.addClass("ui-selecting"),a.selecting=!0,p._trigger("selecting",u,{selecting:a.element}))):(a.selecting&&((u.metaKey||u.ctrlKey)&&a.startselected?(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.$element.addClass("ui-selected"),a.selected=!0):(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.startselected&&(a.$element.addClass("ui-unselecting"),a.unselecting=!0),p._trigger("unselecting",u,{unselecting:a.element}))),a.selected&&(u.metaKey||u.ctrlKey||a.startselected||(a.$element.removeClass("ui-selected"),a.selected=!1,a.$element.addClass("ui-unselecting"),a.unselecting=!0,p._trigger("unselecting",u,{unselecting:a.element})))))}),!1}},_mouseStop:function(b){var a=this;return this.dragged=!1,x(".ui-unselecting",this.element[0]).each(function(){var d=x.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,a._trigger("unselected",b,{unselected:d.element})}),x(".ui-selecting",this.element[0]).each(function(){var d=x.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,a._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),x.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var a=this;this.label=x("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(b){this.button.focus(),b.preventDefault()}}),this.element.hide(),this.button=x("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),x("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=x("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){a.menuItems||a._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var a=this;this.menu=x("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=x("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(b,d){b.preventDefault(),a._setSelection(),a._select(d.item.data("ui-selectmenu-item"),b)},focus:function(b,d){var f=d.item.data("ui-selectmenu-item");null!=a.focusIndex&&f.index!==a.focusIndex&&(a._trigger("focus",b,{item:f}),a.isOpen||a._select(f,b)),a.focusIndex=f.index,a.button.attr("aria-activedescendant",a.menuItems.eq(f.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return !1},this.menuInstance._isDivider=function(){return !1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var a,b=this.element.find("option");b.length&&(this._parseOptions(b),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(x.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(f,a){var d=this,b="";x.each(a,function(h,g){g.optgroup!==b&&(x("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(g.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:g.optgroup}).appendTo(f),b=g.optgroup),d._renderItemData(f,g)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(d,a){var b=x("<li>");return a.disabled&&b.addClass("ui-state-disabled"),this._setText(b,a.label),b.appendTo(d)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(a,g){var b,f,d=".ui-menu-item";this.isOpen?b=this.menuItems.eq(this.focusIndex):(b=this.menuItems.eq(this.element[0].selectedIndex),d+=":not(.ui-state-disabled)"),f="first"===a||"last"===a?b["first"===a?"prevAll":"nextAll"](d).eq(-1):b[a+"All"](d).eq(0),f.length&&this.menuInstance.focus(g,f)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(a){this.isOpen&&(x(a.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(a))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection(),this._toggle(a)},keydown:function(b){var a=!0;switch(b.keyCode){case x.ui.keyCode.TAB:case x.ui.keyCode.ESCAPE:this.close(b),a=!1;break;case x.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(b);break;case x.ui.keyCode.UP:b.altKey?this._toggle(b):this._move("prev",b);break;case x.ui.keyCode.DOWN:b.altKey?this._toggle(b):this._move("next",b);break;case x.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(b):this._toggle(b);break;case x.ui.keyCode.LEFT:this._move("prev",b);break;case x.ui.keyCode.RIGHT:this._move("next",b);break;case x.ui.keyCode.HOME:case x.ui.keyCode.PAGE_UP:this._move("first",b);break;case x.ui.keyCode.END:case x.ui.keyCode.PAGE_DOWN:this._move("last",b);break;default:this.menu.trigger(b),a=!1}a&&b.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex);b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,d){var b=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index,this._setText(this.buttonText,a.label),this._setAria(a),this._trigger("select",d,{item:a}),a.index!==b&&this._trigger("change",d,{item:a}),this.close(d)},_setAria:function(a){var b=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":b,"aria-activedescendant":b}),this.menu.attr("aria-activedescendant",b)},_setOption:function(a,b){"icons"===a&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(b.button),this._super(a,b),"appendTo"===a&&this.menuWrap.appendTo(this._appendTo()),"disabled"===a&&(this.menuInstance.option("disabled",b),this.button.toggleClass("ui-state-disabled",b).attr("aria-disabled",b),this.element.prop("disabled",b),b?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===a&&this._resizeButton()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?x(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(b){var a=[];b.each(function(h,g){var f=x(g),d=f.parent("optgroup");a.push({element:f,index:h,value:f.val(),label:f.text(),optgroup:d.attr("label")||"",disabled:d.prop("disabled")||f.prop("disabled")})}),this.items=a},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),x.widget("ui.slider",x.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var l,d,h=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),b="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",g=[];for(d=h.values&&h.values.length||1,f.length>d&&(f.slice(d).remove(),f=f.slice(0,d)),l=f.length;d>l;l++){g.push(b)}this.handles=f.add(x(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(a){x(this).data("ui-slider-handle-index",a)})},_createRange:function(){var b=this.options,a="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:x.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=x("<div></div>").appendTo(this.element),a="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(a+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(Q){var m,P,v,b,y,O,g,p,R=this,f=this.options;return f.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),m={x:Q.pageX,y:Q.pageY},P=this._normValueFromMouse(m),v=this._valueMax()-this._valueMin()+1,this.handles.each(function(d){var a=Math.abs(P-R.values(d));(v>a||v===a&&(d===R._lastChangedValue||R.values(d)===f.min))&&(v=a,b=x(this),y=d)}),O=this._start(Q,y),O===!1?!1:(this._mouseSliding=!0,this._handleIndex=y,b.addClass("ui-state-active").focus(),g=b.offset(),p=!x(Q.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=p?{left:0,top:0}:{left:Q.pageX-g.left-b.width()/2,top:Q.pageY-g.top-b.height()/2-(parseInt(b.css("borderTopWidth"),10)||0)-(parseInt(b.css("borderBottomWidth"),10)||0)+(parseInt(b.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(Q,y,P),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(a){var d={x:a.pageX,y:a.pageY},b=this._normValueFromMouse(d);return this._slide(a,this._handleIndex,b),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(d){var l,f,h,g,b;return"horizontal"===this.orientation?(l=this.elementSize.width,f=d.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(l=this.elementSize.height,f=d.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),h=f/l,h>1&&(h=1),0>h&&(h=0),"vertical"===this.orientation&&(h=1-h),g=this._valueMax()-this._valueMin(),b=this._valueMin()+h*g,this._trimAlignValue(b)},_start:function(a,d){var b={handle:this.handles[d],value:this.value()};return this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values()),this._trigger("start",a,b)},_slide:function(d,l,f){var h,g,b;this.options.values&&this.options.values.length?(h=this.values(l?0:1),2===this.options.values.length&&this.options.range===!0&&(0===l&&f>h||1===l&&h>f)&&(f=h),f!==this.values(l)&&(g=this.values(),g[l]=f,b=this._trigger("slide",d,{handle:this.handles[l],value:f,values:g}),h=this.values(l?0:1),b!==!1&&this.values(l,f))):f!==this.value()&&(b=this._trigger("slide",d,{handle:this.handles[l],value:f}),b!==!1&&this.value(f))},_stop:function(a,d){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values()),this._trigger("stop",a,b)},_change:function(a,d){if(!this._keySliding&&!this._mouseSliding){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values()),this._lastChangedValue=d,this._trigger("change",a,b)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(h,d){var g,f,b;if(arguments.length>1){return this.options.values[h]=this._trimAlignValue(d),this._refreshValue(),this._change(null,h),void 0}if(!arguments.length){return this._values()}if(!x.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(h):this.value()}for(g=this.options.values,f=arguments[0],b=0;g.length>b;b+=1){g[b]=this._trimAlignValue(f[b]),this._change(null,b)}this._refreshValue()},_setOption:function(f,a){var d,b=0;switch("range"===f&&this.options.range===!0&&("min"===a?(this.options.value=this._values(0),this.options.values=null):"max"===a&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),x.isArray(this.options.values)&&(b=this.options.values.length),"disabled"===f&&this.element.toggleClass("ui-state-disabled",!!a),this._super(f,a),f){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===a?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;b>d;d+=1){this._change(null,d)}this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var f,b,d;if(arguments.length){return f=this.options.values[a],f=this._trimAlignValue(f)}if(this.options.values&&this.options.values.length){for(b=this.options.values.slice(),d=0;b.length>d;d+=1){b[d]=this._trimAlignValue(b[d])}return b}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a){return this._valueMin()}if(a>=this._valueMax()){return this._valueMax()}var f=this.options.step>0?this.options.step:1,b=(a-this._valueMin())%f,d=a-b;return 2*Math.abs(b)>=f&&(d+=b>0?f:-f),parseFloat(d.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,f=this._valueMin(),b=this.options.step,d=Math.floor(+(a-f).toFixed(this._precision())/b)*b;a=d+f,this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var d=""+a,b=d.indexOf(".");return -1===b?0:d.length-b-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var O,f,y,m,b,p=this.options.range,v=this.options,d=this,g=this._animateOff?!1:v.animate,P={};this.options.values&&this.options.values.length?this.handles.each(function(a){f=100*((d.values(a)-d._valueMin())/(d._valueMax()-d._valueMin())),P["horizontal"===d.orientation?"left":"bottom"]=f+"%",x(this).stop(1,1)[g?"animate":"css"](P,v.animate),d.options.range===!0&&("horizontal"===d.orientation?(0===a&&d.range.stop(1,1)[g?"animate":"css"]({left:f+"%"},v.animate),1===a&&d.range[g?"animate":"css"]({width:f-O+"%"},{queue:!1,duration:v.animate})):(0===a&&d.range.stop(1,1)[g?"animate":"css"]({bottom:f+"%"},v.animate),1===a&&d.range[g?"animate":"css"]({height:f-O+"%"},{queue:!1,duration:v.animate}))),O=f}):(y=this.value(),m=this._valueMin(),b=this._valueMax(),f=b!==m?100*((y-m)/(b-m)):0,P["horizontal"===this.orientation?"left":"bottom"]=f+"%",this.handle.stop(1,1)[g?"animate":"css"](P,v.animate),"min"===p&&"horizontal"===this.orientation&&this.range.stop(1,1)[g?"animate":"css"]({width:f+"%"},v.animate),"max"===p&&"horizontal"===this.orientation&&this.range[g?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:v.animate}),"min"===p&&"vertical"===this.orientation&&this.range.stop(1,1)[g?"animate":"css"]({height:f+"%"},v.animate),"max"===p&&"vertical"===this.orientation&&this.range[g?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:v.animate}))},_handleEvents:{keydown:function(l){var d,h,f,b,g=x(l.target).data("ui-slider-handle-index");switch(l.keyCode){case x.ui.keyCode.HOME:case x.ui.keyCode.END:case x.ui.keyCode.PAGE_UP:case x.ui.keyCode.PAGE_DOWN:case x.ui.keyCode.UP:case x.ui.keyCode.RIGHT:case x.ui.keyCode.DOWN:case x.ui.keyCode.LEFT:if(l.preventDefault(),!this._keySliding&&(this._keySliding=!0,x(l.target).addClass("ui-state-active"),d=this._start(l,g),d===!1)){return}}switch(b=this.options.step,h=f=this.options.values&&this.options.values.length?this.values(g):this.value(),l.keyCode){case x.ui.keyCode.HOME:f=this._valueMin();break;case x.ui.keyCode.END:f=this._valueMax();break;case x.ui.keyCode.PAGE_UP:f=this._trimAlignValue(h+(this._valueMax()-this._valueMin())/this.numPages);break;case x.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(h-(this._valueMax()-this._valueMin())/this.numPages);break;case x.ui.keyCode.UP:case x.ui.keyCode.RIGHT:if(h===this._valueMax()){return}f=this._trimAlignValue(h+b);break;case x.ui.keyCode.DOWN:case x.ui.keyCode.LEFT:if(h===this._valueMin()){return}f=this._trimAlignValue(h-b)}this._slide(l,g,f)},keyup:function(b){var a=x(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,a),this._change(b,a),x(b.target).removeClass("ui-state-active"))}}}),x.widget("ui.sortable",x.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,d,b){return a>=d&&d+b>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,b){this._super(a,b),"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),x.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(h,d){var g=null,f=!1,b=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(h),x(h.target).parents().each(function(){return x.data(this,b.widgetName+"-item")===b?(g=x(this),!1):void 0}),x.data(h.target,b.widgetName+"-item")===b&&(g=x(h.target)),g?!this.options.handle||d||(x(this.options.handle,g).find("*").addBack().each(function(){this===h.target&&(f=!0)}),f)?(this.currentItem=g,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(l,d,h){var f,b,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(l),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},x.extend(this.offset,{click:{left:l.pageX-this.offset.left,top:l.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(l),this.originalPageX=l.pageX,this.originalPageY=l.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(b=this.document.find("body"),this.storedCursor=b.css("cursor"),b.css("cursor",g.cursor),this.storedStylesheet=x("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(b)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",l,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!h){for(f=this.containers.length-1;f>=0;f--){this.containers[f]._trigger("activate",l,this._uiHash(this))}}return x.ui.ddmanager&&(x.ui.ddmanager.current=this),x.ui.ddmanager&&!g.dropBehaviour&&x.ui.ddmanager.prepareOffsets(this,l),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(l),!0},_mouseDrag:function(m){var d,l,f,b,g=this.options,h=!1;for(this.position=this._generatePosition(m),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-m.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:m.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-m.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:m.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(m.pageY-this.document.scrollTop()<g.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-g.scrollSpeed):this.window.height()-(m.pageY-this.document.scrollTop())<g.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+g.scrollSpeed)),m.pageX-this.document.scrollLeft()<g.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-g.scrollSpeed):this.window.width()-(m.pageX-this.document.scrollLeft())<g.scrollSensitivity&&(h=this.document.scrollLeft(this.document.scrollLeft()+g.scrollSpeed))),h!==!1&&x.ui.ddmanager&&!g.dropBehaviour&&x.ui.ddmanager.prepareOffsets(this,m)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),d=this.items.length-1;d>=0;d--){if(l=this.items[d],f=l.item[0],b=this._intersectsWithPointer(l),b&&l.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[1===b?"next":"prev"]()[0]!==f&&!x.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!x.contains(this.element[0],f):!0)){if(this.direction=1===b?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(l)){break}this._rearrange(m,l),this._trigger("change",m,this._uiHash());break}}return this._contactContainers(m),x.ui.ddmanager&&x.ui.ddmanager.drag(this,m),this._trigger("sort",m,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(l,d){if(l){if(x.ui.ddmanager&&!this.options.dropBehaviour&&x.ui.ddmanager.drop(this,l),this.options.revert){var h=this,f=this.placeholder.offset(),b=this.options.axis,g={};b&&"x"!==b||(g.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),b&&"y"!==b||(g.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,x(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){h._clear(l)})}else{this._clear(l,d)}return !1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--){this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),x.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?x(this.domPosition.prev).after(this.currentItem):x(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(d){var a=this._getItemsAsjQuery(d&&d.connected),b=[];return d=d||{},x(a).each(function(){var f=(x(d.item||this).attr(d.attribute||"id")||"").match(d.expression||/(.+)[\-=_](.+)/);f&&b.push((d.key||f[1]+"[]")+"="+(d.key&&d.expression?f[1]:f[2]))}),!b.length&&d.key&&b.push(d.key+"="),b.join("&")},toArray:function(d){var a=this._getItemsAsjQuery(d&&d.connected),b=[];return d=d||{},a.each(function(){b.push(x(d.item||this).attr(d.attribute||"id")||"")}),b},_intersectsWith:function(m){var U=this.positionAbs.left,y=U+this.helperProportions.width,T=this.positionAbs.top,P=T+this.helperProportions.height,b=m.left,Q=b+m.width,S=m.top,v=S+m.height,O=this.offset.click.top,V=this.offset.click.left,g="x"===this.options.axis||T+O>S&&v>T+O,f="y"===this.options.axis||U+V>b&&Q>U+V,R=g&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>m[this.floating?"width":"height"]?R:U+this.helperProportions.width/2>b&&Q>y-this.helperProportions.width/2&&T+this.helperProportions.height/2>S&&v>P-this.helperProportions.height/2},_intersectsWithPointer:function(d){var l="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,d.top,d.height),f="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,d.left,d.width),h=l&&f,g=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection();return h?this.floating?b&&"right"===b||"down"===g?2:1:g&&("down"===g?2:1):!1},_intersectsWithSides:function(a){var g=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),b=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),f=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return this.floating&&d?"right"===d&&b||"left"===d&&!b:f&&("down"===f&&g||"up"===f&&!g)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(y){function f(){u.push(this)}var v,m,b,p,u=[],d=[],g=this._connectWith();if(g&&y){for(v=g.length-1;v>=0;v--){for(b=x(g[v],this.document[0]),m=b.length-1;m>=0;m--){p=x.data(b[m],this.widgetFullName),p&&p!==this&&!p.options.disabled&&d.push([x.isFunction(p.options.items)?p.options.items.call(p.element):x(p.options.items,p.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),p])}}}for(d.push([x.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):x(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),v=d.length-1;v>=0;v--){d[v][0].each(f)}return x(u)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=x.grep(this.items,function(b){for(var d=0;a.length>d;d++){if(a[d]===b.item[0]){return !1}}return !0})},_refreshItems:function(R){this.items=[],this.containers=[this];var p,Q,y,b,O,P,m,v,S=this.items,g=[[x.isFunction(this.options.items)?this.options.items.call(this.element[0],R,{item:this.currentItem}):x(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready){for(p=f.length-1;p>=0;p--){for(y=x(f[p],this.document[0]),Q=y.length-1;Q>=0;Q--){b=x.data(y[Q],this.widgetFullName),b&&b!==this&&!b.options.disabled&&(g.push([x.isFunction(b.options.items)?b.options.items.call(b.element[0],R,{item:this.currentItem}):x(b.options.items,b.element),b]),this.containers.push(b))}}}for(p=g.length-1;p>=0;p--){for(O=g[p][1],P=g[p][0],Q=0,v=P.length;v>Q;Q++){m=x(P[Q]),m.data(this.widgetName+"-item",O),S.push({item:m,instance:O,width:0,height:0,left:0,top:0})}}},refreshPositions:function(h){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var d,g,f,b;for(d=this.items.length-1;d>=0;d--){g=this.items[d],g.instance!==this.currentContainer&&this.currentContainer&&g.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?x(this.options.toleranceElement,g.item):g.item,h||(g.width=f.outerWidth(),g.height=f.outerHeight()),b=f.offset(),g.left=b.left,g.top=b.top)}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(d=this.containers.length-1;d>=0;d--){b=this.containers[d].element.offset(),this.containers[d].containerCache.left=b.left,this.containers[d].containerCache.top=b.top,this.containers[d].containerCache.width=this.containers[d].element.outerWidth(),this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}return this},_createPlaceholder:function(d){d=d||this;var a,b=d.options;b.placeholder&&b.placeholder.constructor!==String||(a=b.placeholder,b.placeholder={element:function(){var g=d.currentItem[0].nodeName.toLowerCase(),f=x("<"+g+">",d.document[0]).addClass(a||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===g?d._createTrPlaceholder(d.currentItem.find("tr").eq(0),x("<tr>",d.document[0]).appendTo(f)):"tr"===g?d._createTrPlaceholder(d.currentItem,f):"img"===g&&f.attr("src",d.currentItem.attr("src")),a||f.css("visibility","hidden"),f},update:function(f,g){(!a||b.forcePlaceholderSize)&&(g.height()||g.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10)),g.width()||g.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10)))}}),d.placeholder=x(b.placeholder.element.call(d.element,d.currentItem)),d.currentItem.after(d.placeholder),b.placeholder.update(d,d.placeholder)},_createTrPlaceholder:function(d,a){var b=this;d.children().each(function(){x("<td>&#160;</td>",b.document[0]).attr("colspan",x(this).attr("colspan")||1).appendTo(a)})},_contactContainers:function(T){var v,S,O,b,P,R,m,y,U,g,f=null,Q=null;for(v=this.containers.length-1;v>=0;v--){if(!x.contains(this.currentItem[0],this.containers[v].element[0])){if(this._intersectsWith(this.containers[v].containerCache)){if(f&&x.contains(this.containers[v].element[0],f.element[0])){continue}f=this.containers[v],Q=v}else{this.containers[v].containerCache.over&&(this.containers[v]._trigger("out",T,this._uiHash(this)),this.containers[v].containerCache.over=0)}}}if(f){if(1===this.containers.length){this.containers[Q].containerCache.over||(this.containers[Q]._trigger("over",T,this._uiHash(this)),this.containers[Q].containerCache.over=1)}else{for(O=10000,b=null,U=f.floating||this._isFloating(this.currentItem),P=U?"left":"top",R=U?"width":"height",g=U?"clientX":"clientY",S=this.items.length-1;S>=0;S--){x.contains(this.containers[Q].element[0],this.items[S].item[0])&&this.items[S].item[0]!==this.currentItem[0]&&(m=this.items[S].item.offset()[P],y=!1,T[g]-m>this.items[S][R]/2&&(y=!0),O>Math.abs(T[g]-m)&&(O=Math.abs(T[g]-m),b=this.items[S],this.direction=y?"up":"down"))}if(!b&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[Q]){return this.currentContainer.containerCache.over||(this.containers[Q]._trigger("over",T,this._uiHash()),this.currentContainer.containerCache.over=1),void 0}b?this._rearrange(T,b,null,!0):this._rearrange(T,null,this.containers[Q].element,!0),this._trigger("change",T,this._uiHash()),this.containers[Q]._trigger("change",T,this._uiHash(this)),this.currentContainer=this.containers[Q],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[Q]._trigger("over",T,this._uiHash(this)),this.containers[Q].containerCache.over=1}}},_createHelper:function(d){var a=this.options,b=x.isFunction(a.helper)?x(a.helper.apply(this.element[0],[d,this.currentItem])):"clone"===a.helper?this.currentItem.clone():this.currentItem;return b.parents("body").length||x("parent"!==a.appendTo?a.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!b[0].style.width||a.forceHelperSize)&&b.width(this.currentItem.width()),(!b[0].style.height||a.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),x.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&x.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&x.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,a,d,b=this.options;"parent"===b.containment&&(b.containment=this.helper[0].parentNode),("document"===b.containment||"window"===b.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===b.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===b.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(b.containment)||(f=x(b.containment)[0],a=x(b.containment).offset(),d="hidden"!==x(f).css("overflow"),this.containment=[a.left+(parseInt(x(f).css("borderLeftWidth"),10)||0)+(parseInt(x(f).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(x(f).css("borderTopWidth"),10)||0)+(parseInt(x(f).css("paddingTop"),10)||0)-this.margins.top,a.left+(d?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(x(f).css("borderLeftWidth"),10)||0)-(parseInt(x(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(d?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(x(f).css("borderTopWidth"),10)||0)-(parseInt(x(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(h,d){d||(d=this.position);var g="absolute"===h?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&x.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,b=/(html|body)/i.test(f[0].tagName);return{top:d.top+this.offset.relative.top*g+this.offset.parent.top*g-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():b?0:f.scrollTop())*g,left:d.left+this.offset.relative.left*g+this.offset.parent.left*g-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():b?0:f.scrollLeft())*g}},_generatePosition:function(u){var f,p,g=this.options,b=u.pageX,l=u.pageY,m="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&x.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(m[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(u.pageX-this.offset.click.left<this.containment[0]&&(b=this.containment[0]+this.offset.click.left),u.pageY-this.offset.click.top<this.containment[1]&&(l=this.containment[1]+this.offset.click.top),u.pageX-this.offset.click.left>this.containment[2]&&(b=this.containment[2]+this.offset.click.left),u.pageY-this.offset.click.top>this.containment[3]&&(l=this.containment[3]+this.offset.click.top)),g.grid&&(f=this.originalPageY+Math.round((l-this.originalPageY)/g.grid[1])*g.grid[1],l=this.containment?f-this.offset.click.top>=this.containment[1]&&f-this.offset.click.top<=this.containment[3]?f:f-this.offset.click.top>=this.containment[1]?f-g.grid[1]:f+g.grid[1]:f,p=this.originalPageX+Math.round((b-this.originalPageX)/g.grid[0])*g.grid[0],b=this.containment?p-this.offset.click.left>=this.containment[0]&&p-this.offset.click.left<=this.containment[2]?p:p-this.offset.click.left>=this.containment[0]?p-g.grid[0]:p+g.grid[0]:p)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():d?0:m.scrollTop()),left:b-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():d?0:m.scrollLeft())}},_rearrange:function(a,g,b,f){b?b[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?g.item[0]:g.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var d=this.counter;this._delay(function(){d===this.counter&&this.refreshPositions(!f)})},_clear:function(a,g){function b(h,m,l){return function(i){l._trigger(h,i,m._uiHash(m))}}this.reverting=!1;var f,d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(f in this._storedCSS){("auto"===this._storedCSS[f]||"static"===this._storedCSS[f])&&(this._storedCSS[f]="")}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(this.fromOutside&&!g&&d.push(function(h){this._trigger("receive",h,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||g||d.push(function(h){this._trigger("update",h,this._uiHash())}),this!==this.currentContainer&&(g||(d.push(function(h){this._trigger("remove",h,this._uiHash())}),d.push(function(h){return function(i){h._trigger("receive",i,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(h){return function(i){h._trigger("update",i,this._uiHash(this))}}.call(this,this.currentContainer)))),f=this.containers.length-1;f>=0;f--){g||d.push(b("deactivate",this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(b("out",this,this.containers[f])),this.containers[f].containerCache.over=0)}if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,g||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!g){for(f=0;d.length>f;f++){d[f].call(this,a)}this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){x.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var a=b||this;return{helper:a.helper,placeholder:a.placeholder||x([]),position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs,item:a.currentItem,sender:b?b.element:null}}}),x.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},a=this.element;return x.each(["min","max","step"],function(d,g){var f=a.attr(g);void 0!==f&&f.length&&(b[g]=f)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a),void 0)},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a)){return !1}this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(d){function a(){var f=this.element[0]===this.document[0].activeElement;f||(this.element.focus(),this.previous=b,this._delay(function(){this.previous=b}))}var b;b=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),d.preventDefault(),a.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,a.call(this)}),this._start(d)!==!1&&this._repeat(null,x(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){return x(a.currentTarget).hasClass("ui-state-active")?this._start(a)===!1?!1:(this._repeat(null,x(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(0.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(d){var a=this.options,b=x.ui.keyCode;switch(d.keyCode){case b.UP:return this._repeat(null,1,d),!0;case b.DOWN:return this._repeat(null,-1,d),!0;case b.PAGE_UP:return this._repeat(null,a.page,d),!0;case b.PAGE_DOWN:return this._repeat(null,-a.page,d),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,d,b){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,d,b)},a),this._spin(d*this.options.step,b)},_spin:function(a,d){var b=this.value()||0;this.counter||(this.counter=1),b=this._adjustValue(b+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",d,{value:b})===!1||(this._value(b),this.counter++)},_increment:function(b){var a=this.options.incremental;return a?x.isFunction(a)?a(b):Math.floor(b*b*b/50000-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var d=""+a,b=d.indexOf(".");return -1===b?0:d.length-b-1},_adjustValue:function(a){var f,b,d=this.options;return f=null!==d.min?d.min:0,b=a-f,b=Math.round(b/d.step)*d.step,a=f+b,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&d.min>a?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,d){if("culture"===a||"numberFormat"===a){var b=this._parse(this.element.val());return this.options[a]=d,this.element.val(this._format(b)),void 0}("max"===a||"min"===a||"step"===a)&&"string"==typeof d&&(d=this._parse(d)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(d.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(d.down)),this._super(a,d),"disabled"===a&&(this.widget().toggleClass("ui-state-disabled",!!d),this.element.prop("disabled",!!d),this.buttons.button(d?"disable":"enable"))},_setOptions:B(function(a){this._super(a)}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(a,d){var b;""!==a&&(b=this._parse(a),null!==b&&(d||(b=this._adjustValue(b)),a=this._format(b))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:B(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:B(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:B(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:B(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?(B(this._value).call(this,a),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),x.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(g){var b,f;g=g.cloneNode(!1),b=g.href.replace(a,""),f=location.href.replace(a,"");try{b=decodeURIComponent(b)}catch(d){}try{f=decodeURIComponent(f)}catch(d){}return g.hash.length>1&&b===f}}(),_create:function(){var b=this,a=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",a.collapsible),this._processTabs(),a.active=this._initialActive(),x.isArray(a.disabled)&&(a.disabled=x.unique(a.disabled.concat(x.map(this.tabs.filter(".ui-state-disabled"),function(d){return b.tabs.index(d)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(a.active):x(),this._refresh(),this.active.length&&this.load(a.active)},_initialActive:function(){var d=this.options.active,a=this.options.collapsible,b=location.hash.substring(1);return null===d&&(b&&this.tabs.each(function(f,g){return x(g).attr("aria-controls")===b?(d=f,!1):void 0}),null===d&&(d=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===d||-1===d)&&(d=this.tabs.length?0:!1)),d!==!1&&(d=this.tabs.index(this.tabs.eq(d)),-1===d&&(d=a?!1:0)),!a&&d===!1&&this.anchors.length&&(d=0),d},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):x()}},_tabKeydown:function(f){var a=x(this.document[0].activeElement).closest("li"),d=this.tabs.index(a),b=!0;if(!this._handlePageNav(f)){switch(f.keyCode){case x.ui.keyCode.RIGHT:case x.ui.keyCode.DOWN:d++;break;case x.ui.keyCode.UP:case x.ui.keyCode.LEFT:b=!1,d--;break;case x.ui.keyCode.END:d=this.anchors.length-1;break;case x.ui.keyCode.HOME:d=0;break;case x.ui.keyCode.SPACE:return f.preventDefault(),clearTimeout(this.activating),this._activate(d),void 0;case x.ui.keyCode.ENTER:return f.preventDefault(),clearTimeout(this.activating),this._activate(d===this.options.active?!1:d),void 0;default:return}f.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,b),f.ctrlKey||f.metaKey||(a.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===x.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===x.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===x.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(f,a){function d(){return f>b&&(f=0),0>f&&(f=b),f}for(var b=this.tabs.length-1;-1!==x.inArray(d(),this.options.disabled);){f=a?f+1:f-1}return f},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?(this._activate(b),void 0):"disabled"===a?(this._setupDisabled(b),void 0):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b),void 0)},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,a=this.tablist.children(":has(a[href])");b.disabled=x.map(a.filter(".ui-state-disabled"),function(d){return a.index(d)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!x.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=x()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=x()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var f=this,a=this.tabs,d=this.anchors,b=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(g){x(this).is(".ui-state-disabled")&&g.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){x(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return x("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=x(),this.anchors.each(function(p,O){var u,g,v,y=x(O).uniqueId().attr("id"),m=x(O).closest("li"),t=m.attr("aria-controls");f._isLocal(O)?(u=O.hash,v=u.substring(1),g=f.element.find(f._sanitizeSelector(u))):(v=m.attr("aria-controls")||x({}).uniqueId()[0].id,u="#"+v,g=f.element.find(u),g.length||(g=f._createPanel(v),g.insertAfter(f.panels[p-1]||f.tablist)),g.attr("aria-live","polite")),g.length&&(f.panels=f.panels.add(g)),t&&m.data("ui-tabs-aria-controls",t),m.attr({"aria-controls":v,"aria-labelledby":y}),g.attr("aria-labelledby",y)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),a&&(this._off(a.not(this.tabs)),this._off(d.not(this.anchors)),this._off(b.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return x("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(d){x.isArray(d)&&(d.length?d.length===this.anchors.length&&(d=!0):d=!1);for(var a,b=0;a=this.tabs[b];b++){d===!0||-1!==x.inArray(b,d)?x(a).addClass("ui-state-disabled").attr("aria-disabled","true"):x(a).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=d},_setupEvents:function(b){var a={};b&&x.each(b.split(" "),function(d,f){a[f]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(d){d.preventDefault()}}),this._on(this.anchors,a),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(d){var a,b=this.element.parent();"fill"===d?(a=b.height(),a-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var g=x(this),f=g.css("position");"absolute"!==f&&"fixed"!==f&&(a-=g.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){a-=x(this).outerHeight(!0)}),this.panels.each(function(){x(this).height(Math.max(0,a-x(this).innerHeight()+x(this).height()))}).css("overflow","auto")):"auto"===d&&(a=0,this.panels.each(function(){a=Math.max(a,x(this).height("").height())}).height(a))},_eventHandler:function(O){var f=this.options,y=this.active,m=x(O.currentTarget),b=m.closest("li"),p=b[0]===y[0],v=p&&f.collapsible,d=v?x():this._getPanelForTab(b),g=y.length?this._getPanelForTab(y):x(),P={oldTab:y,oldPanel:g,newTab:v?x():b,newPanel:d};O.preventDefault(),b.hasClass("ui-state-disabled")||b.hasClass("ui-tabs-loading")||this.running||p&&!f.collapsible||this._trigger("beforeActivate",O,P)===!1||(f.active=v?!1:this.tabs.index(b),this.active=p?x():b,this.xhr&&this.xhr.abort(),g.length||d.length||x.error("jQuery UI Tabs: Mismatching fragment identifier."),d.length&&this.load(this.tabs.index(b),O),this._toggle(O,P))},_toggle:function(m,d){function l(){b.running=!1,b._trigger("activate",m,d)}function f(){d.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&b.options.show?b._show(g,b.options.show,l):(g.show(),l())}var b=this,g=d.newPanel,h=d.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){d.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f()}):(d.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),f()),h.attr("aria-hidden","true"),d.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&h.length?d.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===x(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr("aria-hidden","false"),d.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(d){var a,b=this._findActive(d);b[0]!==this.active[0]&&(b.length||(b=this.active),a=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:x.noop}))},_findActive:function(a){return a===!1?x():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){x.data(this,"ui-tabs-destroy")?x(this).remove():x(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=x(this),a=b.data("ui-tabs-aria-controls");a?b.attr("aria-controls",a).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var a=this.options.disabled;a!==!1&&(void 0===b?a=!1:(b=this._getIndex(b),a=x.isArray(a)?x.map(a,function(d){return d!==b?d:null}):x.map(this.tabs,function(d,f){return f!==b?f:null})),this._setupDisabled(a))},disable:function(b){var a=this.options.disabled;if(a!==!0){if(void 0===b){a=!0}else{if(b=this._getIndex(b),-1!==x.inArray(b,a)){return}a=x.isArray(a)?x.merge([b],a).sort():[b]}this._setupDisabled(a)}},load:function(u,f){u=this._getIndex(u);var p=this,g=this.tabs.eq(u),b=g.find(".ui-tabs-anchor"),l=this._getPanelForTab(g),m={tab:g,panel:l},d=function(a,h){"abort"===h&&p.panels.stop(!1,!0),g.removeClass("ui-tabs-loading"),l.removeAttr("aria-busy"),a===p.xhr&&delete p.xhr};this._isLocal(b[0])||(this.xhr=x.ajax(this._ajaxSettings(b,f,m)),this.xhr&&"canceled"!==this.xhr.statusText&&(g.addClass("ui-tabs-loading"),l.attr("aria-busy","true"),this.xhr.done(function(a,i,h){setTimeout(function(){l.html(a),p._trigger("load",f,m),d(h,i)},1)}).fail(function(a,h){setTimeout(function(){d(a,h)},1)})))},_ajaxSettings:function(f,a,d){var b=this;return{url:f.attr("href"),beforeSend:function(h,g){return b._trigger("beforeLoad",a,x.extend({jqXHR:h,ajaxSettings:g},d))}}},_getPanelForTab:function(b){var a=x(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}}),x.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var a=x(this).attr("title")||"";return x("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(d,a){var b=(d.attr("aria-describedby")||"").split(/\s+/);b.push(a),d.data("ui-tooltip-id",a).attr("aria-describedby",x.trim(b.join(" ")))},_removeDescribedBy:function(f){var a=f.data("ui-tooltip-id"),d=(f.attr("aria-describedby")||"").split(/\s+/),b=x.inArray(a,d);-1!==b&&d.splice(b,1),f.removeData("ui-tooltip-id"),d=x.trim(d.join(" ")),d?f.attr("aria-describedby",d):f.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=x("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(d,a){var b=this;return"disabled"===d?(this[a?"_disable":"_enable"](),this.options[d]=a,void 0):(this._super(d,a),"content"===d&&x.each(this.tooltips,function(f,g){b._updateContent(g.element)}),void 0)},_disable:function(){var a=this;x.each(this.tooltips,function(b,f){var d=x.Event("blur");d.target=d.currentTarget=f.element[0],a.close(d,!0)}),this.element.find(this.options.items).addBack().each(function(){var b=x(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var a=x(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(d){var a=this,b=x(d?d.target:this.element).closest(this.options.items);b.length&&!b.data("ui-tooltip-id")&&(b.attr("title")&&b.data("ui-tooltip-title",b.attr("title")),b.data("ui-tooltip-open",!0),d&&"mouseover"===d.type&&b.parents().each(function(){var g,f=x(this);f.data("ui-tooltip-open")&&(g=x.Event("blur"),g.target=g.currentTarget=this,a.close(g,!0)),f.attr("title")&&(f.uniqueId(),a.parents[this.id]={element:this,title:f.attr("title")},f.attr("title",""))}),this._registerCloseHandlers(d,b),this._updateContent(b,d))},_updateContent:function(d,l){var f,h=this.options.content,g=this,b=l?l.type:null;return"string"==typeof h?this._open(l,d,h):(f=h.call(d[0],function(a){g._delay(function(){d.data("ui-tooltip-open")&&(l&&(l.type=b),this._open(l,d,a))})}),f&&this._open(l,d,f),void 0)},_open:function(y,f,v){function m(a){g.of=a,p.is(":hidden")||p.position(g)}var b,p,u,d,g=x.extend({},this.options.position);if(v){if(b=this._find(f)){return b.tooltip.find(".ui-tooltip-content").html(v),void 0}f.is("[title]")&&(y&&"mouseover"===y.type?f.attr("title",""):f.removeAttr("title")),b=this._tooltip(f),p=b.tooltip,this._addDescribedBy(f,p.attr("id")),p.find(".ui-tooltip-content").html(v),this.liveRegion.children().hide(),v.clone?(d=v.clone(),d.removeAttr("id").find("[id]").removeAttr("id")):d=v,x("<div>").html(d).appendTo(this.liveRegion),this.options.track&&y&&/^mouse/.test(y.type)?(this._on(this.document,{mousemove:m}),m(y)):p.position(x.extend({of:f},this.options.position)),p.hide(),this._show(p,this.options.show),this.options.show&&this.options.show.delay&&(u=this.delayedShow=setInterval(function(){p.is(":visible")&&(m(g.of),clearInterval(u))},x.fx.interval)),this._trigger("open",y,{tooltip:p})}},_registerCloseHandlers:function(d,a){var b={keyup:function(g){if(g.keyCode===x.ui.keyCode.ESCAPE){var f=x.Event(g);f.currentTarget=a[0],this.close(f,!0)}}};a[0]!==this.element[0]&&(b.remove=function(){this._removeTooltip(this._find(a).tooltip)}),d&&"mouseover"!==d.type||(b.mouseleave="close"),d&&"focusin"!==d.type||(b.focusout="close"),this._on(!0,a,b)},close:function(h){var d,g=this,f=x(h?h.currentTarget:this.element),b=this._find(f);return b?(d=b.tooltip,b.closing||(clearInterval(this.delayedShow),f.data("ui-tooltip-title")&&!f.attr("title")&&f.attr("title",f.data("ui-tooltip-title")),this._removeDescribedBy(f),b.hiding=!0,d.stop(!0),this._hide(d,this.options.hide,function(){g._removeTooltip(x(this))}),f.removeData("ui-tooltip-open"),this._off(f,"mouseleave focusout keyup"),f[0]!==this.element[0]&&this._off(f,"remove"),this._off(this.document,"mousemove"),h&&"mouseleave"===h.type&&x.each(this.parents,function(l,a){x(a.element).attr("title",a.title),delete g.parents[l]}),b.closing=!0,this._trigger("close",h,{tooltip:d}),b.hiding||(b.closing=!1)),void 0):(f.removeData("ui-tooltip-open"),void 0)},_tooltip:function(d){var a=x("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),b=a.uniqueId().attr("id");return x("<div>").addClass("ui-tooltip-content").appendTo(a),a.appendTo(this.document[0].body),this.tooltips[b]={element:d,tooltip:a}},_find:function(a){var b=a.data("ui-tooltip-id");return b?this.tooltips[b]:null},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;x.each(this.tooltips,function(d,g){var f=x.Event("blur"),b=g.element;f.target=f.currentTarget=b[0],a.close(f,!0),x("#"+d).remove(),b.data("ui-tooltip-title")&&(b.attr("title")||b.attr("title",b.data("ui-tooltip-title")),b.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(f){var d=Date.CultureInfo.monthNames,b=Date.CultureInfo.abbreviatedMonthNames,g=f.toLowerCase();for(var a=0;a<d.length;a++){if(d[a].toLowerCase()==g||b[a].toLowerCase()==g){return a}}return -1};Date.getDayNumberFromName=function(f){var d=Date.CultureInfo.dayNames,b=Date.CultureInfo.abbreviatedDayNames,g=Date.CultureInfo.shortestDayNames,h=f.toLowerCase();for(var a=0;a<d.length;a++){if(d[a].toLowerCase()==h||b[a].toLowerCase()==h){return a}}return -1};Date.isLeapYear=function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.getDaysInMonth=function(b,a){return[31,(Date.isLeapYear(b)?29:28),31,30,31,30,31,31,30,31,30,31][a]};Date.getTimezoneOffset=function(b,a){return(a||false)?Date.CultureInfo.abbreviatedTimeZoneDST[b.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[b.toUpperCase()]};Date.getTimezoneAbbreviation=function(d,a){var b=(a||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,f;for(f in b){if(b[f]===d){return f}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(a){if(isNaN(this)){throw new Error(this)}if(a instanceof Date&&!isNaN(a)){return(this>a)?1:(this<a)?-1:0}else{throw new TypeError(a)}};Date.prototype.equals=function(a){return(this.compareTo(a)===0)};Date.prototype.between=function(b,a){var d=this.getTime();return d>=b.getTime()&&d<=a.getTime()};Date.prototype.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};Date.prototype.addSeconds=function(a){return this.addMilliseconds(a*1000)};Date.prototype.addMinutes=function(a){return this.addMilliseconds(a*60000)};Date.prototype.addHours=function(a){return this.addMilliseconds(a*3600000)};Date.prototype.addDays=function(a){return this.addMilliseconds(a*86400000)};Date.prototype.addWeeks=function(a){return this.addMilliseconds(a*604800000)};Date.prototype.addMonths=function(b){var a=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+b);this.setDate(Math.min(a,this.getDaysInMonth()));return this};Date.prototype.addYears=function(a){return this.addMonths(a*12)};Date.prototype.add=function(a){if(typeof a=="number"){this._orient=a;return this}var b=a;if(b.millisecond||b.milliseconds){this.addMilliseconds(b.millisecond||b.milliseconds)}if(b.second||b.seconds){this.addSeconds(b.second||b.seconds)}if(b.minute||b.minutes){this.addMinutes(b.minute||b.minutes)}if(b.hour||b.hours){this.addHours(b.hour||b.hours)}if(b.month||b.months){this.addMonths(b.month||b.months)}if(b.year||b.years){this.addYears(b.year||b.years)}if(b.day||b.days){this.addDays(b.day||b.days)}return this};Date._validate=function(f,b,a,d){if(typeof f!="number"){throw new TypeError(f+" is not a Number.")}else{if(f<b||f>a){throw new RangeError(f+" is not a valid value for "+d+".")}}return true};Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")};Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")};Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")};Date.validateHour=function(a){return Date._validate(a,0,23,"hours")};Date.validateDay=function(b,d,a){return Date._validate(b,1,Date.getDaysInMonth(d,a),"days")};Date.validateMonth=function(a){return Date._validate(a,0,11,"months")};Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")};Date.prototype.set=function(a){var b=a;if(!b.millisecond&&b.millisecond!==0){b.millisecond=-1}if(!b.second&&b.second!==0){b.second=-1}if(!b.minute&&b.minute!==0){b.minute=-1}if(!b.hour&&b.hour!==0){b.hour=-1}if(!b.day&&b.day!==0){b.day=-1}if(!b.month&&b.month!==0){b.month=-1}if(!b.year&&b.year!==0){b.year=-1}if(b.millisecond!=-1&&Date.validateMillisecond(b.millisecond)){this.addMilliseconds(b.millisecond-this.getMilliseconds())}if(b.second!=-1&&Date.validateSecond(b.second)){this.addSeconds(b.second-this.getSeconds())}if(b.minute!=-1&&Date.validateMinute(b.minute)){this.addMinutes(b.minute-this.getMinutes())}if(b.hour!=-1&&Date.validateHour(b.hour)){this.addHours(b.hour-this.getHours())}if(b.month!==-1&&Date.validateMonth(b.month)){this.addMonths(b.month-this.getMonth())}if(b.year!=-1&&Date.validateYear(b.year)){this.addYears(b.year-this.getFullYear())}if(b.day!=-1&&Date.validateDay(b.day,this.getFullYear(),this.getMonth())){this.addDays(b.day-this.getDate())}if(b.timezone){this.setTimezone(b.timezone)}if(b.timezoneOffset){this.setTimezoneOffset(b.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(a,d){var b=(a-this.getDay()+7*(d||+1))%7;return this.addDays((b===0)?b+=7*(d||+1):b)};Date.prototype.moveToMonth=function(b,d){var a=(b-this.getMonth()+12*(d||+1))%12;return this.addMonths((a===0)?a+=12*(d||+1):a)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(g){var l=this.getFullYear(),h=this.getMonth(),a=this.getDate();var f=g||Date.CultureInfo.firstDayOfWeek;var i=7+1-new Date(l,0,1).getDay();if(i==8){i=1}var b=((Date.UTC(l,h,a,0,0,0)-Date.UTC(l,0,1,0,0,0))/86400000)+1;var k=Math.floor((b-i+7)/7);if(k===f){l--;var j=7+1-new Date(l,0,1).getDay();if(j==2||j==8){k=53}else{k=52}}return k};Date.prototype.isDST=function(){return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var a=this.getTimezoneOffset(),d=Number(b)*-6/10;this.addMinutes(d-a);return this};Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))};Date.prototype.getUTCOffset=function(){var a=this.getTimezoneOffset()*-10/6,b;if(a<0){b=(a-10000).toString();return b[0]+b.substr(2)}else{b=(a+10000).toString();return"+"+b.substr(1)}};Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(a){var d=this;var b=function b(f){return(f.toString().length==1)?"0"+f:f};return a?a.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(f){switch(f){case"hh":return b(d.getHours()<13?d.getHours():(d.getHours()-12));case"h":return d.getHours()<13?d.getHours():(d.getHours()-12);case"HH":return b(d.getHours());case"H":return d.getHours();case"mm":return b(d.getMinutes());case"m":return d.getMinutes();case"ss":return b(d.getSeconds());case"s":return d.getSeconds();case"yyyy":return d.getFullYear();case"yy":return d.getFullYear().toString().substring(2,4);case"dddd":return d.getDayName();case"ddd":return d.getDayName(true);case"dd":return b(d.getDate());case"d":return d.getDate().toString();case"MMMM":return d.getMonthName();case"MMM":return d.getMonthName(true);case"MM":return b((d.getMonth()+1));case"M":return d.getMonth()+1;case"t":return d.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return d.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};Date.now=function(){return new Date()};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var a={};a[this._dateElement]=this;return Date.now().add(a)};Number.prototype.ago=function(){var a={};a[this._dateElement]=this*-1;return Date.now().add(a)};(function(){var a=Date.prototype,b=Number.prototype;var g=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),p=("january february march april may june july august september october november december").split(/\s/),s=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),d;var f=function(i){return function(){if(this._is){this._is=false;return this.getDay()==i}return this.moveToDayOfWeek(i,this._orient)}};for(var l=0;l<g.length;l++){a[g[l]]=a[g[l].substring(0,3)]=f(l)}var o=function(i){return function(){if(this._is){this._is=false;return this.getMonth()===i}return this.moveToMonth(i,this._orient)}};for(var m=0;m<p.length;m++){a[p[m]]=a[p[m].substring(0,3)]=o(m)}var h=function(i){return function(){if(i.substring(i.length-1)!="s"){i+="s"}return this["add"+i](this._orient)}};var q=function(i){return function(){this._dateElement=i;return this}};for(var n=0;n<s.length;n++){d=s[n].toLowerCase();a[d]=a[d+"s"]=h(s[n]);b[d]=b[d+"s"]=q(d)}}());Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(i){this.message="Parse error at '"+i.substring(0,10)+" ...'"}};var a=Date.Parsing;var b=a.Operators={rtoken:function(i){return function(m){var j=m.match(i);if(j){return([j[0],m.substring(j[0].length)])}else{throw new a.Exception(m)}}},token:function(i){return function(j){return b.rtoken(new RegExp("^s*"+j+"s*"))(j)}},stoken:function(i){return b.rtoken(new RegExp("^"+i))},until:function(i){return function(o){var m=[],n=null;while(o.length){try{n=i.call(this,o)}catch(j){m.push(n[0]);o=n[1];continue}break}return[m,o]}},many:function(i){return function(o){var n=[],m=null;while(o.length){try{m=i.call(this,o)}catch(j){return[n,o]}n.push(m[0]);o=m[1]}return[n,o]}},optional:function(i){return function(n){var m=null;try{m=i.call(this,n)}catch(j){return[null,n]}return[m[0],m[1]]}},not:function(i){return function(m){try{i.call(this,m)}catch(j){return[null,m]}throw new a.Exception(m)}},ignore:function(i){return i?function(m){var j=null;j=i.call(this,m);return[null,j[1]]}:null},product:function(){var m=arguments[0],n=Array.prototype.slice.call(arguments,1),o=[];for(var j=0;j<m.length;j++){o.push(b.each(m[j],n))}return o},cache:function(m){var i={},j=null;return function(o){try{j=i[o]=(i[o]||m.call(this,o))}catch(n){j=i[o]=n}if(j instanceof a.Exception){throw j}else{return j}}},any:function(){var i=arguments;return function(o){var n=null;for(var m=0;m<i.length;m++){if(i[m]==null){continue}try{n=(i[m].call(this,o))}catch(j){n=null}if(n){return n}}throw new a.Exception(o)}},each:function(){var i=arguments;return function(p){var o=[],n=null;for(var m=0;m<i.length;m++){if(i[m]==null){continue}try{n=(i[m].call(this,p))}catch(j){throw new a.Exception(p)}o.push(n[0]);p=n[1]}return[o,p]}},all:function(){var j=arguments,i=i;return i.each(i.optional(j))},sequence:function(m,j,i){j=j||b.rtoken(/^\s*/);i=i||null;if(m.length==1){return m[0]}return function(x){var v=null,u=null;var w=[];for(var t=0;t<m.length;t++){try{v=m[t].call(this,x)}catch(n){break}w.push(v[0]);try{u=j.call(this,v[1])}catch(o){u=null;break}x=u[1]}if(!v){throw new a.Exception(x)}if(u){throw new a.Exception(u[1])}if(i){try{v=i.call(this,v[1])}catch(p){throw new a.Exception(v[1])}}return[w,(v?v[1]:x)]}},between:function(j,n,m){m=m||j;var i=b.each(b.ignore(j),n,b.ignore(m));return function(p){var o=i.call(this,p);return[[o[0][0],r[0][2]],o[1]]}},list:function(m,j,i){j=j||b.rtoken(/^\s*/);i=i||null;return(m instanceof Array?b.each(b.product(m.slice(0,-1),b.ignore(j)),m.slice(-1),b.ignore(i)):b.each(b.many(b.each(m,b.ignore(j))),px,b.ignore(i)))},set:function(m,j,i){j=j||b.rtoken(/^\s*/);i=i||null;return function(D){var B=null,y=null,z=null,C=null,n=[[],D],x=false;for(var v=0;v<m.length;v++){z=null;y=null;B=null;x=(m.length==1);try{B=m[v].call(this,D)}catch(o){continue}C=[[B[0]],B[1]];if(B[1].length>0&&!x){try{z=j.call(this,B[1])}catch(t){x=true}}else{x=true}if(!x&&z[1].length===0){x=true}if(!x){var A=[];for(var w=0;w<m.length;w++){if(v!=w){A.push(m[w])}}y=b.set(A,j).call(this,z[1]);if(y[0].length>0){C[0]=C[0].concat(y[0]);C[1]=y[1]}}if(C[1].length<n[1].length){n=C}if(n[1].length===0){break}}if(n[0].length===0){return n}if(i){try{z=i.call(this,n[1])}catch(u){throw new a.Exception(n[1])}n[1]=z[1]}return n}},forward:function(j,i){return function(m){return j[i].call(this,m)}},replace:function(j,i){return function(n){var m=j.call(this,n);return[i,m[1]]}},process:function(j,i){return function(n){var m=j.call(this,n);return[i.call(this,m[0]),m[1]]}},min:function(i,j){return function(n){var m=j.call(this,n);if(m[0].length<i){throw new a.Exception(n)}return m}}};var d=function(i){return function(){var j=null,o=[];if(arguments.length>1){j=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){j=arguments[0]}}if(j){for(var m=0,n=j.shift();m<n.length;m++){j.unshift(n[m]);o.push(i.apply(null,j));j.shift();return o}}else{return i.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var h=0;h<g.length;h++){b[g[h]]=d(b[g[h]])}var f=function(i){return function(){if(arguments[0] instanceof Array){return i.apply(null,arguments[0])}else{return i.apply(null,arguments)}}};var l="each any all".split(/\s/);for(var k=0;k<l.length;k++){b[l[k]]=f(b[l[k]])}}());(function(){var i=function(g){var m=[];for(var l=0;l<g.length;l++){if(g[l] instanceof Array){m=m.concat(i(g[l]))}else{if(g[l]){m.push(g[l])}}}return m};Date.Grammar={};Date.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var l=g.replace(/[^\d\+\-]/g,"");if(l.length){this.timezoneOffset=Number(l)}else{this.timezone=g.toLowerCase()}}},day:function(l){var g=l[0];return function(){this.day=Number(g.match(/\d+/)[0])}},month:function(g){return function(){this.month=((g.length==3)?Date.getMonthNumberFromName(g):(Number(g)-1))}},year:function(g){return function(){var l=Number(g);this.year=((g.length>2)?l:(l+(((l+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(n){n=(n instanceof Array)?n:[n];var l=new Date();this.year=l.getFullYear();this.month=l.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;for(var g=0;g<n.length;g++){if(n[g]){n[g].call(this)}}this.hour=(this.meridian=="p"&&this.hour<13)?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var m=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){m.set({timezone:this.timezone})}else{if(this.timezoneOffset){m.set({timezoneOffset:this.timezoneOffset})}}return m},finish:function(s){s=(s instanceof Array)?i(s):[s];if(s.length===0){return null}for(var m=0;m<s.length;m++){if(typeof s[m]=="function"){s[m].call(this)}}if(this.now){return new Date()}var q=Date.today();var n=null;var g=!!(this.days!=null||this.orient||this.operator);if(g){var l,o,p;p=((this.orient=="past"||this.operator=="subtract")?-1:1);if(this.weekday){this.unit="day";l=(Date.getDayNumberFromName(this.weekday)-q.getDay());o=7;this.days=l?((l+(p*o))%o):(p*o)}if(this.month){this.unit="month";l=(this.month-q.getMonth());o=12;this.months=l?((l+(p*o))%o):(p*o);this.month=null}if(!this.unit){this.unit="day"}if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}if(this.unit=="week"){this.unit="day";this.value=this.value*7}this[this.unit+"s"]=this.value*p}return q.add(this)}else{if(this.meridian&&this.hour){this.hour=(this.hour<13&&this.meridian=="p")?this.hour+12:this.hour}if(this.weekday&&!this.day){this.day=(q.addDays((Date.getDayNumberFromName(this.weekday)-q.getDay()))).getDate()}if(this.month&&!this.day){this.day=1}return q.set(this)}}};var a=Date.Parsing.Operators,j=Date.Grammar,k=Date.Translator,f;j.datePartDelimiter=a.rtoken(/^([\s\-\.\,\/\x27]+)/);j.timePartDelimiter=a.stoken(":");j.whiteSpace=a.rtoken(/^\s*/);j.generalDelimiter=a.rtoken(/^(([\s\,]|at|on)+)/);var b={};j.ctoken=function(n){var l=b[n];if(!l){var g=Date.CultureInfo.regexPatterns;var o=n.split(/\s+/),p=[];for(var m=0;m<o.length;m++){p.push(a.replace(a.rtoken(g[o[m]]),o[m]))}l=b[n]=a.any.apply(null,p)}return l};j.ctoken2=function(g){return a.rtoken(Date.CultureInfo.regexPatterns[g])};j.h=a.cache(a.process(a.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),k.hour));j.hh=a.cache(a.process(a.rtoken(/^(0[0-9]|1[0-2])/),k.hour));j.H=a.cache(a.process(a.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),k.hour));j.HH=a.cache(a.process(a.rtoken(/^([0-1][0-9]|2[0-3])/),k.hour));j.m=a.cache(a.process(a.rtoken(/^([0-5][0-9]|[0-9])/),k.minute));j.mm=a.cache(a.process(a.rtoken(/^[0-5][0-9]/),k.minute));j.s=a.cache(a.process(a.rtoken(/^([0-5][0-9]|[0-9])/),k.second));j.ss=a.cache(a.process(a.rtoken(/^[0-5][0-9]/),k.second));j.hms=a.cache(a.sequence([j.H,j.mm,j.ss],j.timePartDelimiter));j.t=a.cache(a.process(j.ctoken2("shortMeridian"),k.meridian));j.tt=a.cache(a.process(j.ctoken2("longMeridian"),k.meridian));j.z=a.cache(a.process(a.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),k.timezone));j.zz=a.cache(a.process(a.rtoken(/^(\+|\-)\s*\d\d\d\d/),k.timezone));j.zzz=a.cache(a.process(j.ctoken2("timezone"),k.timezone));j.timeSuffix=a.each(a.ignore(j.whiteSpace),a.set([j.tt,j.zzz]));j.time=a.each(a.optional(a.ignore(a.stoken("T"))),j.hms,j.timeSuffix);j.d=a.cache(a.process(a.each(a.rtoken(/^([0-2]\d|3[0-1]|\d)/),a.optional(j.ctoken2("ordinalSuffix"))),k.day));j.dd=a.cache(a.process(a.each(a.rtoken(/^([0-2]\d|3[0-1])/),a.optional(j.ctoken2("ordinalSuffix"))),k.day));j.ddd=j.dddd=a.cache(a.process(j.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));j.M=a.cache(a.process(a.rtoken(/^(1[0-2]|0\d|\d)/),k.month));j.MM=a.cache(a.process(a.rtoken(/^(1[0-2]|0\d)/),k.month));j.MMM=j.MMMM=a.cache(a.process(j.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),k.month));j.y=a.cache(a.process(a.rtoken(/^(\d\d?)/),k.year));j.yy=a.cache(a.process(a.rtoken(/^(\d\d)/),k.year));j.yyy=a.cache(a.process(a.rtoken(/^(\d\d?\d?\d?)/),k.year));j.yyyy=a.cache(a.process(a.rtoken(/^(\d\d\d\d)/),k.year));f=function(){return a.each(a.any.apply(null,arguments),a.not(j.ctoken2("timeContext")))};j.day=f(j.d,j.dd);j.month=f(j.M,j.MMM);j.year=f(j.yyyy,j.yy);j.orientation=a.process(j.ctoken("past future"),function(g){return function(){this.orient=g}});j.operator=a.process(j.ctoken("add subtract"),function(g){return function(){this.operator=g}});j.rday=a.process(j.ctoken("yesterday tomorrow today now"),k.rday);j.unit=a.process(j.ctoken("minute hour day week month year"),function(g){return function(){this.unit=g}});j.value=a.process(a.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});j.expression=a.set([j.rday,j.operator,j.value,j.unit,j.orientation,j.ddd,j.MMM]);f=function(){return a.set(arguments,j.datePartDelimiter)};j.mdy=f(j.ddd,j.month,j.day,j.year);j.ymd=f(j.ddd,j.year,j.month,j.day);j.dmy=f(j.ddd,j.day,j.month,j.year);j.date=function(g){return((j[Date.CultureInfo.dateElementOrder]||j.mdy).call(this,g))};j.format=a.process(a.many(a.any(a.process(a.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(j[g]){return j[g]}else{throw Date.Parsing.Exception(g)}}),a.process(a.rtoken(/^[^dMyhHmstz]+/),function(g){return a.ignore(a.stoken(g))}))),function(g){return a.process(a.each.apply(null,g),k.finishExact)});var d={};var h=function(g){return d[g]=(d[g]||j.format(g)[0])};j.formats=function(g){if(g instanceof Array){var m=[];for(var l=0;l<g.length;l++){m.push(h(g[l]))}return a.any.apply(null,m)}else{return h(g)}};j._formats=j.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);j._start=a.process(a.set([j.date,j.time,j.expression],j.generalDelimiter,j.whiteSpace),k.finish);j.start=function(m){try{var l=j._formats.call({},m);if(l[1].length===0){return l}}catch(g){}return j._start.call({},m)}}());Date._parse=Date.parse;Date.parse=function(d){var b=null;if(!d){return null}try{b=Date.Grammar.start.call({},d)}catch(a){return null}return((b[1].length===0)?b[0]:null)};Date.getParseFunction=function(b){var a=Date.Grammar.formats(b);return function(g){var f=null;try{f=a.call({},g)}catch(d){return null}return((f[1].length===0)?f[0]:null)}};Date.parseExact=function(b,a){return Date.getParseFunction(a)(b)};var TimeSpan=function(f,h,l,n,k){var d="days hours minutes seconds milliseconds".split(/\s+/);var g=function(i){return function(){return this[i]}};var o=function(i){return function(p){this[i]=p;return this}};for(var j=0;j<d.length;j++){var a=d[j],b=a.slice(0,1).toUpperCase()+a.slice(1);TimeSpan.prototype[a]=0;TimeSpan.prototype["get"+b]=g(a);TimeSpan.prototype["set"+b]=o(a)}if(arguments.length==4){this.setDays(f);this.setHours(h);this.setMinutes(l);this.setSeconds(n)}else{if(arguments.length==5){this.setDays(f);this.setHours(h);this.setMinutes(l);this.setSeconds(n);this.setMilliseconds(k)}else{if(arguments.length==1&&typeof f=="number"){var m=(f<0)?-1:+1;this.setMilliseconds(Math.abs(f));this.setDays(Math.floor(this.getMilliseconds()/86400000)*m);this.setMilliseconds(this.getMilliseconds()%86400000);this.setHours(Math.floor(this.getMilliseconds()/3600000)*m);this.setMilliseconds(this.getMilliseconds()%3600000);this.setMinutes(Math.floor(this.getMilliseconds()/60000)*m);this.setMilliseconds(this.getMilliseconds()%60000);this.setSeconds(Math.floor(this.getMilliseconds()/1000)*m);this.setMilliseconds(this.getMilliseconds()%1000);this.setMilliseconds(this.getMilliseconds()*m)}}}this.getTotalMilliseconds=function(){return(this.getDays()*86400000)+(this.getHours()*3600000)+(this.getMinutes()*60000)+(this.getSeconds()*1000)};this.compareTo=function(q){var i=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds()),p;if(q===null){p=new Date(1970,1,1,0,0,0)}else{p=new Date(1970,1,1,q.getHours(),q.getMinutes(),q.getSeconds())}return(i<p)?-1:(i>p)?1:0};this.equals=function(i){return(this.compareTo(i)===0)};this.add=function(i){return(i===null)?this:this.addSeconds(i.getTotalMilliseconds()/1000)};this.subtract=function(i){return(i===null)?this:this.addSeconds(-i.getTotalMilliseconds()/1000)};this.addDays=function(i){return new TimeSpan(this.getTotalMilliseconds()+(i*86400000))};this.addHours=function(i){return new TimeSpan(this.getTotalMilliseconds()+(i*3600000))};this.addMinutes=function(i){return new TimeSpan(this.getTotalMilliseconds()+(i*60000))};this.addSeconds=function(i){return new TimeSpan(this.getTotalMilliseconds()+(i*1000))};this.addMilliseconds=function(i){return new TimeSpan(this.getTotalMilliseconds()+i)};this.get12HourHour=function(){return(this.getHours()>12)?this.getHours()-12:(this.getHours()===0)?12:this.getHours()};this.getDesignator=function(){return(this.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};this.toString=function(i){this._toString=function(){if(this.getDays()!==null&&this.getDays()>0){return this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}else{return this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}};this.p=function(q){return(q.toString().length<2)?"0"+q:q};var p=this;return i?i.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(q){switch(q){case"d":return p.getDays();case"dd":return p.p(p.getDays());case"H":return p.getHours();case"HH":return p.p(p.getHours());case"h":return p.get12HourHour();case"hh":return p.p(p.get12HourHour());case"m":return p.getMinutes();case"mm":return p.p(p.getMinutes());case"s":return p.getSeconds();case"ss":return p.p(p.getSeconds());case"t":return((p.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return(p.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};return this};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};var TimePeriod=function(w,p,h,l,o,s,n){var d="years months days hours minutes seconds milliseconds".split(/\s+/);var k=function(i){return function(){return this[i]}};var t=function(i){return function(x){this[i]=x;return this}};for(var m=0;m<d.length;m++){var a=d[m],b=a.slice(0,1).toUpperCase()+a.slice(1);TimePeriod.prototype[a]=0;TimePeriod.prototype["get"+b]=k(a);TimePeriod.prototype["set"+b]=t(a)}if(arguments.length==7){this.years=w;this.months=p;this.setDays(h);this.setHours(l);this.setMinutes(o);this.setSeconds(s);this.setMilliseconds(n)}else{if(arguments.length==2&&arguments[0] instanceof Date&&arguments[1] instanceof Date){var f=w.clone();var g=p.clone();var u=f.clone();var q=(f>g)?-1:+1;this.years=g.getFullYear()-f.getFullYear();u.addYears(this.years);if(q==+1){if(u>g){if(this.years!==0){this.years--}}}else{if(u<g){if(this.years!==0){this.years++}}}f.addYears(this.years);if(q==+1){while(f<g&&f.clone().addDays(Date.getDaysInMonth(f.getYear(),f.getMonth()))<g){f.addMonths(1);this.months++}}else{while(f>g&&f.clone().addDays(-f.getDaysInMonth())>g){f.addMonths(-1);this.months--}}var j=g-f;if(j!==0){var v=new TimeSpan(j);this.setDays(v.getDays());this.setHours(v.getHours());this.setMinutes(v.getMinutes());this.setSeconds(v.getSeconds());this.setMilliseconds(v.getMilliseconds())}}}return this};(function(a){a.fn.daterangepicker=function(x){var s=a(this);var o=a.extend({presetRanges:[{text:"Last 1 day",dateStart:"today -1days",dateEnd:"today -1days"},{text:"Last 7 days",dateStart:"today-7days",dateEnd:"today"},{text:"This week",dateStart:function(){if(Date.today().is().monday()){return Date.today()}return Date.parse("last monday")},dateEnd:"today"},{text:"Last 30 days",dateStart:"today-30",dateEnd:"today"},{text:"This month",dateStart:function(){return Date.parse("today").moveToFirstDayOfMonth()},dateEnd:"today"},],presets:{allDatesBefore:"All Dates Before",allDatesAfter:"All Dates After",specificDate:"Specific Date",dateRange:"Date Range"},presetValues:[],rangeStartTitle:"Start date",rangeEndTitle:"End date",nextLinkText:"Next",prevLinkText:"Prev",target:s,doneButtonText:"Done",earliestDate:Date.parse("-15years"),latestDate:Date.parse("+15years"),constrainDates:false,rangeSplitter:"-",dateFormat:"m/d/yy",closeOnSelect:true,arrows:false,appendTo:"body",onClose:function(){},onOpen:function(){},onChange:function(){},datepickerOptions:null},x);var f={onSelect:function(B,C){var E=u.find(".range-start");var D=u.find(".range-end");if(u.find(".ui-daterangepicker-specificDate").is(".ui-state-active")){D.datepicker("setDate",E.datepicker("getDate"))}a(this).trigger("constrainOtherPicker");var F=h(E.datepicker("getDate"));var G=h(D.datepicker("getDate"));if(s.length==2){s.eq(0).val(F);s.eq(1).val(G)}else{s.val((F!=G)?F+" "+o.rangeSplitter+" "+G:F)}if(o.closeOnSelect){if(!u.find("li.ui-state-active").is(".ui-daterangepicker-dateRange")&&!u.is(":animated")){i()}a(this).trigger("constrainOtherPicker");o.onChange()}},defaultDate:+0};s.bind("change",o.onChange);o.datepickerOptions=(x)?a.extend(f,x.datepickerOptions):f;var j,l=Date.parse("today");var k,m;if(s.length===2){k=Date.parse(s.eq(0).val());m=Date.parse(s.eq(1).val());if(k==null){k=m}if(m==null){m=k}}else{k=Date.parse(s.val().split(o.rangeSplitter)[0]);m=Date.parse(s.val().split(o.rangeSplitter)[1]);if(m==null){m=k}}if(k!=null){j=k}if(m!=null){l=m}var u=a('<div class="ui-daterangepicker ui-widget ui-helper-clearfix ui-widget-content ui-corner-all"></div>');var w=(function(){var C=a('<ul class="ui-widget-content"></ul>').appendTo(u);var D=0;a.each(o.presetValues,function(){a('<li class="ui-daterangepicker-presetvalue presetvalue_'+D+' ui-corner-all"><a href="#">'+this.text+"</a></li>").data("value",this.value).appendTo(C);D++});if(D>0){a('<li class="ui-daterangepicker-divider ui-corner-all"></li>').appendTo(C)}a.each(o.presetRanges,function(){a('<li class="ui-daterangepicker-'+this.text.replace(/ /g,"")+' ui-corner-all"><a href="#">'+this.text+"</a></li>").data("dateStart",this.dateStart).data("dateEnd",this.dateEnd).appendTo(C)});a('<li class="ui-daterangepicker-divider ui-corner-all"></li>').appendTo(C);D=0;var B="";a.each(o.presets,function(E,F){B='<span class="ui-icon ui-icon-triangle-1-e"></span>';if(E=="clearSelection"){B=""}a('<li class="ui-daterangepicker-'+E+" preset_"+D+' ui-helper-clearfix ui-corner-all">'+B+'<a href="#">'+F+"</a></li>").appendTo(C);D++});C.find("li:not(.ui-daterangepicker-divider)").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).click(function(){u.find(".ui-state-active").removeClass("ui-state-active");a(this).addClass("ui-state-active");d(a(this),u,v,g);return false});return C})();function h(B){if(!B.getDate()){return""}var D=B.getDate();var E=B.getMonth();var F=B.getFullYear();E++;var C=o.dateFormat;return a.datepicker.formatDate(C,B)}a.fn.restoreDateFromData=function(){if(a(this).data("saveDate")){a(this).datepicker("setDate",a(this).data("saveDate")).removeData("saveDate")}return this};a.fn.saveDateToData=function(){if(!a(this).data("saveDate")){a(this).data("saveDate",a(this).datepicker("getDate"))}return this};function z(){if(u.data("state")=="closed"){p();u.fadeIn(300).data("state","open");o.onOpen()}}function i(){if(u.data("state")=="open"){u.fadeOut(300).data("state","closed");o.onClose()}}function A(){if(u.data("state")=="open"){i()}else{z()}}function p(){var C=t||s;var D=C.offset(),E="left",F=D.left,B=a(window).width()-F-C.outerWidth();if(F>B){E="right",F=B}u.parent().css(E,F).css("top",D.top+C.outerHeight())}function b(){if(s.length==2){s.eq(0).val("");s.eq(1).val("")}else{s.val("")}}function y(B){if(s.length==2){s.eq(0).val(B);s.eq(1).val("")}else{s.val(B)}}function d(E,F,G,D){if(E.is(".ui-daterangepicker-divider")){return false}if(E.is(".ui-daterangepicker-specificDate")){D.hide();G.show();F.find(".title-start").text(o.presets.specificDate);F.find(".range-start").restoreDateFromData().css("opacity",1).show(400);F.find(".range-end").restoreDateFromData().css("opacity",0).hide(400);setTimeout(function(){D.fadeIn()},400)}else{if(E.is(".ui-daterangepicker-allDatesBefore")){D.hide();G.show();F.find(".title-end").text(o.presets.allDatesBefore);F.find(".range-start").saveDateToData().datepicker("setDate",o.earliestDate).css("opacity",0).hide(400);F.find(".range-end").restoreDateFromData().css("opacity",1).show(400);setTimeout(function(){D.fadeIn()},400)}else{if(E.is(".ui-daterangepicker-allDatesAfter")){D.hide();G.show();F.find(".title-start").text(o.presets.allDatesAfter);F.find(".range-start").restoreDateFromData().css("opacity",1).show(400);F.find(".range-end").saveDateToData().datepicker("setDate",o.latestDate).css("opacity",0).hide(400);setTimeout(function(){D.fadeIn()},400)}else{if(E.is(".ui-daterangepicker-dateRange")){D.hide();G.show();F.find(".title-start").text(o.rangeStartTitle);F.find(".title-end").text(o.rangeEndTitle);F.find(".range-start").restoreDateFromData().css("opacity",1).show(400);F.find(".range-end").restoreDateFromData().css("opacity",1).show(400);setTimeout(function(){D.fadeIn()},400)}else{if(E.is(".ui-daterangepicker-presetvalue")){y(E.data("value"));i()}else{if(E.is(".ui-daterangepicker-clearSelection")){b();i()}else{D.hide();F.find(".range-start, .range-end").css("opacity",0).hide(400,function(){G.hide()});var C=(typeof E.data("dateStart")=="string")?Date.parse(E.data("dateStart")):E.data("dateStart")();var B=(typeof E.data("dateEnd")=="string")?Date.parse(E.data("dateEnd")):E.data("dateEnd")();F.find(".range-start").datepicker("setDate",C).find(".ui-datepicker-current-day").trigger("click");F.find(".range-end").datepicker("setDate",B).find(".ui-datepicker-current-day").trigger("click")}}}}}}return false}var v=a('<div class="ranges ui-widget-header ui-corner-all ui-helper-clearfix"><div class="range-start"><span class="title-start">Start Date</span></div><div class="range-end"><span class="title-end">End Date</span></div></div>').appendTo(u);v.find(".range-start, .range-end").datepicker(o.datepickerOptions);v.find(".range-start").datepicker("setDate",j);v.find(".range-end").datepicker("setDate",l);v.find(".range-start, .range-end").bind("constrainOtherPicker",function(){if(o.constrainDates){if(a(this).is(".range-start")){u.find(".range-end").datepicker("option","minDate",a(this).datepicker("getDate"))}else{u.find(".range-start").datepicker("option","maxDate",a(this).datepicker("getDate"))}}}).trigger("constrainOtherPicker");var g=a('<button class="btnDone ui-state-default ui-corner-all">'+o.doneButtonText+"</button>").click(function(){u.find(".ui-datepicker-current-day").trigger("click");i()}).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).appendTo(v);a(this).click(function(){A();return false});v.hide().find(".range-start, .range-end, .btnDone").hide();u.data("state","closed");v.find(".ui-datepicker").css("display","block");a(o.appendTo).append(u);u.wrap('<div class="ui-daterangepickercontain"></div>');if(o.arrows&&s.length===1){var q=a('<a href="#" class="ui-daterangepicker-prev ui-corner-all" title="'+o.prevLinkText+'"><span class="ui-icon ui-icon-circle-triangle-w">'+o.prevLinkText+"</span></a>");var n=a('<a href="#" class="ui-daterangepicker-next ui-corner-all" title="'+o.nextLinkText+'"><span class="ui-icon ui-icon-circle-triangle-e">'+o.nextLinkText+"</span></a>");a(this).addClass("ui-rangepicker-input ui-widget-content").wrap('<div class="ui-daterangepicker-arrows ui-widget ui-widget-header ui-helper-clearfix ui-corner-all"></div>').before(q).before(n).parent().find("a").click(function(){var B=v.find(".range-start").datepicker("getDate");var C=v.find(".range-end").datepicker("getDate");var D=Math.abs(new TimeSpan(B-C).getTotalMilliseconds())+86400000;if(a(this).is(".ui-daterangepicker-prev")){D=-D}v.find(".range-start, .range-end ").each(function(){var E=a(this).datepicker("getDate");if(E==null){return false}a(this).datepicker("setDate",E.add({milliseconds:D})).find(".ui-datepicker-current-day").trigger("click")});return false}).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});var t=s.parent()}a(document).click(function(){if(u.is(":visible")){i()}});u.click(function(){return false}).hide();return this}})(jQuery);
/* jQuery Timepicker Addon - v1.4 - 2013-08-11
* http://trentrichardson.com/examples/timepicker
* Copyright (c) 2013 Trent Richardson; Licensed MIT */
(function($){$.ui.timepicker=$.ui.timepicker||{};if($.ui.timepicker.version){return}$.extend($.ui,{timepicker:{version:"1.4"}});var Timepicker=function(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:false};this._defaults={showButtonPanel:true,timeOnly:false,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:true,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:true,separator:" ",altFieldTimeOnly:true,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:true,timezoneList:null,addSliderAccess:false,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"};$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_newInst:function($input,opts){var tp_inst=new Timepicker(),inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults){if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue){try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}}overrides={beforeShow:function(input,dp_inst){if($.isFunction(tp_inst._defaults.evnts.beforeShow)){return tp_inst._defaults.evnts.beforeShow.call($input[0],input,dp_inst,tp_inst)}},onChangeMonthYear:function(year,month,dp_inst){tp_inst._updateDateTime(dp_inst);if($.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)){tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],year,month,dp_inst,tp_inst)}},onClose:function(dateText,dp_inst){if(tp_inst.timeDefined===true&&$input.val()!==""){tp_inst._updateDateTime(dp_inst)}if($.isFunction(tp_inst._defaults.evnts.onClose)){tp_inst._defaults.evnts.onClose.call($input[0],dateText,dp_inst,tp_inst)}}};for(i in overrides){if(overrides.hasOwnProperty(i)){fns[i]=opts[i]||null}}tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst});tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(val){return val.toUpperCase()});tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(val){return val.toUpperCase()});tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:""));if(typeof(tp_inst._defaults.controlType)==="string"){if(tp_inst._defaults.controlType==="slider"&&typeof($.ui.slider)==="undefined"){tp_inst._defaults.controlType="select"}tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]}else{tp_inst.control=tp_inst._defaults.controlType}var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];if(tp_inst._defaults.timezoneList!==null){timezoneList=tp_inst._defaults.timezoneList}var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&typeof timezoneList[0]!=="object"){for(;tzi<tzl;tzi++){tzv=timezoneList[tzi];timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)}}}tp_inst._defaults.timezoneList=timezoneList;tp_inst.timezone=tp_inst._defaults.timezone!==null?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):((new Date()).getTimezoneOffset()*-1);tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour;tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute;tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second;tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec;tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec;tp_inst.ampm="";tp_inst.$input=$input;if(tp_inst._defaults.altField){tp_inst.$altInput=$(tp_inst._defaults.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})}if(tp_inst._defaults.minDate===0||tp_inst._defaults.minDateTime===0){tp_inst._defaults.minDate=new Date()}if(tp_inst._defaults.maxDate===0||tp_inst._defaults.maxDateTime===0){tp_inst._defaults.maxDate=new Date()}if(tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date){tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())}if(tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date){tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())}if(tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date){tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())}if(tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date){tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())}tp_inst.$input.bind("focus",function(){tp_inst._onFocus()});return tp_inst},_addTimePicker:function(dp_inst){var currDT=(this.$altInput&&this._defaults.altFieldTimeOnly)?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(currDT);this._limitMinMaxDateTime(dp_inst,false);this._injectTimePicker()},_parseTime:function(timeString,withDate){if(!this.inst){this.inst=$.datepicker._getInst(this.$input[0])}if(withDate||!this._defaults.timeOnly){var dp_dateFormat=$.datepicker._get(this.inst,"dateFormat");try{var parseRes=parseDateTimeInternal(dp_dateFormat,this._defaults.timeFormat,timeString,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!parseRes.timeObj){return false}$.extend(this,parseRes.timeObj)}catch(err){$.timepicker.log("Error parsing the date/time string: "+err+"\ndate/time string = "+timeString+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+dp_dateFormat);return false}return true}else{var timeObj=$.datepicker.parseTime(this._defaults.timeFormat,timeString,this._defaults);if(!timeObj){return false}$.extend(this,timeObj);return true}},_injectTimePicker:function(){var $dp=this.inst.dpDiv,o=this.inst.settings,tp_inst=this,litem="",uitem="",show=null,max={},gridSize={},size=null,i=0,l=0;if($dp.find("div.ui-timepicker-div").length===0&&o.showTimepicker){var noDisplay=' style="display:none;"',html='<div class="ui-timepicker-div'+(o.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+((o.showTime)?"":noDisplay)+">"+o.timeText+'</dt><dd class="ui_tpicker_time"'+((o.showTime)?"":noDisplay)+"></dd>";for(i=0,l=this.units.length;i<l;i++){litem=this.units[i];uitem=litem.substr(0,1).toUpperCase()+litem.substr(1);show=o["show"+uitem]!==null?o["show"+uitem]:this.support[litem];max[litem]=parseInt((o[litem+"Max"]-((o[litem+"Max"]-o[litem+"Min"])%o["step"+uitem])),10);gridSize[litem]=0;html+='<dt class="ui_tpicker_'+litem+'_label"'+(show?"":noDisplay)+">"+o[litem+"Text"]+'</dt><dd class="ui_tpicker_'+litem+'"><div class="ui_tpicker_'+litem+'_slider"'+(show?"":noDisplay)+"></div>";if(show&&o[litem+"Grid"]>0){html+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';if(litem==="hour"){for(var h=o[litem+"Min"];h<=max[litem];h+=parseInt(o[litem+"Grid"],10)){gridSize[litem]++;var tmph=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:h},o);html+='<td data-for="'+litem+'">'+tmph+"</td>"}}else{for(var m=o[litem+"Min"];m<=max[litem];m+=parseInt(o[litem+"Grid"],10)){gridSize[litem]++;html+='<td data-for="'+litem+'">'+((m<10)?"0":"")+m+"</td>"}}html+="</tr></table></div>"}html+="</dd>"}var showTz=o.showTimezone!==null?o.showTimezone:this.support.timezone;html+='<dt class="ui_tpicker_timezone_label"'+(showTz?"":noDisplay)+">"+o.timezoneText+"</dt>";html+='<dd class="ui_tpicker_timezone" '+(showTz?"":noDisplay)+"></dd>";html+="</dl></div>";var $tp=$(html);if(o.timeOnly===true){$tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+o.timeOnlyTitle+"</div></div>");$dp.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()}for(i=0,l=tp_inst.units.length;i<l;i++){litem=tp_inst.units[i];uitem=litem.substr(0,1).toUpperCase()+litem.substr(1);show=o["show"+uitem]!==null?o["show"+uitem]:this.support[litem];tp_inst[litem+"_slider"]=tp_inst.control.create(tp_inst,$tp.find(".ui_tpicker_"+litem+"_slider"),litem,tp_inst[litem],o[litem+"Min"],max[litem],o["step"+uitem]);if(show&&o[litem+"Grid"]>0){size=100*gridSize[litem]*o[litem+"Grid"]/(max[litem]-o[litem+"Min"]);$tp.find(".ui_tpicker_"+litem+" table").css({width:size+"%",marginLeft:o.isRTL?"0":((size/(-2*gridSize[litem]))+"%"),marginRight:o.isRTL?((size/(-2*gridSize[litem]))+"%"):"0",borderCollapse:"collapse"}).find("td").click(function(e){var $t=$(this),h=$t.html(),n=parseInt(h.replace(/[^0-9]/g),10),ap=h.replace(/[^apm]/ig),f=$t.data("for");if(f==="hour"){if(ap.indexOf("p")!==-1&&n<12){n+=12}else{if(ap.indexOf("a")!==-1&&n===12){n=0}}}tp_inst.control.value(tp_inst,tp_inst[f+"_slider"],litem,n);tp_inst._onTimeChange();tp_inst._onSelectHandler()}).css({cursor:"pointer",width:(100/gridSize[litem])+"%",textAlign:"center",overflow:"hidden"})}}this.timezone_select=$tp.find(".ui_tpicker_timezone").append("<select></select>").find("select");$.fn.append.apply(this.timezone_select,$.map(o.timezoneList,function(val,idx){return $("<option />").val(typeof val==="object"?val.value:val).text(typeof val==="object"?val.label:val)}));if(typeof(this.timezone)!=="undefined"&&this.timezone!==null&&this.timezone!==""){var local_timezone=(new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12)).getTimezoneOffset()*-1;if(local_timezone===this.timezone){selectLocalTimezone(tp_inst)}else{this.timezone_select.val(this.timezone)}}else{if(typeof(this.hour)!=="undefined"&&this.hour!==null&&this.hour!==""){this.timezone_select.val(o.timezone)}else{selectLocalTimezone(tp_inst)}}this.timezone_select.change(function(){tp_inst._onTimeChange();tp_inst._onSelectHandler()});var $buttonPanel=$dp.find(".ui-datepicker-buttonpane");if($buttonPanel.length){$buttonPanel.before($tp)}else{$dp.append($tp)}this.$timeObj=$tp.find(".ui_tpicker_time");if(this.inst!==null){var timeDefined=this.timeDefined;this._onTimeChange();this.timeDefined=timeDefined}if(this._defaults.addSliderAccess){var sliderAccessArgs=this._defaults.sliderAccessArgs,rtl=this._defaults.isRTL;sliderAccessArgs.isRTL=rtl;setTimeout(function(){if($tp.find(".ui-slider-access").length===0){$tp.find(".ui-slider:visible").sliderAccess(sliderAccessArgs);var sliderAccessWidth=$tp.find(".ui-slider-access:eq(0)").outerWidth(true);if(sliderAccessWidth){$tp.find("table:visible").each(function(){var $g=$(this),oldWidth=$g.outerWidth(),oldMarginLeft=$g.css(rtl?"marginRight":"marginLeft").toString().replace("%",""),newWidth=oldWidth-sliderAccessWidth,newMarginLeft=((oldMarginLeft*newWidth)/oldWidth)+"%",css={width:newWidth,marginRight:0,marginLeft:0};css[rtl?"marginRight":"marginLeft"]=newMarginLeft;$g.css(css)})}}},10)}tp_inst._limitMinMaxDateTime(this.inst,true)}},_limitMinMaxDateTime:function(dp_inst,adjustSliders){var o=this._defaults,dp_date=new Date(dp_inst.selectedYear,dp_inst.selectedMonth,dp_inst.selectedDay);if(!this._defaults.showTimepicker){return}if($.datepicker._get(dp_inst,"minDateTime")!==null&&$.datepicker._get(dp_inst,"minDateTime")!==undefined&&dp_date){var minDateTime=$.datepicker._get(dp_inst,"minDateTime"),minDateTimeDate=new Date(minDateTime.getFullYear(),minDateTime.getMonth(),minDateTime.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null||this.microsecMinOriginal===null){this.hourMinOriginal=o.hourMin;this.minuteMinOriginal=o.minuteMin;this.secondMinOriginal=o.secondMin;this.millisecMinOriginal=o.millisecMin;this.microsecMinOriginal=o.microsecMin}if(dp_inst.settings.timeOnly||minDateTimeDate.getTime()===dp_date.getTime()){this._defaults.hourMin=minDateTime.getHours();if(this.hour<=this._defaults.hourMin){this.hour=this._defaults.hourMin;this._defaults.minuteMin=minDateTime.getMinutes();if(this.minute<=this._defaults.minuteMin){this.minute=this._defaults.minuteMin;this._defaults.secondMin=minDateTime.getSeconds();if(this.second<=this._defaults.secondMin){this.second=this._defaults.secondMin;this._defaults.millisecMin=minDateTime.getMilliseconds();if(this.millisec<=this._defaults.millisecMin){this.millisec=this._defaults.millisecMin;this._defaults.microsecMin=minDateTime.getMicroseconds()}else{if(this.microsec<this._defaults.microsecMin){this.microsec=this._defaults.microsecMin}this._defaults.microsecMin=this.microsecMinOriginal}}else{this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}else{this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}else{this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}else{this._defaults.hourMin=this.hourMinOriginal;this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}if($.datepicker._get(dp_inst,"maxDateTime")!==null&&$.datepicker._get(dp_inst,"maxDateTime")!==undefined&&dp_date){var maxDateTime=$.datepicker._get(dp_inst,"maxDateTime"),maxDateTimeDate=new Date(maxDateTime.getFullYear(),maxDateTime.getMonth(),maxDateTime.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null||this.millisecMaxOriginal===null){this.hourMaxOriginal=o.hourMax;this.minuteMaxOriginal=o.minuteMax;this.secondMaxOriginal=o.secondMax;this.millisecMaxOriginal=o.millisecMax;this.microsecMaxOriginal=o.microsecMax}if(dp_inst.settings.timeOnly||maxDateTimeDate.getTime()===dp_date.getTime()){this._defaults.hourMax=maxDateTime.getHours();if(this.hour>=this._defaults.hourMax){this.hour=this._defaults.hourMax;this._defaults.minuteMax=maxDateTime.getMinutes();if(this.minute>=this._defaults.minuteMax){this.minute=this._defaults.minuteMax;this._defaults.secondMax=maxDateTime.getSeconds();if(this.second>=this._defaults.secondMax){this.second=this._defaults.secondMax;this._defaults.millisecMax=maxDateTime.getMilliseconds();if(this.millisec>=this._defaults.millisecMax){this.millisec=this._defaults.millisecMax;this._defaults.microsecMax=maxDateTime.getMicroseconds()}else{if(this.microsec>this._defaults.microsecMax){this.microsec=this._defaults.microsecMax}this._defaults.microsecMax=this.microsecMaxOriginal}}else{this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}else{this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}else{this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}else{this._defaults.hourMax=this.hourMaxOriginal;this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}if(adjustSliders!==undefined&&adjustSliders===true){var hourMax=parseInt((this._defaults.hourMax-((this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour)),10),minMax=parseInt((this._defaults.minuteMax-((this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute)),10),secMax=parseInt((this._defaults.secondMax-((this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond)),10),millisecMax=parseInt((this._defaults.millisecMax-((this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec)),10),microsecMax=parseInt((this._defaults.microsecMax-((this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec)),10);if(this.hour_slider){this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:hourMax});this.control.value(this,this.hour_slider,"hour",this.hour-(this.hour%this._defaults.stepHour))}if(this.minute_slider){this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:minMax});this.control.value(this,this.minute_slider,"minute",this.minute-(this.minute%this._defaults.stepMinute))}if(this.second_slider){this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:secMax});this.control.value(this,this.second_slider,"second",this.second-(this.second%this._defaults.stepSecond))}if(this.millisec_slider){this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:millisecMax});this.control.value(this,this.millisec_slider,"millisec",this.millisec-(this.millisec%this._defaults.stepMillisec))}if(this.microsec_slider){this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:microsecMax});this.control.value(this,this.microsec_slider,"microsec",this.microsec-(this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(!this._defaults.showTimepicker){return}var hour=(this.hour_slider)?this.control.value(this,this.hour_slider,"hour"):false,minute=(this.minute_slider)?this.control.value(this,this.minute_slider,"minute"):false,second=(this.second_slider)?this.control.value(this,this.second_slider,"second"):false,millisec=(this.millisec_slider)?this.control.value(this,this.millisec_slider,"millisec"):false,microsec=(this.microsec_slider)?this.control.value(this,this.microsec_slider,"microsec"):false,timezone=(this.timezone_select)?this.timezone_select.val():false,o=this._defaults,pickerTimeFormat=o.pickerTimeFormat||o.timeFormat,pickerTimeSuffix=o.pickerTimeSuffix||o.timeSuffix;if(typeof(hour)==="object"){hour=false}if(typeof(minute)==="object"){minute=false}if(typeof(second)==="object"){second=false}if(typeof(millisec)==="object"){millisec=false}if(typeof(microsec)==="object"){microsec=false}if(typeof(timezone)==="object"){timezone=false}if(hour!==false){hour=parseInt(hour,10)}if(minute!==false){minute=parseInt(minute,10)}if(second!==false){second=parseInt(second,10)}if(millisec!==false){millisec=parseInt(millisec,10)}if(microsec!==false){microsec=parseInt(microsec,10)}var ampm=o[hour<12?"amNames":"pmNames"][0];var hasChanged=(hour!==this.hour||minute!==this.minute||second!==this.second||millisec!==this.millisec||microsec!==this.microsec||(this.ampm.length>0&&(hour<12)!==($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1))||(this.timezone!==null&&timezone!==this.timezone));if(hasChanged){if(hour!==false){this.hour=hour}if(minute!==false){this.minute=minute}if(second!==false){this.second=second}if(millisec!==false){this.millisec=millisec}if(microsec!==false){this.microsec=microsec}if(timezone!==false){this.timezone=timezone}if(!this.inst){this.inst=$.datepicker._getInst(this.$input[0])}this._limitMinMaxDateTime(this.inst,true)}if(this.support.ampm){this.ampm=ampm}this.formattedTime=$.datepicker.formatTime(o.timeFormat,this,o);if(this.$timeObj){if(pickerTimeFormat===o.timeFormat){this.$timeObj.text(this.formattedTime+pickerTimeSuffix)}else{this.$timeObj.text($.datepicker.formatTime(pickerTimeFormat,this,o)+pickerTimeSuffix)}}this.timeDefined=true;if(hasChanged){this._updateDateTime()}},_onSelectHandler:function(){var onSelect=this._defaults.onSelect||this.inst.settings.onSelect;var inputEl=this.$input?this.$input[0]:null;if(onSelect&&inputEl){onSelect.apply(inputEl,[this.formattedDateTime,this])}},_updateDateTime:function(dp_inst){dp_inst=this.inst||dp_inst;var dtTmp=(dp_inst.currentYear>0?new Date(dp_inst.currentYear,dp_inst.currentMonth,dp_inst.currentDay):new Date(dp_inst.selectedYear,dp_inst.selectedMonth,dp_inst.selectedDay)),dt=$.datepicker._daylightSavingAdjust(dtTmp),dateFmt=$.datepicker._get(dp_inst,"dateFormat"),formatCfg=$.datepicker._getFormatConfig(dp_inst),timeAvailable=dt!==null&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(dateFmt,(dt===null?new Date():dt),formatCfg);var formattedDateTime=this.formattedDate;if(dp_inst.lastVa===""){dp_inst.currentYear=dp_inst.selectedYear;dp_inst.currentMonth=dp_inst.selectedMonth;dp_inst.currentDay=dp_inst.selectedDay}if(this._defaults.timeOnly===true){formattedDateTime=this.formattedTime}else{if(this._defaults.timeOnly!==true&&(this._defaults.alwaysSetTime||timeAvailable)){formattedDateTime+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix}}this.formattedDateTime=formattedDateTime;if(!this._defaults.showTimepicker){this.$input.val(this.formattedDate)}else{if(this.$altInput&&this._defaults.timeOnly===false&&this._defaults.altFieldTimeOnly===true){this.$altInput.val(this.formattedTime);this.$input.val(this.formattedDate)}else{if(this.$altInput){this.$input.val(formattedDateTime);var altFormattedDateTime="",altSeparator=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,altTimeSuffix=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;if(!this._defaults.timeOnly){if(this._defaults.altFormat){altFormattedDateTime=$.datepicker.formatDate(this._defaults.altFormat,(dt===null?new Date():dt),formatCfg)}else{altFormattedDateTime=this.formattedDate}if(altFormattedDateTime){altFormattedDateTime+=altSeparator}}if(this._defaults.altTimeFormat){altFormattedDateTime+=$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+altTimeSuffix}else{altFormattedDateTime+=this.formattedTime+altTimeSuffix}this.$altInput.val(altFormattedDateTime)}else{this.$input.val(formattedDateTime)}}}this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var inst=$.datepicker._getInst(this.$input.get(0)),tp_inst=$.datepicker._get(inst,"timepicker");if(tp_inst){if(tp_inst._defaults.timeOnly&&(inst.input.val()!==inst.lastVal)){try{$.datepicker._updateDatepicker(inst)}catch(err){$.timepicker.log(err)}}}}},_controls:{slider:{create:function(tp_inst,obj,unit,val,min,max,step){var rtl=tp_inst._defaults.isRTL;return obj.prop("slide",null).slider({orientation:"horizontal",value:rtl?val*-1:val,min:rtl?max*-1:min,max:rtl?min*-1:max,step:step,slide:function(event,ui){tp_inst.control.value(tp_inst,$(this),unit,rtl?ui.value*-1:ui.value);tp_inst._onTimeChange()},stop:function(event,ui){tp_inst._onSelectHandler()}})},options:function(tp_inst,obj,unit,opts,val){if(tp_inst._defaults.isRTL){if(typeof(opts)==="string"){if(opts==="min"||opts==="max"){if(val!==undefined){return obj.slider(opts,val*-1)}return Math.abs(obj.slider(opts))}return obj.slider(opts)}var min=opts.min,max=opts.max;opts.min=opts.max=null;if(min!==undefined){opts.max=min*-1}if(max!==undefined){opts.min=max*-1}return obj.slider(opts)}if(typeof(opts)==="string"&&val!==undefined){return obj.slider(opts,val)}return obj.slider(opts)},value:function(tp_inst,obj,unit,val){if(tp_inst._defaults.isRTL){if(val!==undefined){return obj.slider("value",val*-1)}return Math.abs(obj.slider("value"))}if(val!==undefined){return obj.slider("value",val)}return obj.slider("value")}},select:{create:function(tp_inst,obj,unit,val,min,max,step){var sel='<select class="ui-timepicker-select" data-unit="'+unit+'" data-min="'+min+'" data-max="'+max+'" data-step="'+step+'">',format=tp_inst._defaults.pickerTimeFormat||tp_inst._defaults.timeFormat;for(var i=min;i<=max;i+=step){sel+='<option value="'+i+'"'+(i===val?" selected":"")+">";if(unit==="hour"){sel+=$.datepicker.formatTime($.trim(format.replace(/[^ht ]/ig,"")),{hour:i},tp_inst._defaults)}else{if(unit==="millisec"||unit==="microsec"||i>=10){sel+=i}else{sel+="0"+i.toString()}}sel+="</option>"}sel+="</select>";obj.children("select").remove();$(sel).appendTo(obj).change(function(e){tp_inst._onTimeChange();tp_inst._onSelectHandler()});return obj},options:function(tp_inst,obj,unit,opts,val){var o={},$t=obj.children("select");if(typeof(opts)==="string"){if(val===undefined){return $t.data(opts)}o[opts]=val}else{o=opts}return tp_inst.control.create(tp_inst,obj,$t.data("unit"),$t.val(),o.min||$t.data("min"),o.max||$t.data("max"),o.step||$t.data("step"))},value:function(tp_inst,obj,unit,val){var $t=obj.children("select");if(val!==undefined){return $t.val(val)}return $t.val()}}}});$.fn.extend({timepicker:function(o){o=o||{};var tmp_args=Array.prototype.slice.call(arguments);if(typeof o==="object"){tmp_args[0]=$.extend(o,{timeOnly:true})}return $(this).each(function(){$.fn.datetimepicker.apply($(this),tmp_args)})},datetimepicker:function(o){o=o||{};var tmp_args=arguments;if(typeof(o)==="string"){if(o==="getDate"){return $.fn.datepicker.apply($(this[0]),tmp_args)}else{return this.each(function(){var $t=$(this);$t.datepicker.apply($t,tmp_args)})}}else{return this.each(function(){var $t=$(this);$t.datepicker($.timepicker._newInst($t,o)._defaults)})}}});$.datepicker.parseDateTime=function(dateFormat,timeFormat,dateTimeString,dateSettings,timeSettings){var parseRes=parseDateTimeInternal(dateFormat,timeFormat,dateTimeString,dateSettings,timeSettings);if(parseRes.timeObj){var t=parseRes.timeObj;parseRes.date.setHours(t.hour,t.minute,t.second,t.millisec);parseRes.date.setMicroseconds(t.microsec)}return parseRes.date};$.datepicker.parseTime=function(timeFormat,timeString,options){var o=extendRemove(extendRemove({},$.timepicker._defaults),options||{}),iso8601=(timeFormat.replace(/\'.*?\'/g,"").indexOf("Z")!==-1);var strictParse=function(f,s,o){var getPatternAmpm=function(amNames,pmNames){var markers=[];if(amNames){$.merge(markers,amNames)}if(pmNames){$.merge(markers,pmNames)}markers=$.map(markers,function(val){return val.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")});return"("+markers.join("|")+")?"};var getFormatPositions=function(timeFormat){var finds=timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),orders={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(finds){for(var i=0;i<finds.length;i++){if(orders[finds[i].toString().charAt(0)]===-1){orders[finds[i].toString().charAt(0)]=i+1}}}return orders};var regstr="^"+f.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(match){var ml=match.length;switch(match.charAt(0).toLowerCase()){case"h":return ml===1?"(\\d?\\d)":"(\\d{"+ml+"})";case"m":return ml===1?"(\\d?\\d)":"(\\d{"+ml+"})";case"s":return ml===1?"(\\d?\\d)":"(\\d{"+ml+"})";case"l":return"(\\d?\\d?\\d)";case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return getPatternAmpm(o.amNames,o.pmNames);default:return"("+match.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(m){return"\\"+m})+")?"}}).replace(/\s/g,"\\s?")+o.timeSuffix+"$",order=getFormatPositions(f),ampm="",treg;treg=s.match(new RegExp(regstr,"i"));var resTime={hour:0,minute:0,second:0,millisec:0,microsec:0};if(treg){if(order.t!==-1){if(treg[order.t]===undefined||treg[order.t].length===0){ampm="";resTime.ampm=""}else{ampm=$.inArray(treg[order.t].toUpperCase(),o.amNames)!==-1?"AM":"PM";resTime.ampm=o[ampm==="AM"?"amNames":"pmNames"][0]}}if(order.h!==-1){if(ampm==="AM"&&treg[order.h]==="12"){resTime.hour=0}else{if(ampm==="PM"&&treg[order.h]!=="12"){resTime.hour=parseInt(treg[order.h],10)+12}else{resTime.hour=Number(treg[order.h])}}}if(order.m!==-1){resTime.minute=Number(treg[order.m])}if(order.s!==-1){resTime.second=Number(treg[order.s])}if(order.l!==-1){resTime.millisec=Number(treg[order.l])}if(order.c!==-1){resTime.microsec=Number(treg[order.c])}if(order.z!==-1&&treg[order.z]!==undefined){resTime.timezone=$.timepicker.timezoneOffsetNumber(treg[order.z])}return resTime}return false};var looseParse=function(f,s,o){try{var d=new Date("2012-01-01 "+s);if(isNaN(d.getTime())){d=new Date("2012-01-01T"+s);if(isNaN(d.getTime())){d=new Date("01/01/2012 "+s);if(isNaN(d.getTime())){throw"Unable to parse time with native Date: "+s}}}return{hour:d.getHours(),minute:d.getMinutes(),second:d.getSeconds(),millisec:d.getMilliseconds(),microsec:d.getMicroseconds(),timezone:d.getTimezoneOffset()*-1}}catch(err){try{return strictParse(f,s,o)}catch(err2){$.timepicker.log("Unable to parse \ntimeString: "+s+"\ntimeFormat: "+f)}}return false};if(typeof o.parse==="function"){return o.parse(timeFormat,timeString,o)}if(o.parse==="loose"){return looseParse(timeFormat,timeString,o)}return strictParse(timeFormat,timeString,o)};$.datepicker.formatTime=function(format,time,options){options=options||{};options=$.extend({},$.timepicker._defaults,options);time=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},time);var tmptime=format,ampmName=options.amNames[0],hour=parseInt(time.hour,10);if(hour>11){ampmName=options.pmNames[0]}tmptime=tmptime.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(match){switch(match){case"HH":return("0"+hour).slice(-2);case"H":return hour;case"hh":return("0"+convert24to12(hour)).slice(-2);case"h":return convert24to12(hour);case"mm":return("0"+time.minute).slice(-2);case"m":return time.minute;case"ss":return("0"+time.second).slice(-2);case"s":return time.second;case"l":return("00"+time.millisec).slice(-3);case"c":return("00"+time.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(time.timezone===null?options.timezone:time.timezone,false);case"Z":return $.timepicker.timezoneOffsetString(time.timezone===null?options.timezone:time.timezone,true);case"T":return ampmName.charAt(0).toUpperCase();case"TT":return ampmName.toUpperCase();case"t":return ampmName.charAt(0).toLowerCase();case"tt":return ampmName.toLowerCase();default:return match.replace(/'/g,"")}});return tmptime};$.datepicker._base_selectDate=$.datepicker._selectDate;$.datepicker._selectDate=function(id,dateStr){var inst=this._getInst($(id)[0]),tp_inst=this._get(inst,"timepicker");if(tp_inst){tp_inst._limitMinMaxDateTime(inst,true);inst.inline=inst.stay_open=true;this._base_selectDate(id,dateStr);inst.inline=inst.stay_open=false;this._notifyChange(inst);this._updateDatepicker(inst)}else{this._base_selectDate(id,dateStr)}};$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(inst){var input=inst.input[0];if($.datepicker._curInst&&$.datepicker._curInst!==inst&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==input){return}if(typeof(inst.stay_open)!=="boolean"||inst.stay_open===false){this._base_updateDatepicker(inst);var tp_inst=this._get(inst,"timepicker");if(tp_inst){tp_inst._addTimePicker(inst)}}};$.datepicker._base_doKeyPress=$.datepicker._doKeyPress;$.datepicker._doKeyPress=function(event){var inst=$.datepicker._getInst(event.target),tp_inst=$.datepicker._get(inst,"timepicker");if(tp_inst){if($.datepicker._get(inst,"constrainInput")){var ampm=tp_inst.support.ampm,tz=tp_inst._defaults.showTimezone!==null?tp_inst._defaults.showTimezone:tp_inst.support.timezone,dateChars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat")),datetimeChars=tp_inst._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,ampm?"APM":"").replace(/Tt/g,ampm?"AaPpMm":"").replace(/tT/g,ampm?"AaPpMm":"").replace(/T/g,ampm?"AP":"").replace(/tt/g,ampm?"apm":"").replace(/t/g,ampm?"ap":"")+" "+tp_inst._defaults.separator+tp_inst._defaults.timeSuffix+(tz?tp_inst._defaults.timezoneList.join(""):"")+(tp_inst._defaults.amNames.join(""))+(tp_inst._defaults.pmNames.join(""))+dateChars,chr=String.fromCharCode(event.charCode===undefined?event.keyCode:event.charCode);return event.ctrlKey||(chr<" "||!dateChars||datetimeChars.indexOf(chr)>-1)}}return $.datepicker._base_doKeyPress(event)};$.datepicker._base_updateAlternate=$.datepicker._updateAlternate;$.datepicker._updateAlternate=function(inst){var tp_inst=this._get(inst,"timepicker");if(tp_inst){var altField=tp_inst._defaults.altField;if(altField){var altFormat=tp_inst._defaults.altFormat||tp_inst._defaults.dateFormat,date=this._getDate(inst),formatCfg=$.datepicker._getFormatConfig(inst),altFormattedDateTime="",altSeparator=tp_inst._defaults.altSeparator?tp_inst._defaults.altSeparator:tp_inst._defaults.separator,altTimeSuffix=tp_inst._defaults.altTimeSuffix?tp_inst._defaults.altTimeSuffix:tp_inst._defaults.timeSuffix,altTimeFormat=tp_inst._defaults.altTimeFormat!==null?tp_inst._defaults.altTimeFormat:tp_inst._defaults.timeFormat;altFormattedDateTime+=$.datepicker.formatTime(altTimeFormat,tp_inst,tp_inst._defaults)+altTimeSuffix;if(!tp_inst._defaults.timeOnly&&!tp_inst._defaults.altFieldTimeOnly&&date!==null){if(tp_inst._defaults.altFormat){altFormattedDateTime=$.datepicker.formatDate(tp_inst._defaults.altFormat,date,formatCfg)+altSeparator+altFormattedDateTime}else{altFormattedDateTime=tp_inst.formattedDate+altSeparator+altFormattedDateTime}}$(altField).val(altFormattedDateTime)}}else{$.datepicker._base_updateAlternate(inst)}};$.datepicker._base_doKeyUp=$.datepicker._doKeyUp;$.datepicker._doKeyUp=function(event){var inst=$.datepicker._getInst(event.target),tp_inst=$.datepicker._get(inst,"timepicker");if(tp_inst){if(tp_inst._defaults.timeOnly&&(inst.input.val()!==inst.lastVal)){try{$.datepicker._updateDatepicker(inst)}catch(err){$.timepicker.log(err)}}}return $.datepicker._base_doKeyUp(event)};$.datepicker._base_gotoToday=$.datepicker._gotoToday;$.datepicker._gotoToday=function(id){var inst=this._getInst($(id)[0]),$dp=inst.dpDiv;this._base_gotoToday(id);var tp_inst=this._get(inst,"timepicker");selectLocalTimezone(tp_inst);var now=new Date();this._setTime(inst,now);$(".ui-datepicker-today",$dp).click()};$.datepicker._disableTimepickerDatepicker=function(target){var inst=this._getInst(target);if(!inst){return}var tp_inst=this._get(inst,"timepicker");$(target).datepicker("getDate");if(tp_inst){inst.settings.showTimepicker=false;tp_inst._defaults.showTimepicker=false;tp_inst._updateDateTime(inst)}};$.datepicker._enableTimepickerDatepicker=function(target){var inst=this._getInst(target);if(!inst){return}var tp_inst=this._get(inst,"timepicker");$(target).datepicker("getDate");if(tp_inst){inst.settings.showTimepicker=true;tp_inst._defaults.showTimepicker=true;tp_inst._addTimePicker(inst);tp_inst._updateDateTime(inst)}};$.datepicker._setTime=function(inst,date){var tp_inst=this._get(inst,"timepicker");if(tp_inst){var defaults=tp_inst._defaults;tp_inst.hour=date?date.getHours():defaults.hour;tp_inst.minute=date?date.getMinutes():defaults.minute;tp_inst.second=date?date.getSeconds():defaults.second;tp_inst.millisec=date?date.getMilliseconds():defaults.millisec;tp_inst.microsec=date?date.getMicroseconds():defaults.microsec;tp_inst._limitMinMaxDateTime(inst,true);tp_inst._onTimeChange();tp_inst._updateDateTime(inst)}};$.datepicker._setTimeDatepicker=function(target,date,withDate){var inst=this._getInst(target);if(!inst){return}var tp_inst=this._get(inst,"timepicker");if(tp_inst){this._setDateFromField(inst);var tp_date;if(date){if(typeof date==="string"){tp_inst._parseTime(date,withDate);tp_date=new Date();tp_date.setHours(tp_inst.hour,tp_inst.minute,tp_inst.second,tp_inst.millisec);tp_date.setMicroseconds(tp_inst.microsec)}else{tp_date=new Date(date.getTime());tp_date.setMicroseconds(date.getMicroseconds())}if(tp_date.toString()==="Invalid Date"){tp_date=undefined}this._setTime(inst,tp_date)}}};$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker;$.datepicker._setDateDatepicker=function(target,date){var inst=this._getInst(target);if(!inst){return}if(typeof(date)==="string"){date=new Date(date);if(!date.getTime()){$.timepicker.log("Error creating Date object from string.")}}var tp_inst=this._get(inst,"timepicker");var tp_date;if(date instanceof Date){tp_date=new Date(date.getTime());tp_date.setMicroseconds(date.getMicroseconds())}else{tp_date=date}if(tp_inst){if(!tp_inst.support.timezone&&tp_inst._defaults.timezone===null){tp_inst.timezone=tp_date.getTimezoneOffset()*-1}date=$.timepicker.timezoneAdjust(date,tp_inst.timezone);tp_date=$.timepicker.timezoneAdjust(tp_date,tp_inst.timezone)}this._updateDatepicker(inst);this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(target,tp_date,true)};$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker;$.datepicker._getDateDatepicker=function(target,noDefault){var inst=this._getInst(target);if(!inst){return}var tp_inst=this._get(inst,"timepicker");if(tp_inst){if(inst.lastVal===undefined){this._setDateFromField(inst,noDefault)}var date=this._getDate(inst);if(date&&tp_inst._parseTime($(target).val(),tp_inst.timeOnly)){date.setHours(tp_inst.hour,tp_inst.minute,tp_inst.second,tp_inst.millisec);date.setMicroseconds(tp_inst.microsec);if(tp_inst.timezone!=null){if(!tp_inst.support.timezone&&tp_inst._defaults.timezone===null){tp_inst.timezone=date.getTimezoneOffset()*-1}date=$.timepicker.timezoneAdjust(date,tp_inst.timezone)}}return date}return this._base_getDateDatepicker(target,noDefault)};$.datepicker._base_parseDate=$.datepicker.parseDate;$.datepicker.parseDate=function(format,value,settings){var date;try{date=this._base_parseDate(format,value,settings)}catch(err){if(err.indexOf(":")>=0){date=this._base_parseDate(format,value.substring(0,value.length-(err.length-err.indexOf(":")-2)),settings);$.timepicker.log("Error parsing the date string: "+err+"\ndate string = "+value+"\ndate format = "+format)}else{throw err}}return date};$.datepicker._base_formatDate=$.datepicker._formatDate;$.datepicker._formatDate=function(inst,day,month,year){var tp_inst=this._get(inst,"timepicker");if(tp_inst){tp_inst._updateDateTime(inst);return tp_inst.$input.val()}return this._base_formatDate(inst)};$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker;$.datepicker._optionDatepicker=function(target,name,value){var inst=this._getInst(target),name_clone;if(!inst){return null}var tp_inst=this._get(inst,"timepicker");if(tp_inst){var min=null,max=null,onselect=null,overrides=tp_inst._defaults.evnts,fns={},prop;if(typeof name==="string"){if(name==="minDate"||name==="minDateTime"){min=value}else{if(name==="maxDate"||name==="maxDateTime"){max=value}else{if(name==="onSelect"){onselect=value}else{if(overrides.hasOwnProperty(name)){if(typeof(value)==="undefined"){return overrides[name]}fns[name]=value;name_clone={}}}}}}else{if(typeof name==="object"){if(name.minDate){min=name.minDate}else{if(name.minDateTime){min=name.minDateTime}else{if(name.maxDate){max=name.maxDate}else{if(name.maxDateTime){max=name.maxDateTime}}}}for(prop in overrides){if(overrides.hasOwnProperty(prop)&&name[prop]){fns[prop]=name[prop]}}}}for(prop in fns){if(fns.hasOwnProperty(prop)){overrides[prop]=fns[prop];if(!name_clone){name_clone=$.extend({},name)}delete name_clone[prop]}}if(name_clone&&isEmptyObject(name_clone)){return}if(min){if(min===0){min=new Date()}else{min=new Date(min)}tp_inst._defaults.minDate=min;tp_inst._defaults.minDateTime=min}else{if(max){if(max===0){max=new Date()}else{max=new Date(max)}tp_inst._defaults.maxDate=max;tp_inst._defaults.maxDateTime=max}else{if(onselect){tp_inst._defaults.onSelect=onselect}}}}if(value===undefined){return this._base_optionDatepicker.call($.datepicker,target,name)}return this._base_optionDatepicker.call($.datepicker,target,name_clone||name,value)};var isEmptyObject=function(obj){var prop;for(prop in obj){if(obj.hasOwnProperty(prop)){return false}}return true};var extendRemove=function(target,props){$.extend(target,props);for(var name in props){if(props[name]===null||props[name]===undefined){target[name]=props[name]}}return target};var detectSupport=function(timeFormat){var tf=timeFormat.replace(/'.*?'/g,"").toLowerCase(),isIn=function(f,t){return f.indexOf(t)!==-1?true:false};return{hour:isIn(tf,"h"),minute:isIn(tf,"m"),second:isIn(tf,"s"),millisec:isIn(tf,"l"),microsec:isIn(tf,"c"),timezone:isIn(tf,"z"),ampm:isIn(tf,"t")&&isIn(timeFormat,"h"),iso8601:isIn(timeFormat,"Z")}};var convert24to12=function(hour){hour%=12;if(hour===0){hour=12}return String(hour)};var computeEffectiveSetting=function(settings,property){return settings&&settings[property]?settings[property]:$.timepicker._defaults[property]};var splitDateTime=function(dateTimeString,timeSettings){var separator=computeEffectiveSetting(timeSettings,"separator"),format=computeEffectiveSetting(timeSettings,"timeFormat"),timeParts=format.split(separator),timePartsLen=timeParts.length,allParts=dateTimeString.split(separator),allPartsLen=allParts.length;if(allPartsLen>1){return{dateString:allParts.splice(0,allPartsLen-timePartsLen).join(separator),timeString:allParts.splice(0,timePartsLen).join(separator)}}return{dateString:dateTimeString,timeString:""}};var parseDateTimeInternal=function(dateFormat,timeFormat,dateTimeString,dateSettings,timeSettings){var date,parts,parsedTime;parts=splitDateTime(dateTimeString,timeSettings);date=$.datepicker._base_parseDate(dateFormat,parts.dateString,dateSettings);if(parts.timeString===""){return{date:date}}parsedTime=$.datepicker.parseTime(timeFormat,parts.timeString,timeSettings);if(!parsedTime){throw"Wrong time format"}return{date:date,timeObj:parsedTime}};var selectLocalTimezone=function(tp_inst,date){if(tp_inst&&tp_inst.timezone_select){var now=date||new Date();tp_inst.timezone_select.val(-now.getTimezoneOffset())}};$.timepicker=new Timepicker();$.timepicker.timezoneOffsetString=function(tzMinutes,iso8601){if(isNaN(tzMinutes)||tzMinutes>840||tzMinutes<-720){return tzMinutes}var off=tzMinutes,minutes=off%60,hours=(off-minutes)/60,iso=iso8601?":":"",tz=(off>=0?"+":"-")+("0"+Math.abs(hours)).slice(-2)+iso+("0"+Math.abs(minutes)).slice(-2);if(tz==="+00:00"){return"Z"}return tz};$.timepicker.timezoneOffsetNumber=function(tzString){var normalized=tzString.toString().replace(":","");if(normalized.toUpperCase()==="Z"){return 0}if(!/^(\-|\+)\d{4}$/.test(normalized)){return tzString}return((normalized.substr(0,1)==="-"?-1:1)*((parseInt(normalized.substr(1,2),10)*60)+parseInt(normalized.substr(3,2),10)))};$.timepicker.timezoneAdjust=function(date,toTimezone){var toTz=$.timepicker.timezoneOffsetNumber(toTimezone);if(!isNaN(toTz)){date.setMinutes(date.getMinutes()+-date.getTimezoneOffset()-toTz)}return date};$.timepicker.timeRange=function(startTime,endTime,options){return $.timepicker.handleRange("timepicker",startTime,endTime,options)};$.timepicker.datetimeRange=function(startTime,endTime,options){$.timepicker.handleRange("datetimepicker",startTime,endTime,options)};$.timepicker.dateRange=function(startTime,endTime,options){$.timepicker.handleRange("datepicker",startTime,endTime,options)};$.timepicker.handleRange=function(method,startTime,endTime,options){options=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},options);function checkDates(changed,other){var startdt=startTime[method]("getDate"),enddt=endTime[method]("getDate"),changeddt=changed[method]("getDate");if(startdt!==null){var minDate=new Date(startdt.getTime()),maxDate=new Date(startdt.getTime());minDate.setMilliseconds(minDate.getMilliseconds()+options.minInterval);maxDate.setMilliseconds(maxDate.getMilliseconds()+options.maxInterval);if(options.minInterval>0&&minDate>enddt){endTime[method]("setDate",minDate)}else{if(options.maxInterval>0&&maxDate<enddt){endTime[method]("setDate",maxDate)}else{if(startdt>enddt){other[method]("setDate",changeddt)}}}}}function selected(changed,other,option){if(!changed.val()){return}var date=changed[method].call(changed,"getDate");if(date!==null&&options.minInterval>0){if(option==="minDate"){date.setMilliseconds(date.getMilliseconds()+options.minInterval)}if(option==="maxDate"){date.setMilliseconds(date.getMilliseconds()-options.minInterval)}}if(date.getTime){other[method].call(other,"option",option,date)}}$.fn[method].call(startTime,$.extend({onClose:function(dateText,inst){checkDates($(this),endTime)},onSelect:function(selectedDateTime){selected($(this),endTime,"minDate")}},options,options.start));$.fn[method].call(endTime,$.extend({onClose:function(dateText,inst){checkDates($(this),startTime)},onSelect:function(selectedDateTime){selected($(this),startTime,"maxDate")}},options,options.end));checkDates(startTime,endTime);selected(startTime,endTime,"minDate");selected(endTime,startTime,"maxDate");return $([startTime.get(0),endTime.get(0)])};$.timepicker.log=function(err){if(window.console){window.console.log(err)}};$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal};if(!Date.prototype.getMicroseconds){Date.prototype.microseconds=0;Date.prototype.getMicroseconds=function(){return this.microseconds};Date.prototype.setMicroseconds=function(m){this.setMilliseconds(this.getMilliseconds()+Math.floor(m/1000));this.microseconds=m%1000;return this}}$.timepicker.version="1.4"})(jQuery);
/*
** Unobtrusive Ajax support library for jQuery
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
(function(a){var g="unobtrusiveAjaxClick",h="unobtrusiveAjaxClickTarget",i="unobtrusiveValidation";function j(n,m){var o=window,p=(n||"").split(".");while(o&&p.length){o=o[p.shift()]}if(typeof(o)==="function"){return o}m.push(n);return Function.constructor.apply(null,m)}function k(m){return m==="GET"||m==="POST"}function b(n,m){if(!k(m)){n.setRequestHeader("X-HTTP-Method-Override",m)}}function d(o,n,m){var p;if(m.indexOf("application/x-javascript")!==-1){return}p=(o.getAttribute("data-ajax-mode")||"").toUpperCase();a(o.getAttribute("data-ajax-update")).each(function(q,t){var s;switch(p){case"BEFORE":s=t.firstChild;a("<div />").html(n).contents().each(function(){t.insertBefore(this,s)});break;case"AFTER":a("<div />").html(n).contents().each(function(){t.appendChild(this)});break;case"REPLACE-WITH":a(t).replaceWith(n);break;default:a(t).html(n);break}})}function f(o,s){var m,p,q,n;m=o.getAttribute("data-ajax-confirm");if(m&&!window.confirm(m)){return}p=a(o.getAttribute("data-ajax-loading"));n=parseInt(o.getAttribute("data-ajax-loading-duration"),10)||0;a.extend(s,{type:o.getAttribute("data-ajax-method")||undefined,url:o.getAttribute("data-ajax-url")||undefined,cache:!!o.getAttribute("data-ajax-cache"),beforeSend:function(u){var t;b(u,q);t=j(o.getAttribute("data-ajax-begin"),["xhr"]).apply(o,arguments);if(t!==false){p.show(n)}return t},complete:function(){p.hide(n);j(o.getAttribute("data-ajax-complete"),["xhr","status"]).apply(o,arguments)},success:function(t,u,v){d(o,t,v.getResponseHeader("Content-Type")||"text/html");j(o.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(o,arguments)},error:function(){j(o.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(o,arguments)}});s.data.push({name:"X-Requested-With",value:"XMLHttpRequest"});q=s.type.toUpperCase();if(!k(q)){s.type="POST";s.data.push({name:"X-HTTP-Method-Override",value:q})}a.ajax(s)}function l(m){var n=a(m).data(i);return !n||!n.validate||n.validate()}a(document).on("click","a[data-ajax=true]",function(m){m.preventDefault();f(this,{url:this.href,type:"GET",data:[]})});a(document).on("click","form[data-ajax=true] input[type=image]",function(m){var o=m.target.name,q=a(m.target),n=a(q.parents("form")[0]),p=q.offset();n.data(g,[{name:o+".x",value:Math.round(m.pageX-p.left)},{name:o+".y",value:Math.round(m.pageY-p.top)}]);setTimeout(function(){n.removeData(g)},0)});a(document).on("click","form[data-ajax=true] :submit",function(m){var o=m.currentTarget.name,p=a(m.target),n=a(p.parents("form")[0]);n.data(g,o?[{name:o,value:m.currentTarget.value}]:[]);n.data(h,p);setTimeout(function(){n.removeData(g);n.removeData(h)},0)});a(document).on("submit","form[data-ajax=true]",function(o){var m=a(this).data(g)||[],n=a(this).data(h),p=n&&n.hasClass("cancel");o.preventDefault();if(!p&&!l(this)){return}f(this,{url:this.action,type:this.method||"GET",data:m.concat(a(this).serializeArray())})})}(jQuery));(function(a){function d(h,g){return(typeof h=="function")?(h.call(g)):h}function b(g){while(g=g.parentNode){if(g==document){return true}}return false}function f(g,h){this.$element=a(g);this.options=h;this.enabled=true;this.fixTitle()}f.prototype={show:function(){var l=this.getTitle();if(l&&this.enabled){var g=this.tip();g.find(".tipsy-inner")[this.options.html?"html":"text"](l);g[0].className="tipsy";g.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var k=a.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var i=g[0].offsetWidth,h=g[0].offsetHeight,j=d(this.options.gravity,this.$element[0]);var m;switch(j.charAt(0)){case"n":m={top:k.top+k.height+this.options.offset,left:k.left+k.width/2-i/2};break;case"s":m={top:k.top-h-this.options.offset,left:k.left+k.width/2-i/2};break;case"e":m={top:k.top+k.height/2-h/2,left:k.left-i-this.options.offset};break;case"w":m={top:k.top+k.height/2-h/2,left:k.left+k.width+this.options.offset};break}if(j.length==2){if(j.charAt(1)=="w"){m.left=k.left+k.width/2-15}else{m.left=k.left+k.width/2-i+15}}g.css(m).addClass("tipsy-"+j);g.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+j.charAt(0);if(this.options.className){g.addClass(d(this.options.className,this.$element[0]))}if(this.options.fade){g.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{g.css({visibility:"visible",opacity:this.options.opacity})}}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){a(this).remove()})}else{this.tip().remove()}},fixTitle:function(){var g=this.$element;if(g.attr("title")||typeof(g.attr("original-title"))!="string"){g.attr("original-title",g.attr("title")||"").removeAttr("title")}},getTitle:function(){var i,g=this.$element,h=this.options;this.fixTitle();var i,h=this.options;if(typeof h.title=="string"){i=g.attr(h.title=="title"?"original-title":h.title)}else{if(typeof h.title=="function"){i=h.title.call(g[0])}}i=(""+i).replace(/(^\s*|\s*$)/,"");return i||h.fallback},tip:function(){if(!this.$tip){this.$tip=a('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>');this.$tip.data("tipsy-pointee",this.$element[0])}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};a.fn.tipsy=function(m){if(m===true){return this.data("tipsy")}else{if(typeof m=="string"){var n=this.data("tipsy");if(n){n[m]()}return this}}m=a.extend({},a.fn.tipsy.defaults,m);function k(o){var p=a.data(o,"tipsy");if(!p){p=new f(o,a.fn.tipsy.elementOptions(o,m));a.data(o,"tipsy",p)}return p}function h(){var o=k(this);o.hoverState="in";if(m.delayIn==0){o.show()}else{o.fixTitle();setTimeout(function(){if(o.hoverState=="in"){o.show()}},m.delayIn)}}function l(){var o=k(this);o.hoverState="out";if(m.delayOut==0){o.hide()}else{setTimeout(function(){if(o.hoverState=="out"){o.hide()}},m.delayOut)}}if(!m.live){this.each(function(){k(this)})}if(m.trigger!="manual"){var g=m.live?"live":"bind",i=m.trigger=="hover"?"mouseenter":"focus",j=m.trigger=="hover"?"mouseleave":"blur";this[g](i,h)[g](j,l)}return this};a.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:0.8,title:"title",trigger:"hover"};a.fn.tipsy.revalidate=function(){a(".tipsy").each(function(){var g=a.data(this,"tipsy-pointee");if(!g||!b(g)){a(this).remove()}})};a.fn.tipsy.elementOptions=function(g,h){return a.metadata?a.extend({},h,a(g).metadata()):h};a.fn.tipsy.autoNS=function(){return a(this).offset().top>(a(document).scrollTop()+a(window).height()/2)?"s":"n"};a.fn.tipsy.autoWE=function(){return a(this).offset().left>(a(document).scrollLeft()+a(window).width()/2)?"e":"w"};a.fn.tipsy.autoBounds=function(g,h){return function(){var l={ns:h[0],ew:(h.length>1?h[1]:false)},k=a(document).scrollTop()+g,j=a(document).scrollLeft()+g,i=a(this);if(i.offset().top<k){l.ns="n"}if(i.offset().left<j){l.ew="w"}if(a(window).width()+a(document).scrollLeft()-i.offset().left<g){l.ew="e"}if(a(window).height()+a(document).scrollTop()-i.offset().top<g){l.ns="s"}return l.ns+(l.ew?l.ew:"")}}})(jQuery);(function(a){var b;a.fn.extend({asToolTip:function(f){if(f){this.find("span.i-l-label").text(f)}this.tipsy({title:function(){return(f)?f:a(this).text()},fade:true,gravity:a.fn.tipsy.autoNS});var d=a("div.tipsy.tipsy-n");if(d.length>0){d.find("div.tipsy-inner").text(f)}}})})(jQuery);
/*
 * jQuery Validation Plugin v1.14.0
 *
 * http://jqueryvalidation.org/
 *
 * Copyright (c) 2015 Jrn Zaefferer
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(a){a.extend(a.fn,{validate:function(f){if(!this.length){if(f&&f.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var g=a.data(this[0],"validator");if(g){return g}this.attr("novalidate","novalidate");g=new a.validator(f,this[0]);a.data(this[0],"validator",g);if(g.settings.onsubmit){this.on("click.validate",":submit",function(h){if(g.settings.submitHandler){g.submitButton=h.target}if(a(this).hasClass("cancel")){g.cancelSubmit=true}if(a(this).attr("formnovalidate")!==undefined){g.cancelSubmit=true}});this.on("submit.validate",function(h){if(g.settings.debug){h.preventDefault()}function i(){var j,k;if(g.settings.submitHandler){if(g.submitButton){j=a("<input type='hidden'/>").attr("name",g.submitButton.name).val(a(g.submitButton).val()).appendTo(g.currentForm)}k=g.settings.submitHandler.call(g,g.currentForm,h);if(g.submitButton){j.remove()}if(k!==undefined){return k}return false}return true}if(g.cancelSubmit){g.cancelSubmit=false;return i()}if(g.form()){if(g.pendingRequest){g.formSubmitted=true;return false}return i()}else{g.focusInvalid();return false}})}return g},valid:function(){var g,h,f;if(a(this[0]).is("form")){g=this.validate().form()}else{f=[];g=true;h=a(this[0].form).validate();this.each(function(){g=h.element(this)&&g;f=f.concat(h.errorList)});h.errorList=f}return g},rules:function(g,f){var i=this[0],m,n,j,h,l,k;if(g){m=a.data(i.form,"validator").settings;n=m.rules;j=a.validator.staticRules(i);switch(g){case"add":a.extend(j,a.validator.normalizeRule(f));delete j.messages;n[i.name]=j;if(f.messages){m.messages[i.name]=a.extend(m.messages[i.name],f.messages)}break;case"remove":if(!f){delete n[i.name];return j}k={};a.each(f.split(/\s/),function(o,p){k[p]=j[p];delete j[p];if(p==="required"){a(i).removeAttr("aria-required")}});return k}}h=a.validator.normalizeRules(a.extend({},a.validator.classRules(i),a.validator.attributeRules(i),a.validator.dataRules(i),a.validator.staticRules(i)),i);if(h.required){l=h.required;delete h.required;h=a.extend({required:l},h);a(i).attr("aria-required","true")}if(h.remote){l=h.remote;delete h.remote;h=a.extend(h,{remote:l})}return h}});a.extend(a.expr[":"],{blank:function(f){return !a.trim(""+a(f).val())},filled:function(f){return !!a.trim(""+a(f).val())},unchecked:function(f){return !a(f).prop("checked")}});a.validator=function(g,f){this.settings=a.extend(true,{},a.validator.defaults,g);this.currentForm=f;this.init()};a.validator.format=function(g,f){if(arguments.length===1){return function(){var h=a.makeArray(arguments);h.unshift(g);return a.validator.format.apply(this,h)}}if(arguments.length>2&&f.constructor!==Array){f=a.makeArray(arguments).slice(1)}if(f.constructor!==Array){f=[f]}a.each(f,function(h,j){g=g.replace(new RegExp("\\{"+h+"\\}","g"),function(){return j})});return g};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(f){this.lastActive=f;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,f,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(f))}},onfocusout:function(f){if(!this.checkable(f)&&(f.name in this.submitted||!this.optional(f))){this.element(f)}},onkeyup:function(f,g){var h=[16,17,18,20,35,36,37,38,39,40,45,144,225];if(g.which===9&&this.elementValue(f)===""||a.inArray(g.keyCode,h)!==-1){return}else{if(f.name in this.submitted||f===this.lastElement){this.element(f)}}},onclick:function(f){if(f.name in this.submitted){this.element(f)}else{if(f.parentNode.name in this.submitted){this.element(f.parentNode)}}},highlight:function(f,g,h){if(f.type==="radio"){this.findByName(f.name).addClass(g).removeClass(h)}else{a(f).addClass(g).removeClass(h)}},unhighlight:function(f,g,h){if(f.type==="radio"){this.findByName(f.name).removeClass(g).addClass(h)}else{a(f).removeClass(g).addClass(h)}}},setDefaults:function(f){a.extend(a.validator.defaults,f)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var g=(this.groups={}),h;a.each(this.settings.groups,function(i,j){if(typeof j==="string"){j=j.split(/\s/)}a.each(j,function(k,l){g[l]=i})});h=this.settings.rules;a.each(h,function(i,j){h[i]=a.validator.normalizeRule(j)});function f(i){var l=a.data(this.form,"validator"),j="on"+i.type.replace(/^validate/,""),k=l.settings;if(k[j]&&!a(this).is(k.ignore)){k[j].call(l,this,i)}}a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",f).on("click.validate","select, option, [type='radio'], [type='checkbox']",f);if(this.settings.invalidHandler){a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)}a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var g=0,f=(this.currentElements=this.elements());f[g];g++){this.check(f[g])}return this.valid()},element:function(h){var g=this.clean(h),f=this.validationTargetFor(g),i=true;this.lastElement=f;if(f===undefined){delete this.invalid[g.name]}else{this.prepareElement(f);this.currentElements=a(f);i=this.check(f)!==false;if(i){delete this.invalid[f.name]}else{this.invalid[f.name]=true}}a(h).attr("aria-invalid",!i);if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return i},showErrors:function(f){if(f){a.extend(this.errorMap,f);this.errorList=[];for(var g in f){this.errorList.push({message:f[g],element:this.findByName(g)[0]})}this.successList=a.grep(this.successList,function(h){return !(h.name in f)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();var g,f=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight){for(g=0;f[g];g++){this.settings.unhighlight.call(this,f[g],this.settings.errorClass,"")}}else{f.removeClass(this.settings.errorClass)}},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(h){var f=0,g;for(g in h){f++}return f},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(f){f.not(this.containers).text("");this.addWrapper(f).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(f){}}},findLastActive:function(){var f=this.lastActive;return f&&a.grep(this.errorList,function(g){return g.element.name===f.name}).length===1&&f},elements:function(){var g=this,f={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){if(!this.name&&g.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in f||!g.objectLength(a(this).rules())){return false}f[this.name]=true;return true})},clean:function(f){return a(f)[0]},errors:function(){var f=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+f,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(f){this.reset();this.toHide=this.errorsFor(f)},elementValue:function(g){var i,f=a(g),h=g.type;if(h==="radio"||h==="checkbox"){return this.findByName(g.name).filter(":checked").val()}else{if(h==="number"&&typeof g.validity!=="undefined"){return g.validity.badInput?false:f.val()}}i=f.val();if(typeof i==="string"){return i.replace(/\r/g,"")}return i},check:function(h){h=this.validationTargetFor(this.clean(h));var l=a(h).rules(),m=a.map(l,function(p,o){return o}).length,f=false,n=this.elementValue(h),j,i,k;for(i in l){k={method:i,parameters:l[i]};try{j=a.validator.methods[i].call(this,n,h,k.parameters);if(j==="dependency-mismatch"&&m===1){f=true;continue}f=false;if(j==="pending"){this.toHide=this.toHide.not(this.errorsFor(h));return}if(!j){this.formatAndAdd(h,k);return false}}catch(g){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+h.id+", check the '"+k.method+"' method.",g)}if(g instanceof TypeError){g.message+=".  Exception occurred when checking element "+h.id+", check the '"+k.method+"' method."}throw g}}if(f){return}if(this.objectLength(l)){this.successList.push(h)}return true},customDataMessage:function(f,g){return a(f).data("msg"+g.charAt(0).toUpperCase()+g.substring(1).toLowerCase())||a(f).data("msg")},customMessage:function(h,g){var f=this.settings.messages[h];return f&&(f.constructor===String?f:f[g])},findDefined:function(){for(var f=0;f<arguments.length;f++){if(arguments[f]!==undefined){return arguments[f]}}return undefined},defaultMessage:function(f,g){return this.findDefined(this.customMessage(f.name,g),this.customDataMessage(f,g),!this.settings.ignoreTitle&&f.title||undefined,a.validator.messages[g],"<strong>Warning: No message defined for "+f.name+"</strong>")},formatAndAdd:function(f,h){var g=this.defaultMessage(f,h.method),i=/\$?\{(\d+)\}/g;if(typeof g==="function"){g=g.call(this,h.parameters,f)}else{if(i.test(g)){g=a.validator.format(g.replace(i,"{$1}"),h.parameters)}}this.errorList.push({message:g,element:f,method:h.method});this.errorMap[f.name]=g;this.submitted[f.name]=g},addWrapper:function(f){if(this.settings.wrapper){f=f.add(f.parent(this.settings.wrapper))}return f},defaultShowErrors:function(){var h,f,g;for(h=0;this.errorList[h];h++){g=this.errorList[h];if(this.settings.highlight){this.settings.highlight.call(this,g.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(g.element,g.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(h=0;this.successList[h];h++){this.showLabel(this.successList[h])}}if(this.settings.unhighlight){for(h=0,f=this.validElements();f[h];h++){this.settings.unhighlight.call(this,f[h],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(g,l){var m,k,j,i=this.errorsFor(g),h=this.idOrName(g),f=a(g).attr("aria-describedby");if(i.length){i.removeClass(this.settings.validClass).addClass(this.settings.errorClass);i.html(l)}else{i=a("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(l||"");m=i;if(this.settings.wrapper){m=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(m)}else{if(this.settings.errorPlacement){this.settings.errorPlacement(m,a(g))}else{m.insertAfter(g)}}if(i.is("label")){i.attr("for",h)}else{if(i.parents("label[for='"+h+"']").length===0){j=i.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1");if(!f){f=j}else{if(!f.match(new RegExp("\\b"+j+"\\b"))){f+=" "+j}}a(g).attr("aria-describedby",f);k=this.groups[g.name];if(k){a.each(this.groups,function(n,o){if(o===k){a("[name='"+n+"']",this.currentForm).attr("aria-describedby",i.attr("id"))}})}}}}if(!l&&this.settings.success){i.text("");if(typeof this.settings.success==="string"){i.addClass(this.settings.success)}else{this.settings.success(i,g)}}this.toShow=this.toShow.add(i)},errorsFor:function(g){var h=this.idOrName(g),f=a(g).attr("aria-describedby"),i="label[for='"+h+"'], label[for='"+h+"'] *";if(f){i=i+", #"+f.replace(/\s+/g,", #")}return this.errors().filter(i)},idOrName:function(f){return this.groups[f.name]||(this.checkable(f)?f.name:f.id||f.name)},validationTargetFor:function(f){if(this.checkable(f)){f=this.findByName(f.name)}return a(f).not(this.settings.ignore)[0]},checkable:function(f){return(/radio|checkbox/i).test(f.type)},findByName:function(f){return a(this.currentForm).find("[name='"+f+"']")},getLength:function(g,f){switch(f.nodeName.toLowerCase()){case"select":return a("option:selected",f).length;case"input":if(this.checkable(f)){return this.findByName(f.name).filter(":checked").length}}return g.length},depend:function(g,f){return this.dependTypes[typeof g]?this.dependTypes[typeof g](g,f):true},dependTypes:{"boolean":function(f){return f},string:function(g,f){return !!a(g,f.form).length},"function":function(g,f){return g(f)}},optional:function(f){var g=this.elementValue(f);return !a.validator.methods.required.call(this,g,f)&&"dependency-mismatch"},startRequest:function(f){if(!this.pending[f.name]){this.pendingRequest++;this.pending[f.name]=true}},stopRequest:function(f,g){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[f.name];if(g&&this.pendingRequest===0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!g&&this.pendingRequest===0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(f){return a.data(f,"previousValue")||a.data(f,"previousValue",{old:null,valid:true,message:this.defaultMessage(f,"remote")})},destroy:function(){this.resetForm();a(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(f,g){if(f.constructor===String){this.classRuleSettings[f]=g}else{a.extend(this.classRuleSettings,f)}},classRules:function(g){var h={},f=a(g).attr("class");if(f){a.each(f.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(h,a.validator.classRuleSettings[this])}})}return h},normalizeAttributeRule:function(g,h,f,i){if(/min|max/.test(f)&&(h===null||/number|range|text/.test(h))){i=Number(i);if(isNaN(i)){i=undefined}}if(i||i===0){g[f]=i}else{if(h===f&&h!=="range"){g[f]=true}}},attributeRules:function(g){var i={},f=a(g),j=g.getAttribute("type"),h,k;for(h in a.validator.methods){if(h==="required"){k=g.getAttribute(h);if(k===""){k=true}k=!!k}else{k=f.attr(h)}this.normalizeAttributeRule(i,j,h,k)}if(i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)){delete i.maxlength}return i},dataRules:function(g){var i={},f=a(g),j=g.getAttribute("type"),h,k;for(h in a.validator.methods){k=f.data("rule"+h.charAt(0).toUpperCase()+h.substring(1).toLowerCase());this.normalizeAttributeRule(i,j,h,k)}return i},staticRules:function(f){var g={},h=a.data(f.form,"validator");if(h.settings.rules){g=a.validator.normalizeRule(h.settings.rules[f.name])||{}}return g},normalizeRules:function(g,f){a.each(g,function(i,j){if(j===false){delete g[i];return}if(j.param||j.depends){var h=true;switch(typeof j.depends){case"string":h=!!a(j.depends,f.form).length;break;case"function":h=j.depends.call(f,f);break}if(h){g[i]=j.param!==undefined?j.param:true}else{delete g[i]}}});a.each(g,function(i,h){g[i]=a.isFunction(h)?h(f):h});a.each(["minlength","maxlength"],function(){if(g[this]){g[this]=Number(g[this])}});a.each(["rangelength","range"],function(){var h;if(g[this]){if(a.isArray(g[this])){g[this]=[Number(g[this][0]),Number(g[this][1])]}else{if(typeof g[this]==="string"){h=g[this].replace(/[\[\]]/g,"").split(/[\s,]+/);g[this]=[Number(h[0]),Number(h[1])]}}}});if(a.validator.autoCreateRanges){if(g.min!=null&&g.max!=null){g.range=[g.min,g.max];delete g.min;delete g.max}if(g.minlength!=null&&g.maxlength!=null){g.rangelength=[g.minlength,g.maxlength];delete g.minlength;delete g.maxlength}}return g},normalizeRule:function(f){if(typeof f==="string"){var g={};a.each(f.split(/\s/),function(){g[this]=true});f=g}return f},addMethod:function(h,g,f){a.validator.methods[h]=g;a.validator.messages[h]=f!==undefined?f:a.validator.messages[h];if(g.length<3){a.validator.addClassRules(h,a.validator.normalizeRule(h))}},methods:{required:function(i,f,g){if(!this.depend(g,f)){return"dependency-mismatch"}if(f.nodeName.toLowerCase()==="select"){var h=a(f).val();return h&&h.length>0}if(this.checkable(f)){return this.getLength(i,f)>0}return i.length>0},email:function(g,f){return this.optional(f)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(g)},url:function(g,f){return this.optional(f)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(g)},date:function(g,f){return this.optional(f)||!/Invalid|NaN/.test(new Date(g).toString())},dateISO:function(g,f){return this.optional(f)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(g)},number:function(g,f){return this.optional(f)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(g)},digits:function(g,f){return this.optional(f)||/^\d+$/.test(g)},creditcard:function(l,h){if(this.optional(h)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(l)){return false}var j=0,k=0,f=false,i,g;l=l.replace(/\D/g,"");if(l.length<13||l.length>19){return false}for(i=l.length-1;i>=0;i--){g=l.charAt(i);k=parseInt(g,10);if(f){if((k*=2)>9){k-=9}}j+=k;f=!f}return(j%10)===0},minlength:function(i,f,h){var g=a.isArray(i)?i.length:this.getLength(i,f);return this.optional(f)||g>=h},maxlength:function(i,f,h){var g=a.isArray(i)?i.length:this.getLength(i,f);return this.optional(f)||g<=h},rangelength:function(i,f,h){var g=a.isArray(i)?i.length:this.getLength(i,f);return this.optional(f)||(g>=h[0]&&g<=h[1])},min:function(h,f,g){return this.optional(f)||h>=g},max:function(h,f,g){return this.optional(f)||h<=g},range:function(h,f,g){return this.optional(f)||(h>=g[0]&&h<=g[1])},equalTo:function(i,f,g){var h=a(g);if(this.settings.onfocusout){h.off(".validate-equalTo").on("blur.validate-equalTo",function(){a(f).valid()})}return i===h.val()},remote:function(k,g,h){if(this.optional(g)){return"dependency-mismatch"}var i=this.previousValue(g),j,f;if(!this.settings.messages[g.name]){this.settings.messages[g.name]={}}i.originalMessage=this.settings.messages[g.name].remote;this.settings.messages[g.name].remote=i.message;h=typeof h==="string"&&{url:h}||h;if(i.old===k){return i.valid}i.old=k;j=this;this.startRequest(g);f={};f[g.name]=k;a.ajax(a.extend(true,{mode:"abort",port:"validate"+g.name,dataType:"json",data:f,context:j.currentForm,success:function(n){var p=n===true||n==="true",l,m,o;j.settings.messages[g.name].remote=i.originalMessage;if(p){o=j.formSubmitted;j.prepareElement(g);j.formSubmitted=o;j.successList.push(g);delete j.invalid[g.name];j.showErrors()}else{l={};m=n||j.defaultMessage(g,"remote");l[g.name]=i.message=a.isFunction(m)?m(k):m;j.invalid[g.name]=true;j.showErrors(l)}i.valid=p;j.stopRequest(g,p)}},h));return"pending"}}});var d={},b;if(a.ajaxPrefilter){a.ajaxPrefilter(function(h,f,i){var g=h.port;if(h.mode==="abort"){if(d[g]){d[g].abort()}d[g]=i}})}else{b=a.ajax;a.ajax=function(h){var f=("mode" in h?h:a.ajaxSettings).mode,g=("port" in h?h:a.ajaxSettings).port;if(f==="abort"){if(d[g]){d[g].abort()}d[g]=b.apply(this,arguments);return d[g]}return b.apply(this,arguments)}}}));
/*
** Unobtrusive validation support library for jQuery and jQuery Validate
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
(function(a){var b=a.validator,d,g="unobtrusiveValidation";function n(q,s,t){q.rules[s]=t;if(q.message){q.messages[s]=q.message}}function o(q){return q.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function h(q){return q.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function i(q){return q.substr(0,q.lastIndexOf(".")+1)}function f(s,q){if(s.indexOf("*.")===0){s=s.replace("*.",q)}return s}function j(s,t){var q=a(this).find("[data-valmsg-for='"+h(t[0].name)+"']"),v=q.attr("data-valmsg-replace"),u=v?a.parseJSON(v)!==false:null;q.removeClass("field-validation-valid").addClass("field-validation-error");s.data("unobtrusiveContainer",q);if(u){q.empty();s.removeClass("input-validation-error").appendTo(q)}else{s.hide()}}function k(s,u){var q=a(this).find("[data-valmsg-summary=true]"),t=q.find("ul");if(t&&t.length&&u.errorList.length){t.empty();q.addClass("validation-summary-errors").removeClass("validation-summary-valid");a.each(u.errorList,function(){a("<li />").html(this.message).appendTo(t)})}}function m(s){var q=s.data("unobtrusiveContainer"),u=q.attr("data-valmsg-replace"),t=u?a.parseJSON(u):null;if(q){q.addClass("field-validation-valid").removeClass("field-validation-error");s.removeData("unobtrusiveContainer");if(t){q.empty()}}}function l(s){var q=a(this),t="__jquery_unobtrusive_validation_form_reset";if(q.data(t)){return}q.data(t,true);try{q.data("validator").resetForm()}finally{q.removeData(t)}q.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors");q.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}function p(u){var q=a(u),w=q.data(g),v=a.proxy(l,u),s=b.unobtrusive.options||{},t=function(z,x){var y=s[z];y&&a.isFunction(y)&&y.apply(u,x)};if(!w){w={options:{errorClass:s.errorClass||"input-validation-error",errorElement:s.errorElement||"span",errorPlacement:function(){j.apply(u,arguments);t("errorPlacement",arguments)},invalidHandler:function(){k.apply(u,arguments);t("invalidHandler",arguments)},messages:{},rules:{},success:function(){m.apply(u,arguments);t("success",arguments)}},attachValidation:function(){q.off("reset."+g,v).on("reset."+g,v).validate(this.options)},validate:function(){q.validate();return q.valid()}};q.data(g,w)}return w}b.unobtrusive={adapters:[],parseElement:function(s,w){var q=a(s),t=q.parents("form")[0],x,v,u;if(!t){return}x=p(t);x.options.rules[s.name]=v={};x.options.messages[s.name]=u={};a.each(this.adapters,function(){var A="data-val-"+this.name,y=q.attr(A),z={};if(y!==undefined){A+="-";a.each(this.params,function(){z[this]=q.attr(A+this)});this.adapt({element:s,form:t,message:y,params:z,rules:v,messages:u})}});a.extend(v,{__dummy__:true});if(!w){x.attachValidation()}},parse:function(t){var s=a(t),q=s.parents().addBack().filter("form").add(s.find("form")).has("[data-val=true]");s.find("[data-val=true]").each(function(){b.unobtrusive.parseElement(this,true)});q.each(function(){var u=p(this);if(u){u.attachValidation()}})}};d=b.unobtrusive.adapters;d.add=function(q,t,s){if(!s){s=t;t=[]}this.push({name:q,params:t,adapt:s});return this};d.addBool=function(q,s){return this.add(q,function(t){n(t,s||q,true)})};d.addMinMax=function(q,w,t,v,u,s){return this.add(q,[u||"min",s||"max"],function(z){var y=z.params.min,x=z.params.max;if(y&&x){n(z,v,[y,x])}else{if(y){n(z,w,y)}else{if(x){n(z,t,x)}}}})};d.addSingleVal=function(q,s,t){return this.add(q,[s||"val"],function(u){n(u,t||q,u.params[s])})};b.addMethod("__dummy__",function(t,q,s){return true});b.addMethod("regex",function(u,q,t){var s;if(this.optional(q)){return true}s=new RegExp(t).exec(u);return(s&&(s.index===0)&&(s[0].length===u.length))});b.addMethod("nonalphamin",function(u,q,t){var s;if(t){s=u.match(/\W/g);s=s&&s.length>=t}return s});if(b.methods.extension){d.addSingleVal("accept","mimtype");d.addSingleVal("extension","extension")}else{d.addSingleVal("extension","extension","accept")}d.addSingleVal("regex","pattern");d.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");d.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");d.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength");d.add("equalto",["other"],function(t){var v=i(t.element.name),u=t.params.other,s=f(u,v),q=a(t.form).find(":input").filter("[name='"+h(s)+"']")[0];n(t,"equalTo",q)});d.add("required",function(q){if(q.element.tagName.toUpperCase()!=="INPUT"||q.element.type.toUpperCase()!=="CHECKBOX"){n(q,"required",true)}});d.add("remote",["url","type","additionalfields"],function(q){var t={url:q.params.url,type:q.params.type||"GET",data:{}},s=i(q.element.name);a.each(o(q.params.additionalfields||q.element.name),function(v,u){var w=f(u,s);t.data[w]=function(){var x=a(q.form).find(":input").filter("[name='"+h(w)+"']");if(x.is(":checkbox")){return x.filter(":checked").val()||x.filter(":hidden").val()||""}else{if(x.is(":radio")){return x.filter(":checked").val()||""}}return x.val()}});n(q,"remote",t)});d.add("password",["min","nonalphamin","regex"],function(q){if(q.params.min){n(q,"minlength",q.params.min)}if(q.params.nonalphamin){n(q,"nonalphamin",q.params.nonalphamin)}if(q.params.regex){n(q,"regex",q.params.regex)}});a(function(){b.unobtrusive.parse(document)})}(jQuery));(function(){var a;a=(function(){function b(){this.options_index=0;this.parsed=[]}b.prototype.add_node=function(d){if(d.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(d)}else{return this.add_option(d)}};b.prototype.add_group=function(i){var j,k,d,f,g,h;j=this.parsed.length;this.parsed.push({array_index:j,group:true,label:i.label,children:0,disabled:i.disabled});g=i.childNodes;h=[];for(d=0,f=g.length;d<f;d++){k=g[d];h.push(this.add_option(k,j,i.disabled))}return h};b.prototype.add_option=function(g,f,d){if(g.nodeName.toUpperCase()==="OPTION"){if(g.text!==""){if(f!=null){this.parsed[f].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:g.value,text:g.text,html:g.innerHTML,selected:g.selected,disabled:d===true?d:g.disabled,group_array_index:f,classes:g.className,style:g.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};return b})();a.select_to_array=function(i){var g,h,b,d,f;h=new a();f=i.childNodes;for(b=0,d=f.length;b<d;b++){g=f[b];h.add_node(g)}return h.parsed};this.SelectParser=a}).call(this);(function(){var a,b;b=this;a=(function(){function d(f,g){this.form_field=f;this.options=g!=null?g:{};if(!d.browser_is_supported()){return}this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}d.prototype.set_default_values=function(){var f=this;this.click_test_action=function(g){return f.test_active_click(g)};this.activate_action=function(g){return f.activate_field(g)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete||false;this.max_selected_options=this.options.max_selected_options||Infinity;return this.inherit_select_classes=this.options.inherit_select_classes||false};d.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else{if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||d.default_multiple_text}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||d.default_single_text}}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||d.default_no_result_text};d.prototype.mouse_enter=function(){return this.mouse_on_container=true};d.prototype.mouse_leave=function(){return this.mouse_on_container=false};d.prototype.input_focus=function(g){var f=this;if(this.is_multiple){if(!this.active_field){return setTimeout((function(){return f.container_mousedown()}),50)}}else{if(!this.active_field){return this.activate_field()}}};d.prototype.input_blur=function(g){var f=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return f.blur_test()}),100)}};d.prototype.results_option_build=function(k){var i,j,f,g,h;i="";h=this.results_data;for(f=0,g=h.length;f<g;f++){j=h[f];if(j.group&&j.search_match){i+=this.result_add_group(j)}else{if(!j.empty&&j.search_match){i+=this.result_add_option(j)}}if(k!=null?k.first:void 0){if(j.selected&&this.is_multiple){this.choice_build(j)}else{if(j.selected&&!this.is_multiple){this.single_set_selected_text(j.text)}}}}return i};d.prototype.result_add_option=function(g){var f,h;g.dom_id=this.container_id+"_o_"+g.array_index;f=[];if(!g.disabled&&!(g.selected&&this.is_multiple)){f.push("active-result")}if(g.disabled&&!(g.selected&&this.is_multiple)){f.push("disabled-result")}if(g.selected){f.push("result-selected")}if(g.group_array_index!=null){f.push("group-option")}if(g.classes!==""){f.push(g.classes)}h=g.style.cssText!==""?' style="'+g.style+'"':"";return'<li id="'+g.dom_id+'" class="'+(f.join(" "))+'"'+h+">"+g.search_text+"</li>"};d.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};d.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};d.prototype.results_search=function(f){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};d.prototype.winnow_results=function(){var k,l,m,n,o,p,q,s,t,u,f,g,h,i,j;this.no_results_clear();p=0;q=this.get_search_text();o=this.search_contains?"":"^";n=new RegExp(o+q.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");u=new RegExp(q.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");j=this.results_data;for(f=0,h=j.length;f<h;f++){k=j[f];if(!k.empty){if(k.group){k.search_match=false}else{k.search_match=false;if(n.test(k.html)){k.search_match=true;p+=1}else{if(this.enable_split_word_search&&(k.html.indexOf(" ")>=0||k.html.indexOf("[")===0)){m=k.html.replace(/\[|\]/g,"").split(" ");if(m.length){for(g=0,i=m.length;g<i;g++){l=m[g];if(n.test(l)){k.search_match=true;p+=1}}}}}if(k.search_match){if(q.length){s=k.html.search(u);t=k.html.substr(0,s+q.length)+"</em>"+k.html.substr(s+q.length);t=t.substr(0,s)+"<em>"+t.substr(s)}else{t=k.html}k.search_text=t;if(k.group_array_index!=null){this.results_data[k.group_array_index].search_match=true}}}}}if(p<1&&q.length){this.update_results_content("");return this.no_results(q)}else{this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight()}};d.prototype.choices_count=function(){var i,f,g,h;if(this.selected_option_count!=null){return this.selected_option_count}this.selected_option_count=0;h=this.form_field.options;for(f=0,g=h.length;f<g;f++){i=h[f];if(i.selected){this.selected_option_count+=1}}return this.selected_option_count};d.prototype.choices_click=function(f){f.preventDefault();if(!(this.results_showing||this.is_disabled)){return this.results_show()}};d.prototype.keyup_checker=function(g){var h,f;h=(f=g.which)!=null?f:g.keyCode;this.search_field_scale();switch(h){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}else{if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}}break;case 13:g.preventDefault();if(this.results_showing){return this.result_select(g)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};d.prototype.generate_field_id=function(){var f;f=this.generate_random_id();this.form_field.id=f;return f};d.prototype.generate_random_char=function(){var f,g,h;f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";h=Math.floor(Math.random()*f.length);return g=f.substring(h,h+1)};d.prototype.container_width=function(){if(this.options.width!=null){return this.options.width}else{return""+this.form_field.offsetWidth+"px"}};d.browser_is_supported=function(){var f;if(window.navigator.appName==="Microsoft Internet Explorer"){return(null!==(f=document.documentMode)&&f>=8)}return true};d.default_multiple_text="Select Some Options";d.default_single_text="Select an Option";d.default_no_result_text="No results match";return d})();b.AbstractChosen=a}).call(this);(function(){var a,g,h,f,d={}.hasOwnProperty,b=function(i,l){for(var k in l){if(d.call(l,k)){i[k]=l[k]}}function j(){this.constructor=i}j.prototype=l.prototype;i.prototype=new j();i.__super__=l.prototype;return i};h=this;a=jQuery;a.fn.extend({chosen:function(i){if(!AbstractChosen.browser_is_supported()){return this}return this.each(function(k){var j;j=a(this);if(!j.hasClass("chzn-done")){return j.data("chosen",new g(this,i))}})}});g=(function(i){b(j,i);function j(){f=j.__super__.constructor.apply(this,arguments);return f}j.prototype.setup=function(){this.form_field_jq=a(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};j.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};j.prototype.set_up_html=function(){var k,l;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn";k=["chzn-container"];k.push("chzn-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){k.push(this.form_field.className)}if(this.is_rtl){k.push("chzn-rtl")}l={id:this.container_id,"class":k.join(" "),style:"width: "+(this.container_width())+";",title:this.form_field.title};this.container=a("<div />",l);if(this.is_multiple){this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>')}else{this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>')}this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chzn-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first()}this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("liszt:ready",{chosen:this})};j.prototype.register_observers=function(){var k=this;this.container.mousedown(function(l){k.container_mousedown(l)});this.container.mouseup(function(l){k.container_mouseup(l)});this.container.mouseenter(function(l){k.mouse_enter(l)});this.container.mouseleave(function(l){k.mouse_leave(l)});this.search_results.mouseup(function(l){k.search_results_mouseup(l)});this.search_results.mouseover(function(l){k.search_results_mouseover(l)});this.search_results.mouseout(function(l){k.search_results_mouseout(l)});this.search_results.bind("mousewheel DOMMouseScroll",function(l){k.search_results_mousewheel(l)});this.form_field_jq.bind("liszt:updated",function(l){k.results_update_field(l)});this.form_field_jq.bind("liszt:activate",function(l){k.activate_field(l)});this.form_field_jq.bind("liszt:open",function(l){k.container_mousedown(l)});this.search_field.blur(function(l){k.input_blur(l)});this.search_field.keyup(function(l){k.keyup_checker(l)});this.search_field.keydown(function(l){k.keydown_checker(l)});this.search_field.focus(function(l){k.input_focus(l)});if(this.is_multiple){return this.search_choices.click(function(l){k.choices_click(l)})}else{return this.container.click(function(l){l.preventDefault()})}};j.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};j.prototype.container_mousedown=function(k){if(!this.is_disabled){if(k&&k.type==="mousedown"&&!this.results_showing){k.preventDefault()}if(!((k!=null)&&(a(k.target)).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}a(document).click(this.click_test_action);this.results_show()}else{if(!this.is_multiple&&k&&((a(k.target)[0]===this.selected_item[0])||a(k.target).parents("a.chzn-single").length)){k.preventDefault();this.results_toggle()}}return this.activate_field()}}};j.prototype.container_mouseup=function(k){if(k.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(k)}};j.prototype.search_results_mousewheel=function(n){var m,k,l;m=-((k=n.originalEvent)!=null?k.wheelDelta:void 0)||((l=n.originialEvent)!=null?l.detail:void 0);if(m!=null){n.preventDefault();if(n.type==="DOMMouseScroll"){m=m*40}return this.search_results.scrollTop(m+this.search_results.scrollTop())}};j.prototype.blur_test=function(k){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};j.prototype.close_field=function(){a(document).unbind("click",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};j.prototype.activate_field=function(){this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};j.prototype.test_active_click=function(k){if(a(k.target).parents("#"+this.container_id).length){return this.active_field=true}else{return this.close_field()}};j.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=h.SelectParser.select_to_array(this.form_field);if(this.is_multiple){this.search_choices.find("li.search-choice").remove()}else{if(!this.is_multiple){this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.search_field[0].readOnly=true;this.container.addClass("chzn-container-single-nosearch")}else{this.search_field[0].readOnly=false;this.container.removeClass("chzn-container-single-nosearch")}}}this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=false};j.prototype.result_add_group=function(k){k.dom_id=this.container_id+"_g_"+k.array_index;return'<li id="'+k.dom_id+'" class="group-result">'+a("<div />").text(k.label).html()+"</li>"};j.prototype.result_do_highlight=function(k){var l,m,n,o,p;if(k.length){this.result_clear_highlight();this.result_highlight=k;this.result_highlight.addClass("highlighted");n=parseInt(this.search_results.css("maxHeight"),10);p=this.search_results.scrollTop();o=n+p;m=this.result_highlight.position().top+this.search_results.scrollTop();l=m+this.result_highlight.outerHeight();if(l>=o){return this.search_results.scrollTop((l-n)>0?l-n:0)}else{if(m<p){return this.search_results.scrollTop(m)}}}};j.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};j.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}this.container.addClass("chzn-with-drop");this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};j.prototype.update_results_content=function(k){return this.search_results.html(k)};j.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chzn-with-drop");this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this})}return this.results_showing=false};j.prototype.set_tab_index=function(k){var l;if(this.form_field_jq.attr("tabindex")){l=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);return this.search_field.attr("tabindex",l)}};j.prototype.set_label_behavior=function(){var k=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=a("label[for='"+this.form_field.id+"']")}if(this.form_field_label.length>0){return this.form_field_label.click(function(l){if(k.is_multiple){return k.container_mousedown(l)}else{return k.activate_field()}})}};j.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};j.prototype.search_results_mouseup=function(k){var l;l=a(k.target).hasClass("active-result")?a(k.target):a(k.target).parents(".active-result").first();if(l.length){this.result_highlight=l;this.result_select(k);return this.search_field.focus()}};j.prototype.search_results_mouseover=function(k){var l;l=a(k.target).hasClass("active-result")?a(k.target):a(k.target).parents(".active-result").first();if(l){return this.result_do_highlight(l)}};j.prototype.search_results_mouseout=function(k){if(a(k.target).hasClass("active-result"||a(k.target).parents(".active-result").first())){return this.result_clear_highlight()}};j.prototype.choice_build=function(n){var l,m,k=this;l=a("<li />",{"class":"search-choice"}).html("<span>"+n.html+"</span>");if(n.disabled){l.addClass("search-choice-disabled")}else{m=a("<a />",{href:"#","class":"search-choice-close",rel:n.array_index});m.click(function(o){return k.choice_destroy_link_click(o)});l.append(m)}return this.search_container.before(l)};j.prototype.choice_destroy_link_click=function(k){k.preventDefault();k.stopPropagation();if(!this.is_disabled){return this.choice_destroy(a(k.target))}};j.prototype.choice_destroy=function(k){if(this.result_deselect(k.attr("rel"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide()}k.parents("li").first().remove();return this.search_field_scale()}};j.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_option_count=null;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};j.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};j.prototype.result_select=function(k){var l,m,n,o;if(this.result_highlight){l=this.result_highlight;m=l.attr("id");this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}if(this.is_multiple){l.removeClass("active-result")}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=l}l.addClass("result-selected");o=m.substr(m.lastIndexOf("_")+1);n=this.results_data[o];n.selected=true;this.form_field.options[n.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(n)}else{this.single_set_selected_text(n.text)}if(!((k.metaKey||k.ctrlKey)&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value})}this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale()}};j.prototype.single_set_selected_text=function(k){if(k==null){k=this.default_text}if(k===this.default_text){this.selected_item.addClass("chzn-default")}else{this.single_deselect_control_build();this.selected_item.removeClass("chzn-default")}return this.selected_item.find("span").text(k)};j.prototype.result_deselect=function(k){var l,m;m=this.results_data[k];if(!this.form_field.options[m.options_index].disabled){m.selected=false;this.form_field.options[m.options_index].selected=false;this.selected_option_count=null;l=a("#"+this.container_id+"_o_"+k);l.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();if(this.results_showing){this.winnow_results()}this.form_field_jq.trigger("change",{deselected:this.form_field.options[m.options_index].value});this.search_field_scale();return true}else{return false}};j.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return}if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}return this.selected_item.addClass("chzn-single-with-deselect")};j.prototype.get_search_text=function(){if(this.search_field.val()===this.default_text){return""}else{return a("<div/>").text(a.trim(this.search_field.val())).html()}};j.prototype.winnow_results_set_highlight=function(){var k,l;l=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];k=l.length?l.first():this.search_results.find(".active-result").first();if(k!=null){return this.result_do_highlight(k)}};j.prototype.no_results=function(l){var k;k=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');k.find("span").first().html(l);return this.search_results.append(k)};j.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};j.prototype.keydown_arrow=function(){var k;if(this.results_showing&&this.result_highlight){k=this.result_highlight.nextAll("li.active-result").first();if(k){return this.result_do_highlight(k)}}else{return this.results_show()}};j.prototype.keyup_arrow=function(){var k;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else{if(this.result_highlight){k=this.result_highlight.prevAll("li.active-result");if(k.length){return this.result_do_highlight(k.first())}else{if(this.choices_count()>0){this.results_hide()}return this.result_clear_highlight()}}}};j.prototype.keydown_backstroke=function(){var k;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{k=this.search_container.siblings("li.search-choice").last();if(k.length&&!k.hasClass("search-choice-disabled")){this.pending_backstroke=k;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};j.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};j.prototype.keydown_checker=function(l){var m,k;m=(k=l.which)!=null?k:l.keyCode;this.search_field_scale();if(m!==8&&this.pending_backstroke){this.clear_backstroke()}switch(m){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(l)}this.mouse_on_container=false;break;case 13:l.preventDefault();break;case 38:l.preventDefault();this.keyup_arrow();break;case 40:l.preventDefault();this.keydown_arrow();break}};j.prototype.search_field_scale=function(){var m,n,o,p,q,s,k,l;if(this.is_multiple){n=0;s=0;p="position:absolute; left: -1000px; top: -1000px; display:none;";q=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(k=0,l=q.length;k<l;k++){o=q[k];p+=o+":"+this.search_field.css(o)+";"}m=a("<div />",{style:p});m.text(this.search_field.val());a("body").append(m);s=m.width()+25;m.remove();if(!this.f_width){this.f_width=this.container.outerWidth()}if(s>this.f_width-10){s=this.f_width-10}return this.search_field.css({width:s+"px"})}};j.prototype.generate_random_id=function(){var k;k="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(a("#"+k).length>0){k+=this.generate_random_char()}return k};return j})(AbstractChosen);h.Chosen=g}).call(this);
/*
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
(function(){function a(b){b.fn._fadeIn=b.fn.fadeIn;var m=b.noop||function(){};var l=/MSIE/.test(navigator.userAgent);var i=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var k=document.documentMode||0;var s=b.isFunction(document.createElement("div").style.setExpression);b.blockUI=function(u){j(window,u)};b.unblockUI=function(u){p(window,u)};b.growlUI=function(A,w,z,y){var u=b('<div class="growlUI"></div>');if(A){u.append("<h1>"+A+"</h1>")}if(w){u.append("<h2>"+w+"</h2>")}if(z===undefined){z=3000}var v=function(B){B=B||{};b.blockUI({message:u,fadeIn:typeof B.fadeIn!=="undefined"?B.fadeIn:700,fadeOut:typeof B.fadeOut!=="undefined"?B.fadeOut:1000,timeout:typeof B.timeout!=="undefined"?B.timeout:z,centerY:false,showOverlay:false,onUnblock:y,css:b.blockUI.defaults.growlCSS})};v();var x=u.css("opacity");u.mouseover(function(){v({fadeIn:0,timeout:30000});var B=b(".blockMsg");B.stop();B.fadeTo(300,1)}).mouseout(function(){b(".blockMsg").fadeOut(1000)})};b.fn.block=function(v){if(this[0]===window){b.blockUI(v);return this}var u=b.extend({},b.blockUI.defaults,v||{});this.each(function(){var w=b(this);if(u.ignoreIfBlocked&&w.data("blockUI.isBlocked")){return}w.unblock({fadeOut:0})});return this.each(function(){if(b.css(this,"position")=="static"){this.style.position="relative";b(this).data("blockUI.static",true)}this.style.zoom=1;j(this,v)})};b.fn.unblock=function(u){if(this[0]===window){b.unblockUI(u);return this}return this.each(function(){p(this,u)})};b.blockUI.version=2.7;b.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var n=null;var o=[];function j(B,N){var y,Q;var F=(B==window);var L=(N&&N.message!==undefined?N.message:undefined);N=b.extend({},b.blockUI.defaults,N||{});if(N.ignoreIfBlocked&&b(B).data("blockUI.isBlocked")){return}N.overlayCSS=b.extend({},b.blockUI.defaults.overlayCSS,N.overlayCSS||{});y=b.extend({},b.blockUI.defaults.css,N.css||{});if(N.onOverlayClick){N.overlayCSS.cursor="pointer"}Q=b.extend({},b.blockUI.defaults.themedCSS,N.themedCSS||{});L=L===undefined?N.message:L;if(F&&n){p(window,{fadeOut:0})}if(L&&typeof L!="string"&&(L.parentNode||L.jquery)){var M=L.jquery?L[0]:L;var A={};b(B).data("blockUI.history",A);A.el=M;A.parent=M.parentNode;A.display=M.style.display;A.position=M.style.position;if(A.parent){A.parent.removeChild(M)}}b(B).data("blockUI.onUnblock",N.onUnblock);var S=N.baseZ;var I,J,K,O;if(l||N.forceIframe){I=b('<iframe class="blockUI" style="z-index:'+(S++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+N.iframeSrc+'"></iframe>')}else{I=b('<div class="blockUI" style="display:none"></div>')}if(N.theme){J=b('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(S++)+';display:none"></div>')}else{J=b('<div class="blockUI blockOverlay" style="z-index:'+(S++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>')}if(N.theme&&F){O='<div class="blockUI '+N.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:fixed">';if(N.title){O+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(N.title||"&nbsp;")+"</div>"}O+='<div class="ui-widget-content ui-dialog-content"></div>';O+="</div>"}else{if(N.theme){O='<div class="blockUI '+N.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:absolute">';if(N.title){O+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(N.title||"&nbsp;")+"</div>"}O+='<div class="ui-widget-content ui-dialog-content"></div>';O+="</div>"}else{if(F){O='<div class="blockUI '+N.blockMsgClass+' blockPage" style="z-index:'+(S+10)+';display:none;position:fixed"></div>'}else{O='<div class="blockUI '+N.blockMsgClass+' blockElement" style="z-index:'+(S+10)+';display:none;position:absolute"></div>'}}}K=b(O);if(L){if(N.theme){K.css(Q);K.addClass("ui-widget-content")}else{K.css(y)}}if(!N.theme){J.css(N.overlayCSS)}J.css("position",F?"fixed":"absolute");if(l||N.forceIframe){I.css("opacity",0)}var H=[I,J,K],u=F?b("body"):b(B);b.each(H,function(){this.appendTo(u)});if(N.theme&&N.draggable&&b.fn.draggable){K.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var C=s&&(!b.support.boxModel||b("object,embed",F?null:B).length>0);if(i||C){if(F&&N.allowBodyStretch&&b.support.boxModel){b("html,body").css("height","100%")}if((i||!b.support.boxModel)&&!F){var P=t(B,"borderTopWidth"),G=t(B,"borderLeftWidth");var E=P?"(0 - "+P+")":0;var D=G?"(0 - "+G+")":0}b.each(H,function(T,U){var V=U[0].style;V.position="absolute";if(T<2){if(F){V.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+N.quirksmodeOffsetHack+') + "px"')}else{V.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(F){V.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{V.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(D){V.setExpression("left",D)}if(E){V.setExpression("top",E)}}else{if(N.centerY){if(F){V.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}V.marginTop=0}else{if(!N.centerY&&F){var W=(N.css&&N.css.top)?parseInt(N.css.top,10):0;var z="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+W+') + "px"';V.setExpression("top",z)}}}})}if(L){if(N.theme){K.find(".ui-widget-content").append(L)}else{K.append(L)}if(L.jquery||L.nodeType){b(L).show()}}if((l||N.forceIframe)&&N.showOverlay){I.show()}if(N.fadeIn){var v=N.onBlock?N.onBlock:m;var w=(N.showOverlay&&!L)?v:m;var x=L?v:m;if(N.showOverlay){J._fadeIn(N.fadeIn,w)}if(L){K._fadeIn(N.fadeIn,x)}}else{if(N.showOverlay){J.show()}if(L){K.show()}if(N.onBlock){N.onBlock.bind(K)()}}d(1,B,N);if(F){n=K[0];o=b(N.focusableElements,n);if(N.focusInput){setTimeout(g,20)}}else{f(K[0],N.centerX,N.centerY)}if(N.timeout){var R=setTimeout(function(){if(F){b.unblockUI(N)}else{b(B).unblock(N)}},N.timeout);b(B).data("blockUI.timeout",R)}}function p(x,A){var v;var z=(x==window);var u=b(x);var w=u.data("blockUI.history");var B=u.data("blockUI.timeout");if(B){clearTimeout(B);u.removeData("blockUI.timeout")}A=b.extend({},b.blockUI.defaults,A||{});d(0,x,A);if(A.onUnblock===null){A.onUnblock=u.data("blockUI.onUnblock");u.removeData("blockUI.onUnblock")}var y;if(z){y=b("body").children().filter(".blockUI").add("body > .blockUI")}else{y=u.find(">.blockUI")}if(A.cursorReset){if(y.length>1){y[1].style.cursor=A.cursorReset}if(y.length>2){y[2].style.cursor=A.cursorReset}}if(z){n=o=null}if(A.fadeOut){v=y.length;y.stop().fadeOut(A.fadeOut,function(){if(--v===0){q(y,w,A,x)}})}else{q(y,w,A,x)}}function q(A,y,B,z){var u=b(z);if(u.data("blockUI.isBlocked")){return}A.each(function(w,D){if(this.parentNode){this.parentNode.removeChild(this)}});if(y&&y.el){y.el.style.display=y.display;y.el.style.position=y.position;y.el.style.cursor="default";if(y.parent){y.parent.appendChild(y.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof B.onUnblock=="function"){B.onUnblock(z,B)}var v=b(document.body),C=v.width(),x=v[0].style.width;v.width(C-1).width(C);v[0].style.width=x}function d(v,w,z){var y=w==window,u=b(w);if(!v&&(y&&!n||!y&&!u.data("blockUI.isBlocked"))){return}u.data("blockUI.isBlocked",v);if(!y||!z.bindEvents||(v&&!z.showOverlay)){return}var x="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(v){b(document).bind(x,z,h)}else{b(document).unbind(x,h)}}function h(v){if(v.type==="keydown"&&v.keyCode&&v.keyCode==9){if(n&&v.data.constrainTabKey){var w=o;var x=!v.shiftKey&&v.target===w[w.length-1];var u=v.shiftKey&&v.target===w[0];if(x||u){setTimeout(function(){g(u)},10);return false}}}var y=v.data;var z=b(v.target);if(z.hasClass("blockOverlay")&&y.onOverlayClick){y.onOverlayClick(v)}if(z.parents("div."+y.blockMsgClass).length>0){return true}return z.parents().children().filter("div.blockUI").length===0}function g(u){if(!o){return}var v=o[u===true?o.length-1:0];if(v){v.focus()}}function f(u,B,C){var w=u.parentNode,z=u.style;var v=((w.offsetWidth-u.offsetWidth)/2)-t(w,"borderLeftWidth");var A=((w.offsetHeight-u.offsetHeight)/2)-t(w,"borderTopWidth");if(B){z.left=v>0?(v+"px"):"0"}if(C){z.top=A>0?(A+"px"):"0"}}function t(u,v){return parseInt(b.css(u,v),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();$(function(){$.ajaxSetup({cache:false})});function ajaxAdd(d,b,a){ajaxModify(d,b,"POST","Tag Added.",a)}function ajaxUpdate(d,a,b){ajaxModify(d,a,"PUT","Tag Updated.",b)}function ajaxDelete(a){ajaxModify(a,null,"DELETE","Tag Deleted.")}function ajaxModify(g,b,d,f,a){$.blockUI();$.ajax(g,{data:b,type:d,dataType:"json",contentType:"application/json",success:function(h){$.unblockUI();if(a!==undefined){a(h,false)}},error:function(h){$.unblockUI();if(a!==undefined){a(h.responseText,true)}console.log("error")}})}
/*
 * Modernizr v2.6.2
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */
window.Modernizr=(function(P,j,M){var N="2.6.2",x={},l=true,i=j.documentElement,v="modernizr",w=j.createElement(v),y=w.style,q=j.createElement("input"),F=":)",L={}.toString,B=" -webkit- -moz- -o- -ms- ".split(" "),A="Webkit Moz O ms",h=A.split(" "),k=A.toLowerCase().split(" "),z={svg:"http://www.w3.org/2000/svg"},K={},s={},b={},f=[],E=f.slice,n,p=function(Y,R,W,aa){var Z,X,V,T,S=j.createElement("div"),Q=j.body,U=Q||j.createElement("body");if(parseInt(W,10)){while(W--){V=j.createElement("div");V.id=aa?aa[W]:v+(W+1);S.appendChild(V)}}Z=["&#173;",'<style id="s',v,'">',Y,"</style>"].join("");S.id=v;(Q?S:U).innerHTML+=Z;U.appendChild(S);if(!Q){U.style.background="";U.style.overflow="hidden";T=i.style.overflow;i.style.overflow="hidden";i.appendChild(U)}X=R(S,Y);if(!Q){U.parentNode.removeChild(U);i.style.overflow=T}else{S.parentNode.removeChild(S)}return !!X},H=function(S){var R=P.matchMedia||P.msMatchMedia;if(R){return R(S).matches}var Q;p("@media "+S+" { #"+v+" { position: absolute; } }",function(T){Q=(P.getComputedStyle?getComputedStyle(T,null):T.currentStyle)["position"]=="absolute"});return Q},u=(function(){var R={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function Q(T,S){S=S||j.createElement(R[T]||"div");T="on"+T;var U=T in S;if(!U){if(!S.setAttribute){S=j.createElement("div")}if(S.setAttribute&&S.removeAttribute){S.setAttribute(T,"");U=t(S[T],"function");if(!t(S[T],"undefined")){S[T]=M}S.removeAttribute(T)}}S=null;return U}return Q})(),a=({}).hasOwnProperty,o;if(!t(a,"undefined")&&!t(a.call,"undefined")){o=function(Q,R){return a.call(Q,R)}}else{o=function(Q,R){return((R in Q)&&t(Q.constructor.prototype[R],"undefined"))}}if(!Function.prototype.bind){Function.prototype.bind=function d(T){var S=this;if(typeof S!="function"){throw new TypeError()}var Q=E.call(arguments,1),R=function(){if(this instanceof R){var U=function(){};U.prototype=S.prototype;var W=new U();var V=S.apply(W,Q.concat(E.call(arguments)));if(Object(V)===V){return V}return W}else{return S.apply(T,Q.concat(E.call(arguments)))}};return R}}function C(Q){y.cssText=Q}function D(Q,R){return C(B.join(Q+";")+(R||""))}function t(Q,R){return typeof Q===R}function g(Q,R){return !!~(""+Q).indexOf(R)}function I(T,R){for(var Q in T){var S=T[Q];if(!g(S,"-")&&y[S]!==M){return R=="pfx"?S:true}}return false}function G(U,T,Q){for(var R in U){var S=T[U[R]];if(S!==M){if(Q===false){return U[R]}if(t(S,"function")){return S.bind(Q||T)}return S}}return false}function J(S,R,Q){var U=S.charAt(0).toUpperCase()+S.slice(1),T=(S+" "+h.join(U+" ")+U).split(" ");if(t(R,"string")||t(R,"undefined")){return I(T,R)}else{T=(S+" "+(k).join(U+" ")+U).split(" ");return G(T,R,Q)}}K.flexbox=function(){return J("flexWrap")};K.flexboxlegacy=function(){return J("boxDirection")};K.canvas=function(){var Q=j.createElement("canvas");return !!(Q.getContext&&Q.getContext("2d"))};K.canvastext=function(){return !!(x.canvas&&t(j.createElement("canvas").getContext("2d").fillText,"function"))};K.webgl=function(){return !!P.WebGLRenderingContext};K.touch=function(){var Q;if(("ontouchstart" in P)||P.DocumentTouch&&j instanceof DocumentTouch){Q=true}else{p(["@media (",B.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(R){Q=R.offsetTop===9})}return Q};K.geolocation=function(){return"geolocation" in navigator};K.postmessage=function(){return !!P.postMessage};K.websqldatabase=function(){return !!P.openDatabase};K.indexedDB=function(){return !!J("indexedDB",P)};K.hashchange=function(){return u("hashchange",P)&&(j.documentMode===M||j.documentMode>7)};K.history=function(){return !!(P.history&&history.pushState)};K.draganddrop=function(){var Q=j.createElement("div");return("draggable" in Q)||("ondragstart" in Q&&"ondrop" in Q)};K.websockets=function(){return"WebSocket" in P||"MozWebSocket" in P};K.rgba=function(){C("background-color:rgba(150,255,150,.5)");return g(y.backgroundColor,"rgba")};K.hsla=function(){C("background-color:hsla(120,40%,100%,.5)");return g(y.backgroundColor,"rgba")||g(y.backgroundColor,"hsla")};K.multiplebgs=function(){C("background:url(https://),url(https://),red url(https://)");return(/(url\s*\(.*?){3}/).test(y.background)};K.backgroundsize=function(){return J("backgroundSize")};K.borderimage=function(){return J("borderImage")};K.borderradius=function(){return J("borderRadius")};K.boxshadow=function(){return J("boxShadow")};K.textshadow=function(){return j.createElement("div").style.textShadow===""};K.opacity=function(){D("opacity:.55");return(/^0.55$/).test(y.opacity)};K.cssanimations=function(){return J("animationName")};K.csscolumns=function(){return J("columnCount")};K.cssgradients=function(){var Q="background-image:",R="gradient(linear,left top,right bottom,from(#9f9),to(white));",S="linear-gradient(left top,#9f9, white);";C((Q+"-webkit- ".split(" ").join(R+Q)+B.join(S+Q)).slice(0,-Q.length));return g(y.backgroundImage,"gradient")};K.cssreflections=function(){return J("boxReflect")};K.csstransforms=function(){return !!J("transform")};K.csstransforms3d=function(){var Q=!!J("perspective");if(Q&&"webkitPerspective" in i.style){p("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(R,S){Q=R.offsetLeft===9&&R.offsetHeight===3})}return Q};K.csstransitions=function(){return J("transition")};K.fontface=function(){var Q;p('@font-face {font-family:"font";src:url("https://")}',function(S,T){var V=j.getElementById("smodernizr"),U=V.sheet||V.styleSheet,R=U?(U.cssRules&&U.cssRules[0]?U.cssRules[0].cssText:U.cssText||""):"";Q=/src/i.test(R)&&R.indexOf(T.split(" ")[0])===0});return Q};K.generatedcontent=function(){var Q;p(["#",v,"{font:0/0 a}#",v,':after{content:"',F,'";visibility:hidden;font:3px/1 a}'].join(""),function(R){Q=R.offsetHeight>=3});return Q};K.video=function(){var S=j.createElement("video"),Q=false;try{if(Q=!!S.canPlayType){Q=new Boolean(Q);Q.ogg=S.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"");Q.h264=S.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"");Q.webm=S.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(R){}return Q};K.audio=function(){var S=j.createElement("audio"),Q=false;try{if(Q=!!S.canPlayType){Q=new Boolean(Q);Q.ogg=S.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");Q.mp3=S.canPlayType("audio/mpeg;").replace(/^no$/,"");Q.wav=S.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");Q.m4a=(S.canPlayType("audio/x-m4a;")||S.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(R){}return Q};K.localstorage=function(){try{localStorage.setItem(v,v);localStorage.removeItem(v);return true}catch(Q){return false}};K.sessionstorage=function(){try{sessionStorage.setItem(v,v);sessionStorage.removeItem(v);return true}catch(Q){return false}};K.webworkers=function(){return !!P.Worker};K.applicationcache=function(){return !!P.applicationCache};K.svg=function(){return !!j.createElementNS&&!!j.createElementNS(z.svg,"svg").createSVGRect};K.inlinesvg=function(){var Q=j.createElement("div");Q.innerHTML="<svg/>";return(Q.firstChild&&Q.firstChild.namespaceURI)==z.svg};K.smil=function(){return !!j.createElementNS&&/SVGAnimate/.test(L.call(j.createElementNS(z.svg,"animate")))};K.svgclippaths=function(){return !!j.createElementNS&&/SVGClipPath/.test(L.call(j.createElementNS(z.svg,"clipPath")))};function O(){x.input=(function(S){for(var Q=0,R=S.length;Q<R;Q++){b[S[Q]]=!!(S[Q] in q)}if(b.list){b.list=!!(j.createElement("datalist")&&P.HTMLDataListElement)}return b})("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));x.inputtypes=(function(V){for(var S=0,Q,T,R,U=V.length;S<U;S++){q.setAttribute("type",T=V[S]);Q=q.type!=="text";if(Q){q.value=F;q.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(T)&&q.style.WebkitAppearance!==M){i.appendChild(q);R=j.defaultView;Q=R.getComputedStyle&&R.getComputedStyle(q,null).WebkitAppearance!=="textfield"&&(q.offsetHeight!==0);i.removeChild(q)}else{if(/^(search|tel)$/.test(T)){}else{if(/^(url|email)$/.test(T)){Q=q.checkValidity&&q.checkValidity()===false}else{Q=q.value!=F}}}}s[V[S]]=!!Q}return s})("search tel url email datetime date month week time datetime-local number range color".split(" "))}for(var m in K){if(o(K,m)){n=m.toLowerCase();x[n]=K[m]();f.push((x[n]?"":"no-")+n)}}x.input||O();x.addTest=function(Q,S){if(typeof Q=="object"){for(var R in Q){if(o(Q,R)){x.addTest(R,Q[R])}}}else{Q=Q.toLowerCase();if(x[Q]!==M){return x}S=typeof S=="function"?S():S;if(typeof l!=="undefined"&&l){i.className+=" "+(S?"":"no-")+Q}x[Q]=S}return x};C("");w=q=null;
/* HTML5 Shiv v3.6.1 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */
(function(ah,T){var aa=ah.html5||{};var ab=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var ac=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var af;var U="_html5shiv";var W=0;var V={};var ag;(function(){try{var ai=T.createElement("a");ai.innerHTML="<xyz></xyz>";af=("hidden" in ai);ag=ai.childNodes.length==1||(function(){(T.createElement)("a");var ak=T.createDocumentFragment();return(typeof ak.cloneNode=="undefined"||typeof ak.createDocumentFragment=="undefined"||typeof ak.createElement=="undefined")}())}catch(aj){af=true;ag=true}}());function Q(aj,ai){var ak=aj.createElement("p"),al=aj.getElementsByTagName("head")[0]||aj.documentElement;ak.innerHTML="x<style>"+ai+"</style>";return al.insertBefore(ak.lastChild,al.firstChild)}function X(){var ai=Z.elements;return typeof ai=="string"?ai.split(" "):ai}function Y(aj){var ai=V[aj[U]];if(!ai){ai={};W++;aj[U]=W;V[W]=ai}return ai}function S(ak,al,ai){if(!al){al=T}if(ag){return al.createElement(ak)}if(!ai){ai=Y(al)}var aj;if(ai.cache[ak]){aj=ai.cache[ak].cloneNode()}else{if(ac.test(ak)){aj=(ai.cache[ak]=ai.createElem(ak)).cloneNode()}else{aj=ai.createElem(ak)}}return aj.canHaveChildren&&!ab.test(ak)?ai.frag.appendChild(aj):aj}function R(an,aj){if(!an){an=T}if(ag){return an.createDocumentFragment()}aj=aj||Y(an);var ai=aj.frag.cloneNode(),al=0,ak=X(),am=ak.length;for(;al<am;al++){ai.createElement(ak[al])}return ai}function ae(aj,ai){if(!ai.cache){ai.cache={};ai.createElem=aj.createElement;ai.createFrag=aj.createDocumentFragment;ai.frag=ai.createFrag()}aj.createElement=function(ak){if(!Z.shivMethods){return ai.createElem(ak)}return S(ak,aj,ai)};aj.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+X().join().replace(/\w+/g,function(ak){ai.createElem(ak);ai.frag.createElement(ak);return'c("'+ak+'")'})+");return n}")(Z,ai.frag)}function ad(aj){if(!aj){aj=T}var ai=Y(aj);if(Z.shivCSS&&!af&&!ai.hasCSS){ai.hasCSS=!!Q(aj,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")}if(!ag){ae(aj,ai)}return aj}var Z={elements:aa.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:(aa.shivCSS!==false),supportsUnknownElements:ag,shivMethods:(aa.shivMethods!==false),type:"default",shivDocument:ad,createElement:S,createDocumentFragment:R};ah.html5=Z;ad(T)}(this,j));x._version=N;x._prefixes=B;x._domPrefixes=k;x._cssomPrefixes=h;x.mq=H;x.hasEvent=u;x.testProp=function(Q){return I([Q])};x.testAllProps=J;x.testStyles=p;x.prefixed=function(S,R,Q){if(!R){return J(S,"pfx")}else{return J(S,R,Q)}};i.className=i.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(l?" js "+f.join(" "):"");return x})(this,this.document);jQuery.fn.exists=function(){return this.length>0};jQuery.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.innerHeight()};$.validator.setDefaults({highlight:function(a){$(a).closest(".controls").addClass("error")},unhighlight:function(a){$(a).closest(".controls").removeClass("error")}});$.queryStringByName=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),d=b.exec(a=="ISTESTACCOUNT"?location.href.toUpperCase():location.href);return d==null?"":decodeURIComponent(d[1].replace(/\+/g," "))};function AlertDisplayHandler(d){var h=this;h.ValidationValidClass="field-validation-valid";h.ValidationErrorClass="field-validation-error";h.ShowMessage=function(j){var i=$("#"+j);if(!i){return}var k=i.val();if(k==""){return}g(k)};h.ShowMessageHtml=function(i){g(i)};h.HideMessage=function(){a.hide()};var b=(d&&d.alertContainerId)?d.alertContainerId:"alertContainer";var f=(d&&d.displayFor)?d.displayFor:null;var a=$("#"+b);var g=function(i){if(f){a.html(i).slideDown(150,function(){$(this).delay(f).slideUp(150)});return}a.html(i).slideDown()};h.DisplayError=function(i){a.html(i).removeClass(h.ValidationValidClass).addClass(h.ValidationErrorClass).show()};h.ClearErrorMessage=function(){a.html("").removeClass(h.ValidationErrorClass).hide()}}function JsonValidationHandler(i){var j=this;j.MessageContainerId="alertContainer";j.ValidationValidClass="field-validation-valid";j.ValidationErrorClass="field-validation-error";j.Result=i;j.ClearMessage=d;j.DisplayMessage=h;j.ClearErrors=function(k){if(k){k(j);return}b()};j.DisplayErrors=function(k){if(k){k(j);return}g(j.Result.ModelErrors)};j.IsValid=function(){return(j.Result.ModelErrors)?false:true};j.ClearMessage();j.ClearErrors();function d(k){var m=(k)?k:j.MessageContainerId;var l=$("#"+m);if(!l){return}l.hide()}function h(k){var m=(k)?k:j.MessageContainerId;var l=$("#"+m);if(!l){return}if(j.Result.Message){if(j.Result.Success){l.html(j.Result.Message).show().delay(3500).hide(150);return}l.html(j.Result.Message).show()}}function a(){$("span[data-valmsg-for]").each(function(){$(this).removeClass(j.ValidationErrorClass).addClass(j.ValidationValidClass).hide()})}function f(){ko.utils.arrayForEach(j.Result.ModelErrors,function(k){$('span[data-valmsg-for="'+k.Property+'"]').html(k.ErrorMessage).removeClass(j.ValidationValidClass).addClass(j.ValidationErrorClass).show()})}function b(){$("*[data-valmsg-for]").each(function(){$(this).removeClass(j.ValidationErrorClass).addClass(j.ValidationValidClass).hide();$(this).parents('div[class="controls error"]').first().removeClass("error")})}function g(){ko.utils.arrayForEach(j.Result.ModelErrors,function(k){$('*[data-valmsg-for="'+k.Property+'"]').each(function(){$(this).parents('div[class="controls"]').first().addClass("error");$(this).html(k.ErrorMessage).removeClass(j.ValidationValidClass).addClass(j.ValidationErrorClass).show()})})}}checkForToken=function(a){var b=$('input[type="hidden"][name="__RequestVerificationToken"]').val();if(b!=""){a.__RequestVerificationToken=b}};function JsonPostHandler(d){var h=this;h.postJson=function(l,j){$.blockUI({message:'<h3><img src="../../Include/Contents/images/ajax-loader.gif" /><br />Please wait...</h3>'});var k={};checkForToken(k);$.ajax(l,{type:"post",contentType:"application/json",cache:false,headers:k,async:a,data:j,success:i,error:g,complete:b})};var f=function(k,l,j){$("html").html(k.responseText)};var i=function(j){if(j.RedirectURL){window.location=j.RedirectURL}else{d.success(j)}};var g=(typeof d.error!="undefined")?d.error:f;var a=(typeof d.async!="undefined")?d.async:true;var b=function(j){$.unblockUI()}}var gridDataCoordinators=[];function GridDataCoordinator(a){var h=this;h.GridName=a;var i=null;var g;h.GetConfiguration=function(){return $("form#"+h.GridName+"Configuration").first()};h.GetResourceEndpoint=function(){var k=h.GetConfiguration();var j=k.prop("action");if(!j){j=window.top.location.href}return j};h.SetResourceEndpointLocal=function(){var j=window.top.location;h.SetResourceEndpoint(j)};h.SetResourceEndpoint=function(k){var j=h.GetConfiguration();j.prop("action",k)};h.GetConfigurationValue=function(l){var j=h.GetConfiguration();var k=$('input[type=hidden][name="'+l+'"]',j);var m=k.val();return m};h.SetConfigurationValue=function(l,m){var j=h.GetConfiguration();var k=$('input[type=hidden][name="'+l+'"]',j);if(!k.get(0)){throw"Configuration parameter is not defined for this GridDataCoordinator: "+l}k.val(m)};h.ResetPage=function(){var j=h.GetConfiguration();var k=$('input[type=hidden][name="page"]',j);k.val(1)};h.GridRefreshedEvent=[];h.Refresh=function(){var k=h.GetConfiguration(a);if(!k.attr("method")||k.attr("method").toLowerCase()=="get"){k.submit();return}var j={url:k.prop("action"),data:k.serialize()};var l={};checkForToken(l);$.blockUI({message:'<h3><img src="../../Include/Contents/images/ajax-loader.gif" /><br />Please wait...</h3>'});$.ajax({url:j.url,type:"POST",headers:l,success:function(n){f(n);if(h.GridRefreshedEvent.length>0){var m=h.GridRefreshedEvent.slice(0);$.each(m,function(){this(h)})}$.unblockUI()},error:function(){$.unblockUI();alert("Unable to search, please try again or contact support.")},data:j.data,async:true})};h.GetHeaderCells=function(){return $("#"+a+" table tr th")};h.HasHeaders=function(){return $("#"+a+" table tr th").length>0};h.GetColumnCells=function(j){return $("#"+a+" table tr td:nth-child("+j+")")};h.GetColumnCount=function(){return $("#"+a+" table tr:last td:visible").length};h.GetRowCells=function(j){return $("#"+a+" table tr:nth-child("+j+") td")};h.GetRowCount=function(){return $("#"+a+" table tbody tr:visible").length};var d=function(){$("#"+h.GridName).on("click","table th[gridSort]",function(m){var n=$(this).attr("gridSort");var k=h.GetConfiguration();var o=$('input[type=hidden][name="sort"]',k);var l=$('input[type=hidden][name="sortdirection"]',k);if(o.val()==n){var j=(l.val()=="asc")?"desc":"asc";l.val(j)}else{o.val(n);l.val("asc")}h.ResetPage();h.Refresh()});$("div[id*="+h.GridName+"Paging]").on("click","a[gridPage]",function(k){var m=$(this).attr("gridPage");var j=h.GetConfiguration();var l=$('input[type=hidden][name="page"]',j);l.val(m);k.preventDefault();h.Refresh()});$("div[id*="+h.GridName+"PageSize]").on("change","select",function(k){var l=$(this).val();var j=h.GetConfiguration();var m=$('input[type=hidden][name="pagesize"]',j);m.val(l);h.ResetPage();h.Refresh()});gridDataCoordinators.push(h.GridName);if(gridDataCoordinators.length>1){$.each(gridDataCoordinators,function(){var j=h.GetConfiguration();if(!j.prop("action")||j.prop("action").indexOf(top.location.pathname)>-1){throw"You must specify an endpoint other than the top window when using multiple grids on a page"}})}b()};var b=function(){$("#"+a+" table td[class=sorted]").removeClass("sorted");$("#"+a+" table th[class=sort-asc]").removeClass("sort-asc");$("#"+a+" table th[class=sort-desc]").removeClass("sort-desc");var k=h.GetConfiguration();var l=$('input[type=hidden][name="sort"]',k).val();if(l!=""){var n=$('input[type=hidden][name="sortdirection"]',k).val();var m="sort-"+(n==""?"asc":n);var o=$("#"+a+' table th[gridSort="'+l+'"]');if(o.exists()){o.addClass(m);var j=o.parent().children().index(o)+1;$("#"+a+" table tr td:nth-child("+j+")").addClass("sorted")}}};var f=function(j){$.each(j,function(k,l){$("#"+k).html(l)});b()};d()}var Ca4={};Ca4.SessionManager=function(f,g){var a=f||3600000,d=g||300000;if(a<=d){throw"Session time out cannot be less than equal to warning time"}var b=new Worker(srvrVar.sessionWorkerUrl);this.getWarningTime=function(){return d};this.resetTimer=function(){b.postMessage({cmd:"reset",sessionLimit:a,warningTime:d})};this.stopTimer=function(){b.postMessage({cmd:"stop"})};this.intervalTimer=function(h){if(h){_timerId=setInterval(h,1000)}};this.startTimer=function(){b.addEventListener("message",function(h){if(h.data.msg){}else{if(h.data.showWarning&&h.data.showWarning===true){$("body").trigger("sessionWarning")}}},false);b.postMessage({cmd:"start",sessionLimit:a,warningTime:d})}};var commonFunc=function(){var b=function(j){var k=[],i;for(i in j){k.push(j[i].toString())}return k};var d=function(k){var j=[],i;for(i in k){j.push(parseInt(k[i]))}return j};var a=function(i){var j=/^(?!.*\.{2})([a-zA-Z0-9_\!\#\$\%\&\'\*\+\/\=\?\^\_\`\{\|\}\~\-\.\+?]+)@((([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;if(!j.test(i)){return false}return true};var h=function(i,j){return j.test(i)};var f=function(i){if(typeof i=="string"){$("#"+i).addClass("input-validation-error")}else{i.addClass("input-validation-error")}};var g=function(i){if(typeof i=="string"){$("#"+i).removeClass("input-validation-error")}else{i.removeClass("input-validation-error")}};return{convertIntArrayToStringArray:b,convertStringArrayToIntArray:d,checkEmail:a,validateRegEx:h,highlightError:f,highlightError:f}}();var shd={sessionManager:(srvrVar.sessionWorkerUrl?new Ca4.SessionManager():null)};function wideClass(){var a=$("div").hasClass("wide-screen");if(a==true){$("body").addClass("wideScreen")}}$(document).ready(function(){wideClass();if(shd.sessionManager){shd.sessionManager.startTimer()}$("body").on("sessionWarning",function(){var d=shd.sessionManager.getWarningTime(),a=$("#sessionTimeoutWarning"),b=false;if(a.length===0){b=true;a=$('<div id="sessionTimeoutWarning" class="msg_box m-timeout jqPPTR"><h3>Inactive Session</h3><div class="i m-incomplete "><a href="javascript:;" class="i-link"><span aria-hidden="true" class="i-l-aria"></span><span class="i-l-label">Warning</span></a></div><p>Your session has been inactive for 55 minutes. To continue working, please click \'OK\' below. Otherwise, your information will not be saved, and you will be logged out.</p><div class="btn_row br"><input type="button" id="sessionExtend" value="Ok" class="primary_btn pa" /></div></div>')}shd.sessionManager.intervalTimer(function(){if(d>0){d-=1000}else{shd.sessionManager.stopTimer();$.ajax({url:"/LogOff?sto=1",dataType:"json",type:"get",success:function(){window.location.href="/Login?sto=1"}})}});a.showOverlay({onOpen:function(){if(b){$("#sessionExtend").off("click").on("click",function(){var f=$(this);$.ajax({url:"/Account/ExtendSession",dataType:"json",type:"get",success:function(){if(shd.sessionManager){shd.sessionManager.resetTimer()}f.hideParentOverlay()}})})}}})});if(typeof privacypolicylabel!=="undefined"&&privacypolicylabel){$("#privacypolicy").text(privacypolicylabel)}});
/*
* Bootstrap.js by @fat & @mdo
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(a){a(function(){a.support.transition=function(){var b=function(){var d=document.createElement("bootstrap"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},f;for(f in g){if(d.style[f]!==undefined){return g[f]}}}();return b&&{end:b}}()})}(window.jQuery),!function(a){var f='[data-dismiss="alert"]',b=function(g){a(g).on("click",f,this.close)};b.prototype.close=function(l){function k(){g.trigger("closed").remove()}var h=a(this),j=h.attr("data-target"),g;j||(j=h.attr("href"),j=j&&j.replace(/.*(?=#[^\s]*$)/,"")),g=a(j),l&&l.preventDefault(),g.length||(g=h.hasClass("alert")?h:h.parent()),g.trigger(l=a.Event("close"));if(l.isDefaultPrevented()){return}g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.on(a.support.transition.end,k):k()};var d=a.fn.alert;a.fn.alert=function(g){return this.each(function(){var j=a(this),h=j.data("alert");h||j.data("alert",h=new b(this)),typeof g=="string"&&h[g].call(j)})},a.fn.alert.Constructor=b,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.alert.data-api",f,b.prototype.close)}(window.jQuery),!function(a){var d=function(g,f){this.$element=a(g),this.options=a.extend({},a.fn.button.defaults,f)};d.prototype.setState=function(f){var k="disabled",h=this.$element,j=h.data(),g=h.is("input")?"val":"html";f+="Text",j.resetText||h.data("resetText",h[g]()),h[g](j[f]||this.options[f]),setTimeout(function(){f=="loadingText"?h.addClass(k).attr(k,k):h.removeClass(k).removeAttr(k)},0)},d.prototype.toggle=function(){var f=this.$element.closest('[data-toggle="buttons-radio"]');f&&f.find(".active").removeClass("active"),this.$element.toggleClass("active")};var b=a.fn.button;a.fn.button=function(f){return this.each(function(){var h=a(this),g=h.data("button"),j=typeof f=="object"&&f;g||h.data("button",g=new d(this,j)),f=="toggle"?g.toggle():f&&g.setState(f)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=d,a.fn.button.noConflict=function(){return a.fn.button=b,this},a(document).on("click.button.data-api","[data-toggle^=button]",function(g){var f=a(g.target);f.hasClass("btn")||(f=f.closest(".btn")),f.button("toggle")})}(window.jQuery),!function(a){var d=function(g,f){this.$element=a(g),this.$indicators=this.$element.find(".carousel-indicators"),this.options=f,this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};d.prototype={cycle:function(f){return f||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(h){var f=this.getActiveIndex(),g=this;if(h>this.$items.length-1||h<0){return}return this.sliding?this.$element.one("slid",function(){g.to(h)}):f==h?this.pause().cycle():this.slide(h>f?"next":"prev",a(this.$items[h]))},pause:function(f){return f||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(q,k){var m=this.$element.find(".item.active"),j=k||m[q](),p=this.interval,l=q=="next"?"left":"right",v=q=="next"?"first":"last",g=this,h;this.sliding=!0,p&&this.pause(),j=j.length?j:this.$element.find(".item")[v](),h=a.Event("slide",{relatedTarget:j[0],direction:l});if(j.hasClass("active")){return}this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var f=a(g.$indicators.children()[g.getActiveIndex()]);f&&f.addClass("active")}));if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(h);if(h.isDefaultPrevented()){return}j.addClass(q),j[0].offsetWidth,m.addClass(l),j.addClass(l),this.$element.one(a.support.transition.end,function(){j.removeClass([q,l].join(" ")).addClass("active"),m.removeClass(["active",l].join(" ")),g.sliding=!1,setTimeout(function(){g.$element.trigger("slid")},0)})}else{this.$element.trigger(h);if(h.isDefaultPrevented()){return}m.removeClass("active"),j.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return p&&this.cycle(),this}};var b=a.fn.carousel;a.fn.carousel=function(f){return this.each(function(){var j=a(this),g=j.data("carousel"),k=a.extend({},a.fn.carousel.defaults,typeof f=="object"&&f),h=typeof f=="string"?f:k.slide;g||j.data("carousel",g=new d(this,k)),typeof f=="number"?g.to(f):h?g[h]():k.interval&&g.pause().cycle()})},a.fn.carousel.defaults={interval:5000,pause:"hover"},a.fn.carousel.Constructor=d,a.fn.carousel.noConflict=function(){return a.fn.carousel=b,this},a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(l){var g=a(this),j,f=a(g.attr("data-target")||(j=g.attr("href"))&&j.replace(/.*(?=#[^\s]+$)/,"")),k=a.extend({},f.data(),g.data()),h;f.carousel(k),(h=g.attr("data-slide-to"))&&f.data("carousel").pause().to(h).cycle(),l.preventDefault()})}(window.jQuery),!function(a){var d=function(g,f){this.$element=a(g),this.options=a.extend({},a.fn.collapse.defaults,f),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};d.prototype={constructor:d,dimension:function(){var f=this.$element.hasClass("width");return f?"width":"height"},show:function(){var j,g,h,f;if(this.transitioning||this.$element.hasClass("in")){return}j=this.dimension(),g=a.camelCase(["scroll",j].join("-")),h=this.$parent&&this.$parent.find("> .accordion-group > .in");if(h&&h.length){f=h.data("collapse");if(f&&f.transitioning){return}h.collapse("hide"),f||h.data("collapse",null)}this.$element[j](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[j](this.$element[0][g])},hide:function(){var f;if(this.transitioning||!this.$element.hasClass("in")){return}f=this.dimension(),this.reset(this.$element[f]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[f](0)},reset:function(f){var g=this.dimension();return this.$element.removeClass("collapse")[g](f||"auto")[0].offsetWidth,this.$element[f!==null?"addClass":"removeClass"]("collapse"),this},transition:function(k,g,h){var f=this,j=function(){g.type=="show"&&f.reset(),f.transitioning=0,f.$element.trigger(h)};this.$element.trigger(g);if(g.isDefaultPrevented()){return}this.transitioning=1,this.$element[k]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,j):j()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var b=a.fn.collapse;a.fn.collapse=function(f){return this.each(function(){var h=a(this),g=h.data("collapse"),j=a.extend({},a.fn.collapse.defaults,h.data(),typeof f=="object"&&f);g||h.data("collapse",g=new d(this,j)),typeof f=="string"&&g[f]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=b,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(k){var g=a(this),h,f=g.attr("data-target")||k.preventDefault()||(h=g.attr("href"))&&h.replace(/.*(?=#[^\s]+$)/,""),j=a(f).data("collapse")?"toggle":g.data();g[a(f).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(f).collapse(j)})}(window.jQuery),!function(a){function f(){a(".dropdown-backdrop").remove(),a(h).each(function(){b(a(this)).removeClass("open")})}function b(k){var i=k.attr("data-target"),j;i||(i=k.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),j=i&&a(i);if(!j||!j.length){j=k.parent()}return j}var h="[data-toggle=dropdown]",d=function(j){var i=a(j).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};d.prototype={constructor:d,toggle:function(l){var i=a(this),k,j;if(i.is(".disabled, :disabled")){return}return k=b(i),j=k.hasClass("open"),f(),j||("ontouchstart" in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",f),k.toggleClass("open")),i.focus(),!1},keydown:function(k){var m,p,l,q,i,j;if(!/(38|40|27)/.test(k.keyCode)){return}m=a(this),k.preventDefault(),k.stopPropagation();if(m.is(".disabled, :disabled")){return}q=b(m),i=q.hasClass("open");if(!i||i&&k.keyCode==27){return k.which==27&&q.find(h).focus(),m.click()}p=a("[role=menu] li:not(.divider):visible a",q);if(!p.length){return}j=p.index(p.filter(":focus")),k.keyCode==38&&j>0&&j--,k.keyCode==40&&j<p.length-1&&j++,~j||(j=0),p.eq(j).focus()}};var g=a.fn.dropdown;a.fn.dropdown=function(i){return this.each(function(){var k=a(this),j=k.data("dropdown");j||k.data("dropdown",j=new d(this)),typeof i=="string"&&j[i].call(k)})},a.fn.dropdown.Constructor=d,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.dropdown.data-api",f).on("click.dropdown.data-api",".dropdown form",function(i){i.stopPropagation()}).on("click.dropdown.data-api",h,d.prototype.toggle).on("keydown.dropdown.data-api",h+", [role=menu]",d.prototype.keydown)}(window.jQuery),!function(a){var d=function(g,f){this.options=f,this.$element=a(g).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};d.prototype={constructor:d,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var g=this,f=a.Event("show");this.$element.trigger(f);if(this.isShown||f.isDefaultPrevented()){return}this.isShown=!0,this.escape(),this.backdrop(function(){var h=a.support.transition&&g.$element.hasClass("fade");g.$element.parent().length||g.$element.appendTo(document.body),g.$element.show(),h&&g.$element[0].offsetWidth,g.$element.addClass("in").attr("aria-hidden",!1),g.enforceFocus(),h?g.$element.one(a.support.transition.end,function(){g.$element.focus().trigger("shown")}):g.$element.focus().trigger("shown")})},hide:function(g){g&&g.preventDefault();var f=this;g=a.Event("hide"),this.$element.trigger(g);if(!this.isShown||g.isDefaultPrevented()){return}this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var f=this;a(document).on("focusin.modal",function(g){f.$element[0]!==g.target&&!f.$element.has(g.target).length&&f.$element.focus()})},escape:function(){var f=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(g){g.which==27&&f.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var g=this,f=setTimeout(function(){g.$element.off(a.support.transition.end),g.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(f),g.hideModal()})},hideModal:function(){var f=this;this.$element.hide(),this.backdrop(function(){f.removeBackdrop(),f.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(j){var g=this,h=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&h;this.$backdrop=a('<div class="modal-backdrop '+h+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!j){return}f?this.$backdrop.one(a.support.transition.end,j):j()}else{!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,j):j()):j&&j()}}};var b=a.fn.modal;a.fn.modal=function(f){return this.each(function(){var h=a(this),g=h.data("modal"),j=a.extend({},a.fn.modal.defaults,h.data(),typeof f=="object"&&f);g||h.data("modal",g=new d(this,j)),typeof f=="string"?g[f]():j.show&&g.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=d,a.fn.modal.noConflict=function(){return a.fn.modal=b,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(k){var g=a(this),h=g.attr("href"),f=a(g.attr("data-target")||h&&h.replace(/.*(?=#[^\s]+$)/,"")),j=f.data("modal")?"toggle":a.extend({remote:!/#/.test(h)&&h},f.data(),g.data());k.preventDefault(),f.modal(j).one("hide",function(){g.focus()})})}(window.jQuery),!function(a){var d=function(f,g){this.init("tooltip",f,g)};d.prototype={constructor:d,init:function(m,h,k){var g,l,j,p,f;this.type=m,this.$element=a(h),this.options=this.getOptions(k),this.enabled=!0,j=this.options.trigger.split(" ");for(f=j.length;f--;){p=j[f],p=="click"?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):p!="manual"&&(g=p=="hover"?"mouseenter":"focus",l=p=="hover"?"mouseleave":"blur",this.$element.on(g+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,a.proxy(this.leave,this)))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(f){return f=a.extend({},a.fn[this.type].defaults,this.$element.data(),f),f.delay&&typeof f.delay=="number"&&(f.delay={show:f.delay,hide:f.delay}),f},enter:function(j){var g=a.fn[this.type].defaults,h={},f;this._options&&a.each(this._options,function(i,k){g[i]!=k&&(h[i]=k)},this),f=a(j.currentTarget)[this.type](h).data(this.type);if(!f.options.delay||!f.options.delay.show){return f.show()}clearTimeout(this.timeout),f.hoverState="in",this.timeout=setTimeout(function(){f.hoverState=="in"&&f.show()},f.options.delay.show)},leave:function(g){var f=a(g.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!f.options.delay||!f.options.delay.hide){return f.hide()}f.hoverState="out",this.timeout=setTimeout(function(){f.hoverState=="out"&&f.hide()},f.options.delay.hide)},show:function(){var l,g,j,f,k,h,m=a.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(m);if(m.isDefaultPrevented()){return}l=this.tip(),this.setContent(),this.options.animation&&l.addClass("fade"),k=typeof this.options.placement=="function"?this.options.placement.call(this,l[0],this.$element[0]):this.options.placement,l.detach().css({top:0,left:0,display:"block"}),this.options.container?l.appendTo(this.options.container):l.insertAfter(this.$element),g=this.getPosition(),j=l[0].offsetWidth,f=l[0].offsetHeight;switch(k){case"bottom":h={top:g.top+g.height,left:g.left+g.width/2-j/2};break;case"top":h={top:g.top-f,left:g.left+g.width/2-j/2};break;case"left":h={top:g.top+g.height/2-f/2,left:g.left-j};break;case"right":h={top:g.top+g.height/2-f/2,left:g.left+g.width}}this.applyPlacement(h,k),this.$element.trigger("shown")}},applyPlacement:function(g,p){var j=this.tip(),l=j[0].offsetWidth,h=j[0].offsetHeight,m,k,q,f;j.offset(g).addClass(p).addClass("in"),m=j[0].offsetWidth,k=j[0].offsetHeight,p=="top"&&k!=h&&(g.top=g.top+h-k,f=!0),p=="bottom"||p=="top"?(q=0,g.left<0&&(q=g.left*-2,g.left=0,j.offset(g),m=j[0].offsetWidth,k=j[0].offsetHeight),this.replaceArrow(q-l+m,m,"left")):this.replaceArrow(k-h,k,"top"),f&&j.offset(g)},replaceArrow:function(f,h,g){this.arrow().css(g,f?50*(1-f/h)+"%":"")},setContent:function(){var f=this.tip(),g=this.getTitle();f.find(".tooltip-inner")[this.options.html?"html":"text"](g),f.removeClass("fade in top bottom left right")},hide:function(){function f(){var i=setTimeout(function(){g.off(a.support.transition.end).detach()},500);g.one(a.support.transition.end,function(){clearTimeout(i),g.detach()})}var j=this,g=this.tip(),h=a.Event("hide");this.$element.trigger(h);if(h.isDefaultPrevented()){return}return g.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f():g.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var f=this.$element;(f.attr("title")||typeof f.attr("data-original-title")!="string")&&f.attr("data-original-title",f.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var f=this.$element[0];return a.extend({},typeof f.getBoundingClientRect=="function"?f.getBoundingClientRect():{width:f.offsetWidth,height:f.offsetHeight},this.$element.offset())},getTitle:function(){var f,h=this.$element,g=this.options;return f=h.attr("data-original-title")||(typeof g.title=="function"?g.title.call(h[0]):g.title),f},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(g){var f=g?a(g.currentTarget)[this.type](this._options).data(this.type):this;f.tip().hasClass("in")?f.hide():f.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var b=a.fn.tooltip;a.fn.tooltip=function(f){return this.each(function(){var h=a(this),g=h.data("tooltip"),j=typeof f=="object"&&f;g||h.data("tooltip",g=new d(this,j)),typeof f=="string"&&g[f]()})},a.fn.tooltip.Constructor=d,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=b,this}}(window.jQuery),!function(a){var d=function(f,g){this.init("popover",f,g)};d.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:d,setContent:function(){var f=this.tip(),h=this.getTitle(),g=this.getContent();f.find(".popover-title")[this.options.html?"html":"text"](h),f.find(".popover-content")[this.options.html?"html":"text"](g),f.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var f,h=this.$element,g=this.options;return f=(typeof g.content=="function"?g.content.call(h[0]):g.content)||h.attr("data-content"),f},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var b=a.fn.popover;a.fn.popover=function(f){return this.each(function(){var h=a(this),g=h.data("popover"),j=typeof f=="object"&&f;g||h.data("popover",g=new d(this,j)),typeof f=="string"&&g[f]()})},a.fn.popover.Constructor=d,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.fn.popover.noConflict=function(){return a.fn.popover=b,this}}(window.jQuery),!function(a){function d(k,g){var h=a.proxy(this.process,this),f=a(k).is("body")?a(window):a(k),j;this.options=a.extend({},a.fn.scrollspy.defaults,g),this.$scrollElement=f.on("scroll.scroll-spy.data-api",h),this.selector=(this.options.target||(j=a(k).attr("href"))&&j.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}d.prototype={constructor:d,refresh:function(){var g=this,f;this.offsets=a([]),this.targets=a([]),f=this.$body.find(this.selector).map(function(){var j=a(this),k=j.data("target")||j.attr("href"),h=/^#\w/.test(k)&&a(k);return h&&h.length&&[[h.position().top+(!a.isWindow(g.$scrollElement.get(0))&&g.$scrollElement.scrollTop()),k]]||null}).sort(function(h,i){return h[0]-i[0]}).each(function(){g.offsets.push(this[0]),g.targets.push(this[1])})},process:function(){var f=this.$scrollElement.scrollTop()+this.options.offset,m=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,h=m-this.$scrollElement.height(),k=this.offsets,g=this.targets,l=this.activeTarget,j;if(f>=h){return l!=(j=g.last()[0])&&this.activate(j)}for(j=k.length;j--;){l!=g[j]&&f>=k[j]&&(!k[j+1]||f<=k[j+1])&&this.activate(g[j])}},activate:function(h){var f,g;this.activeTarget=h,a(this.selector).parent(".active").removeClass("active"),g=this.selector+'[data-target="'+h+'"],'+this.selector+'[href="'+h+'"]',f=a(g).parent("li").addClass("active"),f.parent(".dropdown-menu").length&&(f=f.closest("li.dropdown").addClass("active")),f.trigger("activate")}};var b=a.fn.scrollspy;a.fn.scrollspy=function(f){return this.each(function(){var h=a(this),g=h.data("scrollspy"),j=typeof f=="object"&&f;g||h.data("scrollspy",g=new d(this,j)),typeof f=="string"&&g[f]()})},a.fn.scrollspy.Constructor=d,a.fn.scrollspy.defaults={offset:10},a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=b,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var f=a(this);f.scrollspy(f.data())})})}(window.jQuery),!function(a){var d=function(f){this.element=a(f)};d.prototype={constructor:d,show:function(){var l=this.element,g=l.closest("ul:not(.dropdown-menu)"),j=l.attr("data-target"),f,k,h;j||(j=l.attr("href"),j=j&&j.replace(/.*(?=#[^\s]*$)/,""));if(l.parent("li").hasClass("active")){return}f=g.find(".active:last a")[0],h=a.Event("show",{relatedTarget:f}),l.trigger(h);if(h.isDefaultPrevented()){return}k=a(j),this.activate(l.parent("li"),g),this.activate(k,k.parent(),function(){l.trigger({type:"shown",relatedTarget:f})})},activate:function(l,g,j){function h(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),l.addClass("active"),k?(l[0].offsetWidth,l.addClass("in")):l.removeClass("fade"),l.parent(".dropdown-menu")&&l.closest("li.dropdown").addClass("active"),j&&j()}var f=g.find("> .active"),k=j&&a.support.transition&&f.hasClass("fade");k?f.one(a.support.transition.end,h):h(),f.removeClass("in")}};var b=a.fn.tab;a.fn.tab=function(f){return this.each(function(){var h=a(this),g=h.data("tab");g||h.data("tab",g=new d(this)),typeof f=="string"&&g[f]()})},a.fn.tab.Constructor=d,a.fn.tab.noConflict=function(){return a.fn.tab=b,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(f){f.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){var d=function(g,f){this.$element=a(g),this.options=a.extend({},a.fn.typeahead.defaults,f),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};d.prototype={constructor:d,select:function(){var f=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(f)).change(),this.hide()},updater:function(f){return f},show:function(){var f=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:f.top+f.height,left:f.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(g){var f;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(f=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,f?this.process(f):this)},process:function(g){var f=this;return g=a.grep(g,function(h){return f.matcher(h)}),g=this.sorter(g),g.length?this.render(g.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(f){return ~f.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(f){var k=[],h=[],j=[],g;while(g=f.shift()){g.toLowerCase().indexOf(this.query.toLowerCase())?~g.indexOf(this.query)?h.push(g):j.push(g):k.push(g)}return k.concat(h,j)},highlighter:function(f){var g=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return f.replace(new RegExp("("+g+")","ig"),function(h,i){return"<strong>"+i+"</strong>"})},render:function(g){var f=this;return g=a(g).map(function(i,h){return i=a(f.options.item).attr("data-value",h),i.find("a").html(f.highlighter(h)),i[0]}),g.first().addClass("active"),this.$menu.html(g),this},next:function(h){var f=this.$menu.find(".active").removeClass("active"),g=f.next();g.length||(g=a(this.$menu.find("li")[0])),g.addClass("active")},prev:function(f){var h=this.$menu.find(".active").removeClass("active"),g=h.prev();g.length||(g=this.$menu.find("li").last()),g.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(f){var g=f in this.$element;return g||(this.$element.setAttribute(f,"return;"),g=typeof this.$element[f]=="function"),g},move:function(f){if(!this.shown){return}switch(f.keyCode){case 9:case 13:case 27:f.preventDefault();break;case 38:f.preventDefault(),this.prev();break;case 40:f.preventDefault(),this.next()}f.stopPropagation()},keydown:function(f){this.suppressKeyPressRepeat=~a.inArray(f.keyCode,[40,38,9,13,27]),this.move(f)},keypress:function(f){if(this.suppressKeyPressRepeat){return}this.move(f)},keyup:function(f){switch(f.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}f.stopPropagation(),f.preventDefault()},focus:function(f){this.focused=!0},blur:function(f){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(f){f.stopPropagation(),f.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(f){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(f.currentTarget).addClass("active")},mouseleave:function(f){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var b=a.fn.typeahead;a.fn.typeahead=function(f){return this.each(function(){var h=a(this),g=h.data("typeahead"),j=typeof f=="object"&&f;g||h.data("typeahead",g=new d(this,j)),typeof f=="string"&&g[f]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=d,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=b,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(g){var f=a(this);if(f.data("typeahead")){return}f.typeahead(f.data())})}(window.jQuery),!function(a){var d=function(g,f){this.options=a.extend({},a.fn.affix.defaults,f),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(g),this.checkPosition()};d.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var m=a(document).height(),h=this.$window.scrollTop(),k=this.$element.offset(),g=this.options.offset,l=g.bottom,j=g.top,p="affix affix-top affix-bottom",f;typeof g!="object"&&(l=j=g),typeof j=="function"&&(j=g.top()),typeof l=="function"&&(l=g.bottom()),f=this.unpin!=null&&h+this.unpin<=k.top?!1:l!=null&&k.top+this.$element.height()>=m-l?"bottom":j!=null&&h<=j?"top":!1;if(this.affixed===f){return}this.affixed=f,this.unpin=f=="bottom"?k.top-h:null,this.$element.removeClass(p).addClass("affix"+(f?"-"+f:""))};var b=a.fn.affix;a.fn.affix=function(f){return this.each(function(){var h=a(this),g=h.data("affix"),j=typeof f=="object"&&f;g||h.data("affix",g=new d(this,j)),typeof f=="string"&&g[f]()})},a.fn.affix.Constructor=d,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=b,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var g=a(this),f=g.data();f.offset=f.offset||{},f.offsetBottom&&(f.offset.bottom=f.offsetBottom),f.offsetTop&&(f.offset.top=f.offsetTop),g.affix(f)})})}(window.jQuery);(function(a){a._jqPlugCore=function(){return true};a.uniqId=function(){var b=new Date();return b.getTime()};a.stringFormat=function(d,b){if(d&&a.isArray(b)){return d.replace(/\{([0-9]+)\}/g,function(f,g){return b[g]})}throw"Invalid parameters"};a.createScriptTag=function(d){var b='<script src="{0}" type="text/javascript" ></script>';return a.stringFormat(b,[d])};a.debouncer=function(b,d){var f,d=d||200;return function(){var h=this,g=arguments;clearTimeout(f);f=setTimeout(function(){b.apply(h,Array.prototype.slice.call(g))},d)}};a.toNodeArray=function(d){var b=[];Array.prototype.forEach.call(d,function(f){b.push(f)});return b};a.hasClass=function(d,b){if(!d){return false}var f=new RegExp("(^|\\s)"+b+"(\\s|$)");return f.test(d.className)};a.addClass=function(f,b){if(f){if(!a.isArray(f)){f=[].concat(f)}for(var g=0,d;d=f[g++];){if(d&&!a.hasClass(d,b)){d.className+=" "+b}}}};a.removeClass=function(f,b){if(f){var h=new RegExp("(^|\\s)"+b+"(\\s|$)");if(!a.isArray(f)){f=[].concat(f)}for(var g=0,d;d=f[g++];){if(d){d.className=d.className.replace(h," ")}}}};a.remove=function(d){if(!a.isArray(d)){d=[].concat(d)}for(var f=0,b;b=d[f++];){b.parentNode.removeChild(b)}};a.attribute=function(d,k){if(k){var g=(typeof k==="string"?false:true);if(!a.isArray(d)){d=[].concat(d)}if(g){for(var f=0,b;b=d[f++];){for(var h in k){b.setAttribute(h,k[h])}}}else{return d[0].getAttribute(k)}}}})(jQuery);if(!$.isFunction($._jqPlugCore)){throw"jquery.jqplug-core.js is required for jqplug plugins"}var ajaxEventsNamespace="ovrlyEvent";var ovrly=function(){var a=[],b='<div id="{0}" class="ovrly-bg" style="background-color:#000; z-index: {1};" ></div>',f=1001,d={opacity:"0.6",top:null,left:null,border:"1px solid black"};return{cacheCount:function(){return a.length},newCache:function(g){a.push(g);return a.length},updateCacheByIndex:function(g,h){a[g-1]=h},cacheByIndex:function(g){return a[g-1]},resetCache:function(){a=[]},styleCheck:function(){var g='<style id="ovrlyStyle" type="text/css">div.ovrly-bg{position:fixed;left:0;right:0;top:0;bottom:0;background-color:#000;opacity:0.4;filter:alpha(opacity=40);display:none;overflow:hidden;}.ovrly-box{position:fixed;display:none;}html.o-bg-no-scroll, body.o-bg-no-scroll{overflow:hidden !important;}</style>';if(!document.getElementById("ovrlyStyle")){$(g).appendTo($("head"))}},updateDefault:function(g){$.extend(d,g)},getUpdateOptions:function(g,h){return $.extend(g,d,h)},getZIndex:function(){f+=1;return f},getContStr:function(g){return $.stringFormat(b,[g,ovrly.getZIndex()])}}}();(function($){$.fn.extend({showOverlay:function(options){var $elem=this,$cont,defOpts={data:null,onOpen:null,closeOnEsc:false,removeOnClose:false,onBeforeClose:null,onClose:null,focusOnClose:null,isChange:false},opts=ovrly.getUpdateOptions(defOpts,options),contId;if($elem.length===0){throw"element not present to be set as overlay"}if($elem.length>1){throw"only one element can be set as overlay"}$elem.appendTo("body");var $currCntnt=$(".ovrly-box.jqtoc"),$ovrlyBg=$(".ovrly-bg");if(opts.isChange){if($currCntnt.length===0&&$ovrlyBg.length===0){opts.isChange=false}}ovrly.styleCheck();$currCntnt.removeClass("jqtoc");if(opts.isChange){contId=$currCntnt.attr("cont-id");$currCntnt.removeClass("jqtoc").fadeOut(200);$elem.attr("cont-id",contId)}else{$elem._setBackground()}$elem._setContent(opts)._popup(opts.onOpen,opts.isChange,opts.data);if(opts.closeOnEsc){$(document).unbind(".overlayEvents").bind("keyup.overlayEvents",function(e){var $ovrPopup=$(".ovrly-box.jqtoc"),opts=ovrly.cacheByIndex($ovrPopup.attr("obj-id"));if(e.keyCode===27){if(opts.closeOnEsc){$ovrPopup.hideOverlay()}}})}$(window).unbind(".overlayEvents").bind("resize.overlayEvents",$.debouncer(function(){$(".ovrly-box.jqtoc").popupPosit()}))},popupPosit:function(elemWidth,elemHeight){var $elem=this,id=$elem.attr("cont-id"),winWidth=$(window).width(),winHeight=$(window).height(),computedElemStyle=window.getComputedStyle($elem[0],null),pdLft=parseInt(computedElemStyle.getPropertyValue("padding-left")),pdRgt=parseInt(computedElemStyle.getPropertyValue("padding-right")),pdTop=parseInt(computedElemStyle.getPropertyValue("padding-top")),pdBtm=parseInt(computedElemStyle.getPropertyValue("padding-bottom")),left,top;if(!elemWidth){elemWidth=$elem.width()}if(!elemHeight){elemHeight=$elem.height()}left=(winWidth-elemWidth-pdLft-pdRgt)/2;top=(winHeight-elemHeight-pdTop-pdBtm)/2;$elem.css({top:top,left:left});return $elem},_setBackground:function(){var $elem=this,contId=$elem.attr("cont-id"),$cont=$("#"+contId);if($cont.length===0){contId=$.uniqId();$cont=$(ovrly.getContStr(contId)).appendTo("body");$("body, html").addClass("o-bg-no-scroll");$elem.attr("cont-id",contId)}return $elem},_setContent:function(opts){var $elem=this,cacheLen,ind;if(!$elem.attr("ovrly-box")){$elem.addClass("ovrly-box jqtoc"+(opts.removeOnClose?" jqroc":"")).css({"z-index":ovrly.getZIndex()});$("a.o-close",$elem).unbind(".overlayEvents").bind("click.overlayEvents",function(e){$(this).closest(".ovrly-box.jqtoc").hideOverlay();e.stopPropagation();e.preventDefault()});if(!opts.focusOnClose){opts.focusOnClose=$("*:focus")}cacheLen=ovrly.newCache({data:opts.data,closeOnEsc:opts.closeOnEsc,onBeforeClose:opts.onBeforeClose,onClose:opts.onClose,currFocus:opts.focusOnClose});$elem.attr("obj-id",cacheLen)}else{if(!opts.focusOnClose){opts.focusOnClose=$("*:focus")}ind=$elem.attr("obj-id");ovrly.updateCacheByIndex(ind,{data:opts.data,closeOnEsc:opts.closeOnEsc,onBeforeClose:opts.onBeforeClose,onClose:opts.onClose,currFocus:opts.focusOnClose});$elem.addClass("jqtoc")}return $elem},_popup:function(onOpen,isChange,data){var $elem=this;if(!isChange){$("#"+$elem.attr("cont-id")).fadeIn(100)}$elem.popupPosit().delay(150).fadeIn(200,function(){$(this)._setFocus();if(onOpen){if(typeof(onOpen)==="function"){onOpen(data)}else{if(ajaxEventsNamespace){eval(ajaxEventsNamespace+'["'+onOpen+'"]('+data+")")}}}});return $elem},_setFocus:function(){var $this=this,$focElem=$(".jq-o-focus",$this),$focusableElements=$('a[href][tabindex!="-1"], area[href][tabindex!="-1"], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe[tabindex!="-1"], object[tabindex!="-1"], embed[tabindex!="-1"], *[tabindex][tabindex!="-1"], *[contenteditable][tabindex!="-1"]');if($focElem.length>0){$focElem.first().focus()}else{$("input:first",$this).focus()}$focusableElements.addClass("jqNFE").attr("tabindex",-1);$this.find(".jqNFE").removeClass("jqNFE").removeAttr("tabindex")},_canFocus:function(){return !this.hasClass("jqNFE")},realignOverlay:function(){if(this.isOverlay()){this.popupPosit()}else{this.closest(".ovrly-box.jqtoc").popupPosit()}},_cleanOverlayContents:function($elems){this.each(function(){var $this=$(this);if($this.hasClass("jqroc")){$this.remove()}else{$this.removeAttr("cont-id obj-id").removeClass("ovrly-box jqtoc")}});if(document.getElementsByClassName("ovrly-bg").length===0){$("body, html").removeClass("o-bg-no-scroll")}},hideOverlay:function(goPrevScrn,onReopen){var $elem=this,clearEvents=true,$prevContent=[],cacheInd,opts,ret,newObjId,contId,ovrlyCount;if($elem.hasClass("ovrly-box")&&$elem.hasClass("jqtoc")){cacheInd=$elem.attr("obj-id");opts=ovrly.cacheByIndex(cacheInd);if(!opts){throw"cache index not set at overlay initialization"}if(opts.onBeforeClose){if(typeof opts.onBeforeClose==="function"){ret=opts.onBeforeClose(opts.data)}else{if(ajaxEventsNamespace){eval(ajaxEventsNamespace+'["'+opts.onBeforeClose+'"]('+opts.data+")")}}}if(typeof ret=="undefined"){ret=true}if(ret){contId=$elem.attr("cont-id");$elem.removeClass("jqtoc").fadeOut(200,function(){var elem;if(!(opts.currFocus instanceof jQuery)){opts.currFocus=$(opts.currFocus)}if(opts.currFocus.length>0){elem=opts.currFocus.get(0);if(elem.focus()==true&&elem.style.visibility!="hidden"&&elem.style.display!="none"&&elem.disabled!=true){opts.currFocus.focus()}}if(opts.onClose){if(typeof opts.onClose==="function"){opts.onClose(opts.data)}else{if(ajaxEventsNamespace){eval(ajaxEventsNamespace+'["'+opts.onClose+'"]('+opts.data+")")}}}});if(goPrevScrn){newObjId=cacheInd;if(typeof(goPrevScrn)==="string"){$prevContent=$(document.querySelector(goPrevScrn));if(!$prevContent){throw"no overlay element present with selector "+goPrevScrn}if(!$prevContent.hasClass("ovrly-box")||$prevContent.attr("cont-id")!==contId){throw"provided element is not part of this overlay container"}newObjId=$prevContent.attr("obj-id")}else{while(newObjId&&$prevContent.length===0){newObjId-=1;$prevContent=$('.ovrly-box[cont-id="'+contId+'"][obj-id="'+newObjId+'"]:not(.jqsoc)')}if(!newObjId){throw"Previous element not found"}}if(!newObjId||$prevContent.length===0){goPrevScrn=false}}if(!goPrevScrn){newObjId=cacheInd;$("#"+contId).fadeOut(300,function(){$(this).remove();$(".jqNFE").removeClass("jqNFE").removeAttr("tabindex");if(onReopen&&typeof onReopen==="function"){onReopen(opts.data)}while(newObjId&&$prevContent.length===0){newObjId-=1;$prevContent=$('.ovrly-box[cont-id="'+contId+'"][obj-id="'+newObjId+'"]:not(.jqsoc)')}if($prevContent){$prevContent.addClass("jqtoc")}$('.ovrly-box[cont-id="'+contId+'"]')._cleanOverlayContents()})}if(goPrevScrn){$prevContent.addClass("jqtoc");clearEvents=false;$prevContent.delay(150).fadeIn(200,function(){$(this)._setFocus();if(onReopen&&typeof onReopen==="function"){onReopen(opts.data)}})}else{ovrlyCount=$('.ovrly-box[cont-id!="'+contId+'"]').length;if(ovrlyCount){do{$prevContent=$('.ovrly-box[obj-id="'+newObjId+'"][cont-id!="'+contId+'"]');if($prevContent.length>0){clearEvents=false;$prevContent.addClass("jqtoc")}else{newObjId-=1}}while($prevContent.length===0&&newObjId)}}if(clearEvents){$(document).unbind(".overlayEvents");$(window).unbind(".overlayEvents");ovrly.resetCache()}}$._removeUnusedOverlay()}},hideParentOverlay:function(screen,onReopen){this.closest(".ovrly-box.jqtoc").hideOverlay(screen,onReopen)},isOverlay:function(){return this.is(".ovrly-box,.jqtoc")}});$.overlayDefault=function(options){ovrly.updateDefault(options)};$.hideOverlay=function(){do{$(".ovrly-box.jqtoc").hideOverlay()}while($(".ovrly-box.jqtoc").length>0)};$._removeUnusedOverlay=function(){var $cntnts=$(".ovrly-box"),$filteredCntnts;$(".ovrly-bg").each(function(i,v){$filteredCntnts=$cntnts.filter('[cont-id="'+v.id+'"]');if($filteredCntnts.length===0||!($filteredCntnts.hasClass("jqtoc")&&$filteredCntnts.is(":visible"))){$filteredCntnts._cleanOverlayContents();$(v).remove()}})}})(jQuery);(function e(h,b,f){function g(m,n){if(!b[m]){if(!h[m]){var i=typeof require=="function"&&require;if(!n&&i){return i(m,!0)}if(a){return a(m,!0)}var j=new Error("Cannot find module '"+m+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[m]={exports:{}};h[m][0].call(k.exports,function(l){var o=h[m][1][l];return g(o?o:l)},k,k.exports,e,h,b,f)}return b[m].exports}var a=typeof require=="function"&&require;for(var d=0;d<f.length;d++){g(f[d])}return g})({1:[function(m,j,f){var a,b,d,i,l,n,k,g=function(o,s){for(var q in s){if(h.call(s,q)){o[q]=s[q]}}function p(){this.constructor=o}p.prototype=s.prototype;o.prototype=new p();o.__super__=s.prototype;return o},h={}.hasOwnProperty;k=m("./node");l=k.Position;a=jQuery;b=(function(){function o(p){this.tree_widget=p;this.hovered_area=null;this.$ghost=null;this.hit_areas=[];this.is_dragging=false;this.current_item=null}o.prototype.mouseCapture=function(s){var p,q;p=a(s.target);if(!this.mustCaptureElement(p)){return null}if(this.tree_widget.options.onIsMoveHandle&&!this.tree_widget.options.onIsMoveHandle(p)){return null}q=this.tree_widget._getNodeElement(p);if(q&&this.tree_widget.options.onCanMove){if(!this.tree_widget.options.onCanMove(q.node)){q=null}}this.current_item=q;return this.current_item!==null};o.prototype.mouseStart=function(q){var p;this.refresh();p=a(q.target).offset();this.drag_element=new d(this.current_item.node,q.page_x-p.left,q.page_y-p.top,this.tree_widget.element);this.is_dragging=true;this.current_item.$element.addClass("jqtree-moving");return true};o.prototype.mouseDrag=function(s){var p,q;this.drag_element.move(s.page_x,s.page_y);p=this.findHoveredArea(s.page_x,s.page_y);q=this.canMoveToArea(p);if(q&&p){if(!p.node.isFolder()){this.stopOpenFolderTimer()}if(this.hovered_area!==p){this.hovered_area=p;if(this.mustOpenFolderTimer(p)){this.startOpenFolderTimer(p.node)}else{this.stopOpenFolderTimer()}this.updateDropHint()}}else{this.removeHover();this.removeDropHint();this.stopOpenFolderTimer()}if(!p){if(this.tree_widget.options.onDragMove!=null){this.tree_widget.options.onDragMove(this.current_item.node,s.original_event)}}return true};o.prototype.mustCaptureElement=function(p){return !p.is("input,select")};o.prototype.canMoveToArea=function(p){var q;if(!p){return false}else{if(this.tree_widget.options.onCanMoveTo){q=l.getName(p.position);return this.tree_widget.options.onCanMoveTo(this.current_item.node,p.node,q)}else{return true}}};o.prototype.mouseStop=function(q){var p;this.moveItem(q);this.clear();this.removeHover();this.removeDropHint();this.removeHitAreas();p=this.current_item;if(this.current_item){this.current_item.$element.removeClass("jqtree-moving");this.current_item=null}this.is_dragging=false;if(!this.hovered_area&&p){if(this.tree_widget.options.onDragStop!=null){this.tree_widget.options.onDragStop(p.node,q.original_event)}}return false};o.prototype.refresh=function(){this.removeHitAreas();if(this.current_item){this.generateHitAreas();this.current_item=this.tree_widget._getNodeElementForNode(this.current_item.node);if(this.is_dragging){return this.current_item.$element.addClass("jqtree-moving")}}};o.prototype.removeHitAreas=function(){return this.hit_areas=[]};o.prototype.clear=function(){this.drag_element.remove();return this.drag_element=null};o.prototype.removeDropHint=function(){if(this.previous_ghost){return this.previous_ghost.remove()}};o.prototype.removeHover=function(){return this.hovered_area=null};o.prototype.generateHitAreas=function(){var p;p=new i(this.tree_widget.tree,this.current_item.node,this.getTreeDimensions().bottom);return this.hit_areas=p.generate()};o.prototype.findHoveredArea=function(v,w){var p,q,s,t,u;q=this.getTreeDimensions();if(v<q.left||w<q.top||v>q.right||w>q.bottom){return null}t=0;s=this.hit_areas.length;while(t<s){u=(t+s)>>1;p=this.hit_areas[u];if(w<p.top){s=u}else{if(w>p.bottom){t=u+1}else{return p}}}return null};o.prototype.mustOpenFolderTimer=function(p){var q;q=p.node;return q.isFolder()&&!q.is_open&&p.position===l.INSIDE};o.prototype.updateDropHint=function(){var p;if(!this.hovered_area){return}this.removeDropHint();p=this.tree_widget._getNodeElementForNode(this.hovered_area.node);return this.previous_ghost=p.addDropHint(this.hovered_area.position)};o.prototype.startOpenFolderTimer=function(p){var q;q=(function(s){return function(){return s.tree_widget._openNode(p,s.tree_widget.options.slide,function(){s.refresh();return s.updateDropHint()})}})(this);this.stopOpenFolderTimer();return this.open_folder_timer=setTimeout(q,this.tree_widget.options.openFolderDelay)};o.prototype.stopOpenFolderTimer=function(){if(this.open_folder_timer){clearTimeout(this.open_folder_timer);return this.open_folder_timer=null}};o.prototype.moveItem=function(u){var p,q,s,t,v,w;if(this.hovered_area&&this.hovered_area.position!==l.NONE&&this.canMoveToArea(this.hovered_area)){s=this.current_item.node;w=this.hovered_area.node;t=this.hovered_area.position;v=s.parent;if(t===l.INSIDE){this.hovered_area.node.is_open=true}p=(function(x){return function(){x.tree_widget.tree.moveNode(s,w,t);x.tree_widget.element.empty();return x.tree_widget._refreshElements()}})(this);q=this.tree_widget._triggerEvent("tree.move",{move_info:{moved_node:s,target_node:w,position:l.getName(t),previous_parent:v,do_move:p,original_event:u.original_event}});if(!q.isDefaultPrevented()){return p()}}};o.prototype.getTreeDimensions=function(){var p;p=this.tree_widget.element.offset();return{left:p.left,top:p.top,right:p.left+this.tree_widget.element.width(),bottom:p.top+this.tree_widget.element.height()+16}};return o})();n=(function(){function o(p){this.tree=p}o.prototype.iterate=function(){var p,q;q=true;p=(function(s){return function(B,A){var t,u,v,w,x,y,z,C;z=(B.is_open||!B.element)&&B.hasChildren();if(B.element){t=a(B.element);if(!t.is(":visible")){return}if(q){s.handleFirstNode(B,t);q=false}if(!B.hasChildren()){s.handleNode(B,A,t)}else{if(B.is_open){if(!s.handleOpenFolder(B,t)){z=false}}else{s.handleClosedFolder(B,A,t)}}}if(z){v=B.children.length;C=B.children;for(w=x=0,y=C.length;x<y;w=++x){u=C[w];if(w===(v-1)){p(B.children[w],null)}else{p(B.children[w],B.children[w+1])}}if(B.is_open){return s.handleAfterOpenFolder(B,A,t)}}}})(this);return p(this.tree,null)};o.prototype.handleNode=function(s,q,p){};o.prototype.handleOpenFolder=function(q,p){};o.prototype.handleClosedFolder=function(s,q,p){};o.prototype.handleAfterOpenFolder=function(s,q,p){};o.prototype.handleFirstNode=function(q,p){};return o})();i=(function(p){g(o,p);function o(s,q,t){o.__super__.constructor.call(this,s);this.current_node=q;this.tree_bottom=t}o.prototype.generate=function(){this.positions=[];this.last_top=0;this.iterate();return this.generateHitAreas(this.positions)};o.prototype.getTop=function(q){return q.offset().top};o.prototype.addPosition=function(s,t,u){var q;q={top:u,node:s,position:t};this.positions.push(q);return this.last_top=u};o.prototype.handleNode=function(t,s,q){var u;u=this.getTop(q);if(t===this.current_node){this.addPosition(t,l.NONE,u)}else{this.addPosition(t,l.INSIDE,u)}if(s===this.current_node||t===this.current_node){return this.addPosition(t,l.NONE,u)}else{return this.addPosition(t,l.AFTER,u)}};o.prototype.handleOpenFolder=function(s,q){if(s===this.current_node){return false}if(s.children[0]!==this.current_node){this.addPosition(s,l.INSIDE,this.getTop(q))}return true};o.prototype.handleClosedFolder=function(t,s,q){var u;u=this.getTop(q);if(t===this.current_node){return this.addPosition(t,l.NONE,u)}else{this.addPosition(t,l.INSIDE,u);if(s!==this.current_node){return this.addPosition(t,l.AFTER,u)}}};o.prototype.handleFirstNode=function(s,q){if(s!==this.current_node){return this.addPosition(s,l.BEFORE,this.getTop(a(s.element)))}};o.prototype.handleAfterOpenFolder=function(t,s,q){if(t===this.current_node.node||s===this.current_node.node){return this.addPosition(t,l.NONE,this.last_top)}else{return this.addPosition(t,l.AFTER,this.last_top)}};o.prototype.generateHitAreas=function(w){var q,s,t,u,v,x;x=-1;q=[];s=[];for(t=0,u=w.length;t<u;t++){v=w[t];if(v.top!==x&&q.length){if(q.length){this.generateHitAreasForGroup(s,q,x,v.top)}x=v.top;q=[]}q.push(v)}this.generateHitAreasForGroup(s,q,x,this.tree_bottom);return s};o.prototype.generateHitAreasForGroup=function(u,y,z,t){var q,s,v,w,x;x=Math.min(y.length,4);q=Math.round((t-z)/x);s=z;v=0;while(v<x){w=y[v];u.push({top:s,bottom:s+q,node:w.node,position:w.position});s+=q;v+=1}return null};return o})(n);d=(function(){function o(q,s,t,p){this.offset_x=s;this.offset_y=t;this.$element=a('<span class="jqtree-title jqtree-dragging">'+q.name+"</span>");this.$element.css("position","absolute");p.append(this.$element)}o.prototype.move=function(p,q){return this.$element.offset({left:p-this.offset_x,top:q-this.offset_y})};o.prototype.remove=function(){return this.$element.remove()};return o})();j.exports={DragAndDropHandler:b,DragElement:d,HitAreasGenerator:i}},{"./node":5}],2:[function(j,g,d){var a,b,i,f,h,k;h=j("./node_element");i=h.NodeElement;k=j("./util");f=k.html_escape;a=jQuery;b=(function(){function l(m){this.tree_widget=m;this.opened_icon_element=this.createButtonElement(m.options.openedIcon);this.closed_icon_element=this.createButtonElement(m.options.closedIcon)}l.prototype.render=function(m){if(m&&m.parent){return this.renderFromNode(m)}else{return this.renderFromRoot()}};l.prototype.renderFromRoot=function(){var m;m=this.tree_widget.element;m.empty();return this.createDomElements(m[0],this.tree_widget.tree.children,true,true,1)};l.prototype.renderFromNode=function(o){var m,n;m=a(o.element);n=this.createLi(o);this.attachNodeData(o,n);m.after(n);m.remove();if(o.children){return this.createDomElements(n,o.children,false,false,o.getLevel())}};l.prototype.createDomElements=function(o,n,s,q,u){var m,p,t,v,w;w=this.createUl(s);o.appendChild(w);for(p=0,t=n.length;p<t;p++){m=n[p];v=this.createLi(m,u);w.appendChild(v);this.attachNodeData(m,v);if(m.hasChildren()){this.createDomElements(v,m.children,false,m.is_open,u+1)}}return null};l.prototype.attachNodeData=function(n,m){n.element=m;return a(m).data("node",n)};l.prototype.createUl=function(n){var m,o,p;if(!n){m="";o="group"}else{m="jqtree-tree";o="tree";if(this.tree_widget.options.rtl){m+=" jqtree-rtl"}}p=document.createElement("ul");p.className="jqtree_common "+m;p.setAttribute("role",o);return p};l.prototype.createLi=function(p,n){var m,o;m=this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(p);if(p.isFolder()){o=this.createFolderLi(p,n,m)}else{o=this.createNodeLi(p,n,m)}if(this.tree_widget.options.onCreateLi){this.tree_widget.options.onCreateLi(p,a(o))}return o};l.prototype.createFolderLi=function(w,u,t){var m,n,o,p,q,s,v;m=this.getButtonClasses(w);p=this.getFolderClasses(w,t);if(w.is_open){q=this.opened_icon_element}else{q=this.closed_icon_element}v=document.createElement("li");v.className="jqtree_common "+p;v.setAttribute("role","presentation");o=document.createElement("div");o.className="jqtree-element jqtree_common";o.setAttribute("role","presentation");v.appendChild(o);n=document.createElement("a");n.className=m;n.appendChild(q.cloneNode(false));n.setAttribute("role","presentation");n.setAttribute("aria-hidden","true");if(this.tree_widget.options.buttonLeft){o.appendChild(n)}o.appendChild(this.createTitleSpan(w.name,u,t,w.is_open,s=true));if(!this.tree_widget.options.buttonLeft){o.appendChild(n)}return v};l.prototype.createNodeLi=function(u,q,p){var m,n,o,s,t;t=["jqtree_common"];if(p){t.push("jqtree-selected")}m=t.join(" ");s=document.createElement("li");s.className=m;s.setAttribute("role","presentation");n=document.createElement("div");n.className="jqtree-element jqtree_common";n.setAttribute("role","presentation");s.appendChild(n);n.appendChild(this.createTitleSpan(u.name,q,p,u.is_open,o=false));return s};l.prototype.createTitleSpan=function(s,q,p,o,n){var m,t;t=document.createElement("span");m="jqtree-title jqtree_common";if(n){m+=" jqtree-title-folder"}t.className=m;t.setAttribute("role","treeitem");t.setAttribute("aria-level",q);t.setAttribute("aria-selected",k.getBoolString(p));t.setAttribute("aria-expanded",k.getBoolString(o));if(p){t.setAttribute("tabindex",0)}t.innerHTML=this.escapeIfNecessary(s);return t};l.prototype.getButtonClasses=function(n){var m;m=["jqtree-toggler","jqtree_common"];if(!n.is_open){m.push("jqtree-closed")}if(this.tree_widget.options.buttonLeft){m.push("jqtree-toggler-left")}else{m.push("jqtree-toggler-right")}return m.join(" ")};l.prototype.getFolderClasses=function(o,n){var m;m=["jqtree-folder"];if(!o.is_open){m.push("jqtree-closed")}if(n){m.push("jqtree-selected")}if(o.is_loading){m.push("jqtree-loading")}return m.join(" ")};l.prototype.escapeIfNecessary=function(m){if(this.tree_widget.options.autoEscape){return f(m)}else{return m}};l.prototype.createButtonElement=function(n){var m;if(typeof n==="string"){m=document.createElement("div");m.innerHTML=n;return document.createTextNode(m.innerHTML)}else{return a(n)[0]}};return l})();g.exports=b},{"./node_element":6,"./util":12}],3:[function(h,g,d){var a,f,b=function(i,j){return function(){return i.apply(j,arguments)}};a=jQuery;f=(function(){var i,k,l,m;k=37;m=38;l=39;i=40;function j(n){this.selectNode=b(this.selectNode,this);this.tree_widget=n;if(n.options.keyboardSupport){a(document).bind("keydown.jqtree",a.proxy(this.handleKeyDown,this))}}j.prototype.deinit=function(){return a(document).unbind("keydown.jqtree")};j.prototype.moveDown=function(){var n;n=this.tree_widget.getSelectedNode();if(n){return this.selectNode(n.getNextNode())}else{return false}};j.prototype.moveUp=function(){var n;n=this.tree_widget.getSelectedNode();if(n){return this.selectNode(n.getPreviousNode())}else{return false}};j.prototype.moveRight=function(){var n;n=this.tree_widget.getSelectedNode();if(!n){return true}else{if(!n.isFolder()){return true}else{if(n.is_open){return this.selectNode(n.getNextNode())}else{this.tree_widget.openNode(n);return false}}}};j.prototype.moveLeft=function(){var n;n=this.tree_widget.getSelectedNode();if(!n){return true}else{if(n.isFolder()&&n.is_open){this.tree_widget.closeNode(n);return false}else{return this.selectNode(n.getParent())}}};j.prototype.handleKeyDown=function(n){var o;if(!this.tree_widget.options.keyboardSupport){return true}if(a(document.activeElement).is("textarea,input,select")){return true}if(!this.tree_widget.getSelectedNode()){return true}o=n.which;switch(o){case i:return this.moveDown();case m:return this.moveUp();case l:return this.moveRight();case k:return this.moveLeft()}return true};j.prototype.selectNode=function(n){if(!n){return true}else{this.tree_widget.selectNode(n);if(this.tree_widget.scroll_handler&&(!this.tree_widget.scroll_handler.isScrolledIntoView(a(n.element).find(".jqtree-element")))){this.tree_widget.scrollToNode(n)}return false}};return j})();g.exports=f},{}],4:[function(i,g,b){var a,h,j,d=function(k,n){for(var m in n){if(f.call(n,m)){k[m]=n[m]}}function l(){this.constructor=k}l.prototype=n.prototype;k.prototype=new l();k.__super__=n.prototype;return k},f={}.hasOwnProperty;j=i("./simple.widget");a=jQuery;h=(function(l){d(k,l);function k(){return k.__super__.constructor.apply(this,arguments)}k.is_mouse_handled=false;k.prototype._init=function(){this.$el.bind("mousedown.mousewidget",a.proxy(this._mouseDown,this));this.$el.bind("touchstart.mousewidget",a.proxy(this._touchStart,this));this.is_mouse_started=false;this.mouse_delay=0;this._mouse_delay_timer=null;this._is_mouse_delay_met=true;return this.mouse_down_info=null};k.prototype._deinit=function(){var m;this.$el.unbind("mousedown.mousewidget");this.$el.unbind("touchstart.mousewidget");m=a(document);m.unbind("mousemove.mousewidget");return m.unbind("mouseup.mousewidget")};k.prototype._mouseDown=function(m){var n;if(m.which!==1){return}n=this._handleMouseDown(m,this._getPositionInfo(m));if(n){m.preventDefault()}return n};k.prototype._handleMouseDown=function(m,n){if(k.is_mouse_handled){return}if(this.is_mouse_started){this._handleMouseUp(n)}this.mouse_down_info=n;if(!this._mouseCapture(n)){return}this._handleStartMouse();this.is_mouse_handled=true;return true};k.prototype._handleStartMouse=function(){var m;m=a(document);m.bind("mousemove.mousewidget",a.proxy(this._mouseMove,this));m.bind("touchmove.mousewidget",a.proxy(this._touchMove,this));m.bind("mouseup.mousewidget",a.proxy(this._mouseUp,this));m.bind("touchend.mousewidget",a.proxy(this._touchEnd,this));if(this.mouse_delay){return this._startMouseDelayTimer()}};k.prototype._startMouseDelayTimer=function(){if(this._mouse_delay_timer){clearTimeout(this._mouse_delay_timer)}this._mouse_delay_timer=setTimeout((function(m){return function(){return m._is_mouse_delay_met=true}})(this),this.mouse_delay);return this._is_mouse_delay_met=false};k.prototype._mouseMove=function(m){return this._handleMouseMove(m,this._getPositionInfo(m))};k.prototype._handleMouseMove=function(m,n){if(this.is_mouse_started){this._mouseDrag(n);return m.preventDefault()}if(this.mouse_delay&&!this._is_mouse_delay_met){return true}this.is_mouse_started=this._mouseStart(this.mouse_down_info)!==false;if(this.is_mouse_started){this._mouseDrag(n)}else{this._handleMouseUp(n)}return !this.is_mouse_started};k.prototype._getPositionInfo=function(m){return{page_x:m.pageX,page_y:m.pageY,target:m.target,original_event:m}};k.prototype._mouseUp=function(m){return this._handleMouseUp(this._getPositionInfo(m))};k.prototype._handleMouseUp=function(n){var m;m=a(document);m.unbind("mousemove.mousewidget");m.unbind("touchmove.mousewidget");m.unbind("mouseup.mousewidget");m.unbind("touchend.mousewidget");if(this.is_mouse_started){this.is_mouse_started=false;this._mouseStop(n)}};k.prototype._mouseCapture=function(m){return true};k.prototype._mouseStart=function(m){return null};k.prototype._mouseDrag=function(m){return null};k.prototype._mouseStop=function(m){return null};k.prototype.setMouseDelay=function(m){return this.mouse_delay=m};k.prototype._touchStart=function(m){var n;if(m.originalEvent.touches.length>1){return}n=m.originalEvent.changedTouches[0];return this._handleMouseDown(m,this._getPositionInfo(n))};k.prototype._touchMove=function(m){var n;if(m.originalEvent.touches.length>1){return}n=m.originalEvent.changedTouches[0];return this._handleMouseMove(m,this._getPositionInfo(n))};k.prototype._touchEnd=function(m){var n;if(m.originalEvent.touches.length>1){return}n=m.originalEvent.changedTouches[0];return this._handleMouseUp(this._getPositionInfo(n))};return k})(j);g.exports=h},{"./simple.widget":10}],5:[function(h,d,b){var a,f,g;a=jQuery;g={getName:function(i){return g.strings[i-1]},nameToIndex:function(m){var k,l,n;for(k=l=1,n=g.strings.length;1<=n?l<=n:l>=n;k=1<=n?++l:--l){if(g.strings[k-1]===m){return k}}return 0}};g.BEFORE=1;g.AFTER=2;g.INSIDE=3;g.NONE=4;g.strings=["before","after","inside","none"];f=(function(){function i(l,j,k){if(j==null){j=false}if(k==null){k=i}this.name="";this.setData(l);this.children=[];this.parent=null;if(j){this.id_mapping={};this.tree=this;this.node_class=k}}i.prototype.setData=function(k){var j,l,m;l=(function(n){return function(o){if(o!==null){return n.name=o}}})(this);if(typeof k!=="object"){l(k)}else{for(j in k){m=k[j];if(j==="label"){l(m)}else{this[j]=m}}}return null};i.prototype.initFromData=function(l){var j,k;k=(function(m){return function(n){m.setData(n);if(n.children){return j(n.children)}}})(this);j=(function(m){return function(o){var n,p,q,s;for(p=0,q=o.length;p<q;p++){n=o[p];s=new m.tree.node_class("");s.initFromData(n);m.addChild(s)}return null}})(this);k(l);return null};i.prototype.loadFromData=function(k){var l,m,n,p;this.removeChildren();for(l=0,m=k.length;l<m;l++){p=k[l];n=new this.tree.node_class(p);this.addChild(n);if(typeof p==="object"&&p.children){n.loadFromData(p.children)}}return null};i.prototype.addChild=function(j){this.children.push(j);return j._setParent(this)};i.prototype.addChildAtPosition=function(k,j){this.children.splice(j,0,k);return k._setParent(this)};i.prototype._setParent=function(j){this.parent=j;this.tree=j.tree;return this.tree.addNodeToIndex(this)};i.prototype.removeChild=function(j){j.removeChildren();return this._removeChild(j)};i.prototype._removeChild=function(j){this.children.splice(this.getChildIndex(j),1);return this.tree.removeNodeFromIndex(j)};i.prototype.getChildIndex=function(j){return a.inArray(j,this.children)};i.prototype.hasChildren=function(){return this.children.length!==0};i.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand};i.prototype.iterate=function(k){var j;j=function(p,o){var l,m,n,q,s;if(p.children){q=p.children;for(m=0,n=q.length;m<n;m++){l=q[m];s=k(l,o);if(s&&l.hasChildren()){j(l,o+1)}}return null}};j(this,0);return null};i.prototype.moveNode=function(j,l,k){if(j.isParentOf(l)){return}j.parent._removeChild(j);if(k===g.AFTER){return l.parent.addChildAtPosition(j,l.parent.getChildIndex(l)+1)}else{if(k===g.BEFORE){return l.parent.addChildAtPosition(j,l.parent.getChildIndex(l))}else{if(k===g.INSIDE){return l.addChildAtPosition(j,0)}}}};i.prototype.getData=function(k){var j;if(k==null){k=false}j=function(q){var l,m,n,o,p,s,t;l=[];for(m=0,o=q.length;m<o;m++){p=q[m];s={};for(n in p){t=p[n];if((n!=="parent"&&n!=="children"&&n!=="element"&&n!=="tree")&&Object.prototype.hasOwnProperty.call(p,n)){s[n]=t}}if(p.hasChildren()){s.children=j(p.children)}l.push(s)}return l};if(k){return j([this])}else{return j(this.children)}};i.prototype.getNodeByName=function(j){var k;k=null;this.iterate(function(l){if(l.name===j){k=l;return false}else{return true}});return k};i.prototype.addAfter=function(l){var j,k;if(!this.parent){return null}else{k=new this.tree.node_class(l);j=this.parent.getChildIndex(this);this.parent.addChildAtPosition(k,j+1);return k}};i.prototype.addBefore=function(l){var j,k;if(!this.parent){return null}else{k=new this.tree.node_class(l);j=this.parent.getChildIndex(this);this.parent.addChildAtPosition(k,j);return k}};i.prototype.addParent=function(o){var k,l,m,n,p,q;if(!this.parent){return null}else{n=new this.tree.node_class(o);n._setParent(this.tree);p=this.parent;q=p.children;for(l=0,m=q.length;l<m;l++){k=q[l];n.addChild(k)}p.children=[];p.addChild(n);return n}};i.prototype.remove=function(){if(this.parent){this.parent.removeChild(this);return this.parent=null}};i.prototype.append=function(k){var j;j=new this.tree.node_class(k);this.addChild(j);return j};i.prototype.prepend=function(k){var j;j=new this.tree.node_class(k);this.addChildAtPosition(j,0);return j};i.prototype.isParentOf=function(j){var k;k=j.parent;while(k){if(k===this){return true}k=k.parent}return false};i.prototype.getLevel=function(){var j,k;j=0;k=this;while(k.parent){j+=1;k=k.parent}return j};i.prototype.getNodeById=function(j){return this.id_mapping[j]};i.prototype.addNodeToIndex=function(j){if(j.id!=null){return this.id_mapping[j.id]=j}};i.prototype.removeNodeFromIndex=function(j){if(j.id!=null){return delete this.id_mapping[j.id]}};i.prototype.removeChildren=function(){this.iterate((function(j){return function(k){j.tree.removeNodeFromIndex(k);return true}})(this));return this.children=[]};i.prototype.getPreviousSibling=function(){var j;if(!this.parent){return null}else{j=this.parent.getChildIndex(this)-1;if(j>=0){return this.parent.children[j]}else{return null}}};i.prototype.getNextSibling=function(){var j;if(!this.parent){return null}else{j=this.parent.getChildIndex(this)+1;if(j<this.parent.children.length){return this.parent.children[j]}else{return null}}};i.prototype.getNodesByProperty=function(j,k){return this.filter(function(l){return l[j]===k})};i.prototype.filter=function(j){var k;k=[];this.iterate(function(l){if(j(l)){k.push(l)}return true});return k};i.prototype.getNextNode=function(j){var k;if(j==null){j=true}if(j&&this.hasChildren()&&this.is_open){return this.children[0]}else{if(!this.parent){return null}else{k=this.getNextSibling();if(k){return k}else{return this.parent.getNextNode(false)}}}};i.prototype.getPreviousNode=function(){var j;if(!this.parent){return null}else{j=this.getPreviousSibling();if(j){if(!j.hasChildren()||!j.is_open){return j}else{return j.getLastChild()}}else{return this.getParent()}}};i.prototype.getParent=function(){if(!this.parent){return null}else{if(!this.parent.parent){return null}else{return this.parent}}};i.prototype.getLastChild=function(){var j;if(!this.hasChildren()){return null}else{j=this.children[this.children.length-1];if(!j.hasChildren()||!j.is_open){return j}else{return j.getLastChild()}}};return i})();d.exports={Node:f,Position:g}},{}],6:[function(n,j,d){var a,b,g,h,l,m,k,f=function(o,s){for(var q in s){if(i.call(s,q)){o[q]=s[q]}}function p(){this.constructor=o}p.prototype=s.prototype;o.prototype=new p();o.__super__=s.prototype;return o},i={}.hasOwnProperty;k=n("./node");m=k.Position;a=jQuery;l=(function(){function o(p,q){this.init(p,q)}o.prototype.init=function(p,q){this.node=p;this.tree_widget=q;if(!p.element){p.element=this.tree_widget.element}return this.$element=a(p.element)};o.prototype.getUl=function(){return this.$element.children("ul:first")};o.prototype.getSpan=function(){return this.$element.children(".jqtree-element").find("span.jqtree-title")};o.prototype.getLi=function(){return this.$element};o.prototype.addDropHint=function(p){if(p===m.INSIDE){return new b(this.$element)}else{return new h(this.node,this.$element,p)}};o.prototype.select=function(){var p,q;p=this.getLi();p.addClass("jqtree-selected");p.attr("aria-selected","true");q=this.getSpan();return q.attr("tabindex",0)};o.prototype.deselect=function(){var p,q;p=this.getLi();p.removeClass("jqtree-selected");p.attr("aria-selected","false");q=this.getSpan();return q.attr("tabindex",-1)};return o})();g=(function(p){f(o,p);function o(){return o.__super__.constructor.apply(this,arguments)}o.prototype.open=function(t,u){var q,s;if(u==null){u=true}if(!this.node.is_open){this.node.is_open=true;q=this.getButton();q.removeClass("jqtree-closed");q.html("");q.append(this.tree_widget.renderer.opened_icon_element.cloneNode(false));s=(function(v){return function(){var w,x;w=v.getLi();w.removeClass("jqtree-closed");x=v.getSpan();x.attr("aria-expanded","true");if(t){t()}return v.tree_widget._triggerEvent("tree.open",{node:v.node})}})(this);if(u){return this.getUl().slideDown("fast",s)}else{this.getUl().show();return s()}}};o.prototype.close=function(t){var q,s;if(t==null){t=true}if(this.node.is_open){this.node.is_open=false;q=this.getButton();q.addClass("jqtree-closed");q.html("");q.append(this.tree_widget.renderer.closed_icon_element.cloneNode(false));s=(function(u){return function(){var v,w;v=u.getLi();v.addClass("jqtree-closed");w=u.getSpan();w.attr("aria-expanded","false");return u.tree_widget._triggerEvent("tree.close",{node:u.node})}})(this);if(t){return this.getUl().slideUp("fast",s)}else{this.getUl().hide();return s()}}};o.prototype.getButton=function(){return this.$element.children(".jqtree-element").find("a.jqtree-toggler")};o.prototype.addDropHint=function(q){if(!this.node.is_open&&q===m.INSIDE){return new b(this.$element)}else{return new h(this.node,this.$element,q)}};return o})(l);b=(function(){function o(q){var p,s;p=q.children(".jqtree-element");s=q.width()-4;this.$hint=a('<span class="jqtree-border"></span>');p.append(this.$hint);this.$hint.css({width:s,height:p.outerHeight()-4})}o.prototype.remove=function(){return this.$hint.remove()};return o})();h=(function(){function o(q,p,s){this.$element=p;this.node=q;this.$ghost=a('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"></span><span class="jqtree_common jqtree-line"></span></li>');if(s===m.AFTER){this.moveAfter()}else{if(s===m.BEFORE){this.moveBefore()}else{if(s===m.INSIDE){if(q.isFolder()&&q.is_open){this.moveInsideOpenFolder()}else{this.moveInside()}}}}}o.prototype.remove=function(){return this.$ghost.remove()};o.prototype.moveAfter=function(){return this.$element.after(this.$ghost)};o.prototype.moveBefore=function(){return this.$element.before(this.$ghost)};o.prototype.moveInsideOpenFolder=function(){return a(this.node.children[0].element).before(this.$ghost)};o.prototype.moveInside=function(){this.$element.after(this.$ghost);return this.$ghost.addClass("jqtree-inside")};return o})();j.exports={BorderDropHint:b,FolderElement:g,GhostDropHint:h,NodeElement:l}},{"./node":5}],7:[function(h,g,b){var a,i,d,f,j;j=h("./util");d=j.indexOf;f=j.isInt;a=jQuery;i=(function(){function k(l){this.tree_widget=l}k.prototype.saveState=function(){var l;l=JSON.stringify(this.getState());if(this.tree_widget.options.onSetStateFromStorage){return this.tree_widget.options.onSetStateFromStorage(l)}else{if(this.supportsLocalStorage()){return localStorage.setItem(this.getCookieName(),l)}else{if(a.cookie){a.cookie.raw=true;return a.cookie(this.getCookieName(),l,{path:"/"})}}}};k.prototype.getStateFromStorage=function(){var l;l=this._loadFromStorage();if(l){return this._parseState(l)}else{return null}};k.prototype._parseState=function(l){var m;m=a.parseJSON(l);if(m&&m.selected_node&&f(m.selected_node)){m.selected_node=[m.selected_node]}return m};k.prototype._loadFromStorage=function(){if(this.tree_widget.options.onGetStateFromStorage){return this.tree_widget.options.onGetStateFromStorage()}else{if(this.supportsLocalStorage()){return localStorage.getItem(this.getCookieName())}else{if(a.cookie){a.cookie.raw=true;return a.cookie(this.getCookieName())}else{return null}}}};k.prototype.getState=function(){var l,m;l=(function(n){return function(){var o;o=[];n.tree_widget.tree.iterate(function(p){if(p.is_open&&p.id&&p.hasChildren()){o.push(p.id)}return true});return o}})(this);m=(function(n){return function(){var o;return(function(){var p,q,s,t;s=this.tree_widget.getSelectedNodes();t=[];for(p=0,q=s.length;p<q;p++){o=s[p];t.push(o.id)}return t}).call(n)}})(this);return{open_nodes:l(),selected_node:m()}};k.prototype.setInitialState=function(m){var l;if(!m){return false}else{l=this._openInitialNodes(m.open_nodes);this._selectInitialNodes(m.selected_node);return l}};k.prototype._openInitialNodes=function(q){var l,m,n,o,p;n=false;for(l=0,m=q.length;l<m;l++){p=q[l];o=this.tree_widget.getNodeById(p);if(o){if(!o.load_on_demand){o.is_open=true}else{n=true}}}return n};k.prototype._selectInitialNodes=function(p){var l,m,n,o,q;q=0;for(l=0,m=p.length;l<m;l++){o=p[l];n=this.tree_widget.getNodeById(o);if(n){q+=1;this.tree_widget.select_node_handler.addToSelection(n)}}return q!==0};k.prototype.setInitialStateOnDemand=function(m,l){if(m){return this._setInitialStateOnDemand(m.open_nodes,m.selected_node,l)}else{return l()}};k.prototype._setInitialStateOnDemand=function(o,q,l){var m,n,p;n=0;p=(function(s){return function(){var t,u,v,w,x;v=[];for(t=0,u=o.length;t<u;t++){x=o[t];w=s.tree_widget.getNodeById(x);if(!w){v.push(x)}else{if(!w.is_loading){if(w.load_on_demand){m(w)}else{s.tree_widget._openNode(w,false)}}}}o=v;if(s._selectInitialNodes(q)){s.tree_widget._refreshElements()}if(n===0){return l()}}})(this);m=(function(s){return function(t){n+=1;return s.tree_widget._openNode(t,false,function(){n-=1;return p()})}})(this);return p()};k.prototype.getCookieName=function(){if(typeof this.tree_widget.options.saveState==="string"){return this.tree_widget.options.saveState}else{return"tree"}};k.prototype.supportsLocalStorage=function(){var l;l=function(){var m,n,o;if(typeof localStorage==="undefined"||localStorage===null){return false}else{try{o="_storage_test";sessionStorage.setItem(o,true);sessionStorage.removeItem(o)}catch(n){m=n;return false}return true}};if(this._supportsLocalStorage==null){this._supportsLocalStorage=l()}return this._supportsLocalStorage};k.prototype.getNodeIdToBeSelected=function(){var l;l=this.getStateFromStorage();if(l&&l.selected_node){return l.selected_node[0]}else{return null}};return k})();g.exports=i},{"./util":12}],8:[function(f,d,b){var a,g;a=jQuery;g=(function(){function h(i){this.tree_widget=i;this.previous_top=-1;this.is_initialized=false;this._initScrollParent()}h.prototype._initScrollParent=function(){var i,j,k;j=(function(l){return function(){var m,n,o,p,q,s;m=["overflow","overflow-y"];o=function(u){var t,v,w,x;for(v=0,w=m.length;v<w;v++){t=m[v];if((x=a.css(u,t))==="auto"||x==="scroll"){return true}}return false};if(o(l.tree_widget.$el[0])){return l.tree_widget.$el}s=l.tree_widget.$el.parents();for(p=0,q=s.length;p<q;p++){n=s[p];if(o(n)){return a(n)}}return null}})(this);k=(function(l){return function(){l.scroll_parent_top=0;return l.$scroll_parent=null}})(this);if(this.tree_widget.$el.css("position")==="fixed"){k()}i=j();if(i&&i.length&&i[0].tagName!=="HTML"){this.$scroll_parent=i;this.scroll_parent_top=this.$scroll_parent.offset().top}else{k()}return this.is_initialized=true};h.prototype._ensureInit=function(){if(!this.is_initialized){return this._initScrollParent()}};h.prototype.checkScrolling=function(){var i;this._ensureInit();i=this.tree_widget.dnd_handler.hovered_area;if(i&&i.top!==this.previous_top){this.previous_top=i.top;if(this.$scroll_parent){return this._handleScrollingWithScrollParent(i)}else{return this._handleScrollingWithDocument(i)}}};h.prototype._handleScrollingWithScrollParent=function(i){var j;j=this.scroll_parent_top+this.$scroll_parent[0].offsetHeight-i.bottom;if(j<20){this.$scroll_parent[0].scrollTop+=20;this.tree_widget.refreshHitAreas();return this.previous_top=-1}else{if((i.top-this.scroll_parent_top)<20){this.$scroll_parent[0].scrollTop-=20;this.tree_widget.refreshHitAreas();return this.previous_top=-1}}};h.prototype._handleScrollingWithDocument=function(i){var j;j=i.top-a(document).scrollTop();if(j<20){return a(document).scrollTop(a(document).scrollTop()-20)}else{if(a(window).height()-(i.bottom-a(document).scrollTop())<20){return a(document).scrollTop(a(document).scrollTop()+20)}}};h.prototype.scrollTo=function(i){var j;this._ensureInit();if(this.$scroll_parent){return this.$scroll_parent[0].scrollTop=i}else{j=this.tree_widget.$el.offset().top;return a(document).scrollTop(i+j)}};h.prototype.isScrolledIntoView=function(j){var i,k,l,m,n;this._ensureInit();i=a(j);if(this.$scroll_parent){n=0;m=this.$scroll_parent.height();l=i.offset().top-this.scroll_parent_top;k=l+i.height()}else{n=a(window).scrollTop();m=n+a(window).height();l=i.offset().top;k=l+i.height()}return(k<=m)&&(l>=n)};return h})();d.exports=g},{}],9:[function(f,d,b){var a,g;a=jQuery;g=(function(){function h(i){this.tree_widget=i;this.clear()}h.prototype.getSelectedNode=function(){var i;i=this.getSelectedNodes();if(i.length){return i[0]}else{return false}};h.prototype.getSelectedNodes=function(){var i,j,k;if(this.selected_single_node){return[this.selected_single_node]}else{k=[];for(i in this.selected_nodes){j=this.tree_widget.getNodeById(i);if(j){k.push(j)}}return k}};h.prototype.getSelectedNodesUnder=function(k){var i,j,l;if(this.selected_single_node){if(k.isParentOf(this.selected_single_node)){return[this.selected_single_node]}else{return[]}}else{l=[];for(i in this.selected_nodes){j=this.tree_widget.getNodeById(i);if(j&&k.isParentOf(j)){l.push(j)}}return l}};h.prototype.isNodeSelected=function(i){if(i.id){return this.selected_nodes[i.id]}else{if(this.selected_single_node){return this.selected_single_node.element===i.element}else{return false}}};h.prototype.clear=function(){this.selected_nodes={};return this.selected_single_node=null};h.prototype.removeFromSelection=function(j,i){if(i==null){i=false}if(!j.id){if(this.selected_single_node&&j.element===this.selected_single_node.element){return this.selected_single_node=null}}else{delete this.selected_nodes[j.id];if(i){return j.iterate((function(k){return function(l){delete k.selected_nodes[j.id];return true}})(this))}}};h.prototype.addToSelection=function(i){if(i.id){return this.selected_nodes[i.id]=true}else{return this.selected_single_node=i}};return h})();d.exports=g},{}],10:[function(f,d,b){var a,g,h=[].slice;a=jQuery;g=(function(){i.prototype.defaults={};function i(j,k){this.$el=a(j);this.options=a.extend({},this.defaults,k)}i.prototype.destroy=function(){return this._deinit()};i.prototype._init=function(){return null};i.prototype._deinit=function(){return null};i.register=function(o,p){var j,k,l,m,n;m=function(){return"simple_widget_"+p};n=function(s,q){var t;t=a.data(s,q);if(t&&(t instanceof i)){return t}else{return null}};k=function(q,x){var s,t,u,v,w,y;s=m();for(v=0,w=q.length;v<w;v++){t=q[v];u=n(t,s);if(!u){y=new o(t,x);if(!a.data(t,s)){a.data(t,s,y)}y._init()}}return q};l=function(q){var s,t,u,v,w,x;s=m();w=[];for(u=0,v=q.length;u<v;u++){t=q[u];x=n(t,s);if(x){x.destroy()}w.push(a.removeData(t,s))}return w};j=function(q,u,s){var t,v,w,x,y,z;x=null;for(v=0,w=q.length;v<w;v++){t=q[v];y=a.data(t,m());if(y&&(y instanceof i)){z=y[u];if(z&&(typeof z==="function")){x=z.apply(y,s)}}}return x};return a.fn[p]=function(){var q,s,t,u,v;t=arguments[0],s=2<=arguments.length?h.call(arguments,1):[];q=this;if(t===void 0||typeof t==="object"){v=t;return k(q,v)}else{if(typeof t==="string"&&t[0]!=="_"){u=t;if(u==="destroy"){return l(q)}else{if(u==="get_widget_class"){return o}else{return j(q,u,s)}}}}}};return i})();d.exports=g},{}],11:[function(z,q,i){var a,d,f,g,h,k,l,n,o,p,s,t,v,w,A,B,C,D,b,u,x,y,E,j=function(F,I){for(var H in I){if(m.call(I,H)){F[H]=I[H]}}function G(){this.constructor=F}G.prototype=I.prototype;F.prototype=new G();F.__super__=I.prototype;return F},m={}.hasOwnProperty;b=z("./version");x=z("./drag_and_drop_handler"),f=x.DragAndDropHandler,g=x.DragElement,n=x.HitAreasGenerator;h=z("./elements_renderer");p=z("./key_handler");s=z("./mouse.widget");A=z("./save_state_handler");B=z("./scroll_handler");C=z("./select_node_handler");D=z("./simple.widget");u=z("./node");t=u.Node;w=u.Position;E=z("./util");y=z("./node_element"),d=y.BorderDropHint,k=y.FolderElement,l=y.GhostDropHint,v=y.NodeElement;a=jQuery;o=(function(G){j(F,G);function F(){return F.__super__.constructor.apply(this,arguments)}F.prototype.BorderDropHint=d;F.prototype.DragElement=g;F.prototype.DragAndDropHandler=f;F.prototype.ElementsRenderer=h;F.prototype.GhostDropHint=l;F.prototype.HitAreasGenerator=n;F.prototype.Node=t;F.prototype.SaveStateHandler=A;F.prototype.ScrollHandler=B;F.prototype.SelectNodeHandler=C;F.prototype.defaults={autoOpen:false,saveState:false,dragAndDrop:false,selectable:true,useContextMenu:true,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,onLoadFailed:null,autoEscape:true,dataUrl:null,closedIcon:null,openedIcon:"&#x25bc;",slide:true,nodeClass:t,dataFilter:null,keyboardSupport:true,openFolderDelay:500,rtl:null,onDragMove:null,onDragStop:null,buttonLeft:true};F.prototype.toggle=function(H,I){if(I==null){I=null}if(I===null){I=this.options.slide}if(H.is_open){this.closeNode(H,I)}else{this.openNode(H,I)}return this.element};F.prototype.getTree=function(){return this.tree};F.prototype.selectNode=function(H){this._selectNode(H,false);return this.element};F.prototype._selectNode=function(K,J){var H,I,L,M;if(J==null){J=false}if(!this.select_node_handler){return}H=(function(N){return function(){if(N.options.onCanSelectNode){return N.options.selectable&&N.options.onCanSelectNode(K)}else{return N.options.selectable}}})(this);L=(function(N){return function(){var O;O=K.parent;if(O&&O.parent&&!O.is_open){return N.openNode(O,false)}}})(this);M=(function(N){return function(){if(N.options.saveState){return N.save_state_handler.saveState()}}})(this);if(!K){this._deselectCurrentNode();M();return}if(!H()){return}if(this.select_node_handler.isNodeSelected(K)){if(J){this._deselectCurrentNode();this._triggerEvent("tree.select",{node:null,previous_node:K})}}else{I=this.getSelectedNode();this._deselectCurrentNode();this.addToSelection(K);this._triggerEvent("tree.select",{node:K,deselected_node:I});L()}return M()};F.prototype.getSelectedNode=function(){if(this.select_node_handler){return this.select_node_handler.getSelectedNode()}else{return null}};F.prototype.toJson=function(){return JSON.stringify(this.tree.getData())};F.prototype.loadData=function(H,I){this._loadData(H,I);return this.element};F.prototype.loadDataFromUrl=function(H,I,J){if(a.type(H)==="string"){this._loadDataFromUrl(H,I,J)}else{this._loadDataFromUrl(null,H,I)}return this.element};F.prototype.reload=function(H){this._loadDataFromUrl(null,null,H);return this.element};F.prototype._loadDataFromUrl=function(P,M,L){var H,I,J,K,N,O;H=null;I=(function(Q){return function(){if(M){H=a(M.element)}else{H=Q.element}return H.addClass("jqtree-loading")}})(this);O=function(){if(H){return H.removeClass("jqtree-loading")}};N=function(){if(a.type(P)==="string"){P={url:P}}if(!P.method){return P.method="get"}};J=(function(Q){return function(R){O();Q._loadData(R,M);if(L&&a.isFunction(L)){return L()}}})(this);K=(function(Q){return function(){N();return a.ajax({url:P.url,data:P.data,type:P.method.toUpperCase(),cache:false,dataType:"json",success:function(S){var R;if(a.isArray(S)||typeof S==="object"){R=S}else{R=a.parseJSON(S)}if(Q.options.dataFilter){R=Q.options.dataFilter(R)}return J(R)},error:function(R){O();if(Q.options.onLoadFailed){return Q.options.onLoadFailed(R)}}})}})(this);if(!P){P=this._getDataUrlInfo(M)}I();if(!P){O()}else{if(a.isArray(P)){J(P)}else{K()}}};F.prototype._loadData=function(H,K){var I,J;if(K==null){K=null}I=(function(L){return function(){var M,N,O,P;if(L.select_node_handler){P=L.select_node_handler.getSelectedNodesUnder(K);for(M=0,N=P.length;M<N;M++){O=P[M];L.select_node_handler.removeFromSelection(O)}}return null}})(this);J=(function(L){return function(){K.loadFromData(H);K.load_on_demand=false;K.is_loading=false;return L._refreshElements(K)}})(this);if(!H){return}this._triggerEvent("tree.load_data",{tree_data:H});if(!K){this._initTree(H)}else{I();J()}if(this.isDragging()){return this.dnd_handler.refresh()}};F.prototype.getNodeById=function(H){return this.tree.getNodeById(H)};F.prototype.getNodeByName=function(H){return this.tree.getNodeByName(H)};F.prototype.getNodesByProperty=function(H,I){return this.tree.getNodesByProperty(H,I)};F.prototype.openNode=function(H,I){if(I==null){I=null}if(I===null){I=this.options.slide}this._openNode(H,I);return this.element};F.prototype._openNode=function(I,L,J){var H,K;if(L==null){L=true}H=(function(M){return function(N,P,O){var Q;Q=new k(N,M);return Q.open(O,P)}})(this);if(I.isFolder()){if(I.load_on_demand){return this._loadFolderOnDemand(I,L,J)}else{K=I.parent;while(K){if(K.parent){H(K,false,null)}K=K.parent}H(I,L,J);return this._saveState()}}};F.prototype._loadFolderOnDemand=function(H,J,I){if(J==null){J=true}H.is_loading=true;return this._loadDataFromUrl(null,H,(function(K){return function(){return K._openNode(H,J,I)}})(this))};F.prototype.closeNode=function(H,I){if(I==null){I=null}if(I===null){I=this.options.slide}if(H.isFolder()){new k(H,this).close(I);this._saveState()}return this.element};F.prototype.isDragging=function(){if(this.dnd_handler){return this.dnd_handler.is_dragging}else{return false}};F.prototype.refreshHitAreas=function(){this.dnd_handler.refresh();return this.element};F.prototype.addNodeAfter=function(J,H){var I;I=H.addAfter(J);this._refreshElements(H.parent);return I};F.prototype.addNodeBefore=function(J,H){var I;I=H.addBefore(J);this._refreshElements(H.parent);return I};F.prototype.addParentNode=function(J,H){var I;I=H.addParent(J);this._refreshElements(I.parent);return I};F.prototype.removeNode=function(H){var I;I=H.parent;if(I){this.select_node_handler.removeFromSelection(H,true);H.remove();this._refreshElements(I)}return this.element};F.prototype.appendNode=function(H,J){var I;J=J||this.tree;I=J.append(H);this._refreshElements(J);return I};F.prototype.prependNode=function(H,J){var I;if(!J){J=this.tree}I=J.prepend(H);this._refreshElements(J);return I};F.prototype.updateNode=function(J,H){var I;I=H.id&&H.id!==J.id;if(I){this.tree.removeNodeFromIndex(J)}J.setData(H);if(I){this.tree.addNodeToIndex(J)}this.renderer.renderFromNode(J);this._selectCurrentNode();return this.element};F.prototype.moveNode=function(H,K,I){var J;J=w.nameToIndex(I);this.tree.moveNode(H,K,J);this._refreshElements();return this.element};F.prototype.getStateFromStorage=function(){return this.save_state_handler.getStateFromStorage()};F.prototype.addToSelection=function(H){if(H){this.select_node_handler.addToSelection(H);this._getNodeElementForNode(H).select();this._saveState()}return this.element};F.prototype.getSelectedNodes=function(){return this.select_node_handler.getSelectedNodes()};F.prototype.isNodeSelected=function(H){return this.select_node_handler.isNodeSelected(H)};F.prototype.removeFromSelection=function(H){this.select_node_handler.removeFromSelection(H);this._getNodeElementForNode(H).deselect();this._saveState();return this.element};F.prototype.scrollToNode=function(I){var H,J;H=a(I.element);J=H.offset().top-this.$el.offset().top;this.scroll_handler.scrollTo(J);return this.element};F.prototype.getState=function(){return this.save_state_handler.getState()};F.prototype.setState=function(H){this.save_state_handler.setInitialState(H);this._refreshElements();return this.element};F.prototype.setOption=function(H,I){this.options[H]=I;return this.element};F.prototype.moveDown=function(){if(this.key_handler){this.key_handler.moveDown()}return this.element};F.prototype.moveUp=function(){if(this.key_handler){this.key_handler.moveUp()}return this.element};F.prototype.getVersion=function(){return b};F.prototype._init=function(){F.__super__._init.call(this);this.element=this.$el;this.mouse_delay=300;this.is_initialized=false;this.options.rtl=this._getRtlOption();if(!this.options.closedIcon){this.options.closedIcon=this._getDefaultClosedIcon()}this.renderer=new h(this);if(A!=null){this.save_state_handler=new A(this)}else{this.options.saveState=false}if(C!=null){this.select_node_handler=new C(this)}if(f!=null){this.dnd_handler=new f(this)}else{this.options.dragAndDrop=false}if(B!=null){this.scroll_handler=new B(this)}if((p!=null)&&(C!=null)){this.key_handler=new p(this)}this._initData();this.element.click(a.proxy(this._click,this));this.element.dblclick(a.proxy(this._dblclick,this));if(this.options.useContextMenu){return this.element.bind("contextmenu",a.proxy(this._contextmenu,this))}};F.prototype._deinit=function(){this.element.empty();this.element.unbind();if(this.key_handler){this.key_handler.deinit()}this.tree=null;return F.__super__._deinit.call(this)};F.prototype._initData=function(){if(this.options.data){return this._loadData(this.options.data)}else{return this._loadDataFromUrl(this._getDataUrlInfo())}};F.prototype._getDataUrlInfo=function(J){var H,I;H=this.options.dataUrl||this.element.data("url");I=(function(K){return function(){var L,M,N;N={url:H};if(J&&J.id){L={node:J.id};N.data=L}else{M=K._getNodeIdToBeSelected();if(M){L={selected_node:M};N.data=L}}return N}})(this);if(a.isFunction(H)){return H(J)}else{if(a.type(H)==="string"){return I()}else{return H}}};F.prototype._getNodeIdToBeSelected=function(){if(this.options.saveState){return this.save_state_handler.getNodeIdToBeSelected()}else{return null}};F.prototype._initTree=function(H){var I,J;I=(function(K){return function(){if(!K.is_initialized){K.is_initialized=true;return K._triggerEvent("tree.init")}}})(this);this.tree=new this.options.nodeClass(null,true,this.options.nodeClass);if(this.select_node_handler){this.select_node_handler.clear()}this.tree.loadFromData(H);J=this._setInitialState();this._refreshElements();if(!J){return I()}else{return this._setInitialStateOnDemand(I)}};F.prototype._setInitialState=function(){var H,I,J,K,L;L=(function(M){return function(){var N,O;if(!(M.options.saveState&&M.save_state_handler)){return[false,false]}else{O=M.save_state_handler.getStateFromStorage();if(!O){return[false,false]}else{N=M.save_state_handler.setInitialState(O);return[true,N]}}}})(this);H=(function(M){return function(){var N,O;if(M.options.autoOpen===false){return false}N=M._getAutoOpenMaxLevel();O=false;M.tree.iterate(function(Q,P){if(Q.load_on_demand){O=true;return false}else{if(!Q.hasChildren()){return false}else{Q.is_open=true;return P!==N}}});return O}})(this);K=L(),I=K[0],J=K[1];if(!I){J=H()}return J};F.prototype._setInitialStateOnDemand=function(I){var H,J;J=(function(K){return function(){var L;if(!(K.options.saveState&&K.save_state_handler)){return false}else{L=K.save_state_handler.getStateFromStorage();if(!L){return false}else{K.save_state_handler.setInitialStateOnDemand(L,I);return true}}}})(this);H=(function(K){return function(){var L,M,N,O;N=K._getAutoOpenMaxLevel();M=0;L=function(P){M+=1;return K._openNode(P,false,function(){M-=1;return O()})};O=function(){K.tree.iterate(function(Q,P){if(Q.load_on_demand){if(!Q.is_loading){L(Q)}return false}else{K._openNode(Q,false);return P!==N}});if(M===0){return I()}};return O()}})(this);if(!J()){return H()}};F.prototype._getAutoOpenMaxLevel=function(){if(this.options.autoOpen===true){return -1}else{return parseInt(this.options.autoOpen)}};F.prototype._refreshElements=function(H){if(H==null){H=null}this.renderer.render(H);return this._triggerEvent("tree.refresh")};F.prototype._click=function(I){var H,J,K;H=this._getClickTarget(I.target);if(H){if(H.type==="button"){this.toggle(H.node,this.options.slide);I.preventDefault();return I.stopPropagation()}else{if(H.type==="label"){K=H.node;J=this._triggerEvent("tree.click",{node:K,click_event:I});if(!J.isDefaultPrevented()){return this._selectNode(K,true)}}}}};F.prototype._dblclick=function(I){var H;H=this._getClickTarget(I.target);if(H&&H.type==="label"){return this._triggerEvent("tree.dblclick",{node:H.node,click_event:I})}};F.prototype._getClickTarget=function(K){var H,I,J,L;J=a(K);H=J.closest(".jqtree-toggler");if(H.length){L=this._getNode(H);if(L){return{type:"button",node:L}}}else{I=J.closest(".jqtree-element");if(I.length){L=this._getNode(I);if(L){return{type:"label",node:L}}}}return null};F.prototype._getNode=function(H){var I;I=H.closest("li.jqtree_common");if(I.length===0){return null}else{return I.data("node")}};F.prototype._getNodeElementForNode=function(H){if(H.isFolder()){return new k(H,this)}else{return new v(H,this)}};F.prototype._getNodeElement=function(H){var I;I=this._getNode(H);if(I){return this._getNodeElementForNode(I)}else{return null}};F.prototype._contextmenu=function(I){var H,J;H=a(I.target).closest("ul.jqtree-tree .jqtree-element");if(H.length){J=this._getNode(H);if(J){I.preventDefault();I.stopPropagation();this._triggerEvent("tree.contextmenu",{node:J,click_event:I});return false}}};F.prototype._saveState=function(){if(this.options.saveState){return this.save_state_handler.saveState()}};F.prototype._mouseCapture=function(H){if(this.options.dragAndDrop){return this.dnd_handler.mouseCapture(H)}else{return false}};F.prototype._mouseStart=function(H){if(this.options.dragAndDrop){return this.dnd_handler.mouseStart(H)}else{return false}};F.prototype._mouseDrag=function(H){var I;if(this.options.dragAndDrop){I=this.dnd_handler.mouseDrag(H);if(this.scroll_handler){this.scroll_handler.checkScrolling()}return I}else{return false}};F.prototype._mouseStop=function(H){if(this.options.dragAndDrop){return this.dnd_handler.mouseStop(H)}else{return false}};F.prototype._triggerEvent=function(I,J){var H;H=a.Event(I);a.extend(H,J);this.element.trigger(H);return H};F.prototype.testGenerateHitAreas=function(H){this.dnd_handler.current_item=this._getNodeElementForNode(H);this.dnd_handler.generateHitAreas();return this.dnd_handler.hit_areas};F.prototype._selectCurrentNode=function(){var H,I;H=this.getSelectedNode();if(H){I=this._getNodeElementForNode(H);if(I){return I.select()}}};F.prototype._deselectCurrentNode=function(){var H;H=this.getSelectedNode();if(H){return this.removeFromSelection(H)}};F.prototype._getDefaultClosedIcon=function(){if(this.options.rtl){return"&#x25c0;"}else{return"&#x25ba;"}};F.prototype._getRtlOption=function(){var H;if(this.options.rtl!==null){return this.options.rtl}else{H=this.element.data("rtl");if((H!=null)&&H!==false){return true}else{return false}}};return F})(s);o.getModule=function(G){var F;F={node:u,util:E};return F[G]};D.register(o,"tree")},{"./drag_and_drop_handler":1,"./elements_renderer":2,"./key_handler":3,"./mouse.widget":4,"./node":5,"./node_element":6,"./save_state_handler":7,"./scroll_handler":8,"./select_node_handler":9,"./simple.widget":10,"./util":12,"./version":13}],12:[function(j,i,b){var a,d,f,g,h;a=function(k,m){var l,n,o,p;for(l=n=0,o=k.length;n<o;l=++n){p=k[l];if(p===m){return l}}return -1};g=function(k,l){if(k.indexOf){return k.indexOf(l)}else{return a(k,l)}};h=function(k){return typeof k==="number"&&k%1===0};f=function(k){return(""+k).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};d=function(k){if(k){return"true"}else{return"false"}};i.exports={_indexOf:a,getBoolString:d,html_escape:f,indexOf:g,isInt:h}},{}],13:[function(d,b,a){b.exports="1.3.0"},{}]},{},[11]);$(function(){$(".i-link").asToolTip();$("#memberLogOff").on("click",function(){$(this).prop("disabled",true);window.location.href="/LogOff"})});function css_browser_selector(n){var p=n.toLowerCase(),i=function(b){return p.indexOf(b)>-1},d="gecko",q="webkit",l="safari",k="opera",j="mobile",f=document.documentElement,a=[(!(/opera|webtv/i.test(p))&&/msie\s(\d)/.test(p))?("ie ie"+RegExp.$1):i("firefox/2")?d+" ff2":i("firefox/3.5")?d+" ff3 ff3_5":i("firefox/3.6")?d+" ff3 ff3_6":i("firefox/3")?d+" ff3":i("gecko/")?d:i("opera")?k+(/version\/(\d+)/.test(p)?" "+k+RegExp.$1:(/opera(\s|\/)(\d+)/.test(p)?" "+k+RegExp.$2:"")):i("konqueror")?"konqueror":i("blackberry")?j+" blackberry":i("android")?j+" android":i("chrome")?q+" chrome":i("iron")?q+" iron":i("applewebkit/")?q+" "+l+(/version\/(\d+)/.test(p)?" "+l+RegExp.$1:""):i("mozilla/")?d:"",i("j2me")?j+" j2me":i("iphone")?j+" iphone":i("ipod")?j+" ipod":i("ipad")?j+" ipad":i("mac")?"mac":i("darwin")?"mac":i("webtv")?"webtv":i("win")?"win"+(i("windows nt 6.0")?" vista":""):i("freebsd")?"freebsd":(i("x11")||i("linux"))?"linux":"","js"];c=a.join(" ");f.className+=" "+c;return c}css_browser_selector(navigator.userAgent);